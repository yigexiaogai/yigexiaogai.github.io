<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Gai&#39;s blog</title>
  
  <subtitle>show my life</subtitle>
  <link href="https://yigexiaogai.github.io/atom.xml" rel="self"/>
  
  <link href="https://yigexiaogai.github.io/"/>
  <updated>2023-06-25T06:44:21.016Z</updated>
  <id>https://yigexiaogai.github.io/</id>
  
  <author>
    <name>Gai</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>学习尤克里里的第2天</title>
    <link href="https://yigexiaogai.github.io/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/"/>
    <id>https://yigexiaogai.github.io/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/</id>
    <published>2023-06-01T09:50:23.000Z</published>
    <updated>2023-06-25T06:44:21.016Z</updated>
    
    <content type="html"><![CDATA[<h1>学尤克里里的phase 2</h1><p>满打满算，学会10首歌曲了，虽然仅限简单的和弦，不包括前奏，也不能背谱，横按也完全不会，但是我相信，慢慢来，一定都能学会的，关键是要“去学习”，不要放弃！<br>在日本的这段时间，无论是学习还是生活，都告诉我了一个道理，就是坚持做某件事就一定会有收获。有些收获很明显，例如锻炼就能减肥；但也有努力的收获没有那么明显，甚至会和最初所想的背道而驰，但是它仍然是一种收获，换种角度享受就好了。加油。</p><h2 id="被动">被动</h2><p>第十一首来自于伍佰大哥的《被动》。说来惭愧，我知道伍佰是从《想见你》之后，之前没有听过他的歌曲。但说来好笑，我没有看《想见你》，伍佰的歌倒是一首不落地听了。《被动》算是数一数二喜欢的一首了吧。</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E8%A2%AB%E5%8A%A8.png" class><h2 id="忽然之间">忽然之间</h2><p>第十二首是莫文蔚的《忽然之间》。技术不行，只能学学慢歌，其实有时候这样也不是很好，容易让自己emo，但是快歌又弹不来（笑）。话说《忽然之间》也不是什么悲伤的情歌，反而算甜蜜的吧？</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E5%BF%BD%E7%84%B6%E4%B9%8B%E9%97%B4.png" class><h2 id="我怀念的">我怀念的</h2><p>第十三首是《我怀念的》，可以说这是现在我能弹的里面难度最高的歌了，和弦种类非常多，扫弦节奏很难把握，但是是可以练会的，因为不需要横按，总之加油吧，感觉应该会在这里卡挺久的，没事，磨刀不误砍柴工！加油！</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E6%88%91%E6%80%80%E5%BF%B5%E7%9A%84.png" class><h2 id="送你一朵小红花">送你一朵小红花</h2><p>第十四首是《送你一朵小红花》，也是歌手赵英俊的遗作。最近非常的emo，但是回顾了一下赵英俊的事情和视频，真的给了我很大的力量。生活十有八九不如意，但再不如意，还能有当年赵英俊面对的死亡可怕吗？赵英俊说他害怕死亡，但只害怕了一天，这样积极的态度，我真的学到很多，谢谢赵英俊，salute！</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E9%80%81%E4%BD%A0%E4%B8%80%E6%9C%B5%E5%B0%8F%E7%BA%A2%E8%8A%B1.png" class>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;学尤克里里的phase 2&lt;/h1&gt;
&lt;p&gt;满打满算，学会10首歌曲了，虽然仅限简单的和弦，不包括前奏，也不能背谱，横按也完全不会，但是我相信，慢慢来，一定都能学会的，关键是要“去学习”，不要放弃！&lt;br&gt;
在日本的这段时间，无论是学习还是生活，都告诉我了一个道理，就是坚</summary>
      
    
    
    
    <category term="小该的音乐之旅" scheme="https://yigexiaogai.github.io/categories/%E5%B0%8F%E8%AF%A5%E7%9A%84%E9%9F%B3%E4%B9%90%E4%B9%8B%E6%97%85/"/>
    
    
    <category term="尤克里里" scheme="https://yigexiaogai.github.io/tags/%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C/"/>
    
    <category term="乐谱" scheme="https://yigexiaogai.github.io/tags/%E4%B9%90%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列6</title>
    <link href="https://yigexiaogai.github.io/2023/05/26/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%976/"/>
    <id>https://yigexiaogai.github.io/2023/05/26/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%976/</id>
    <published>2023-05-26T04:41:37.000Z</published>
    <updated>2023-06-14T09:08:28.837Z</updated>
    
    <content type="html"><![CDATA[<h1>N3知识点扫盲（接5）</h1><h2 id="21-だらけ">21. だらけ</h2><p>だらけ的意思是“全是~”，“满是~”，是一个接尾词，用法是“Aだらけ”，意为“全是A”。多用在<strong>消极的表达</strong>，有一种<strong>全是A附着的感觉</strong>。在日常中经常使用。例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">このシャツはアイロンをかけていないので、しわだらけだ。（这件衬衫因为没有用熨斗烫过，满是褶皱。）</span><br><span class="line">私の日本語の手紙は間違いだらけだったが、一生懸命書いた気持ちが伝わっていった。（我的日文信虽然错误百出，但是有传达出我在用心写。）</span><br></pre></td></tr></table></figure><h2 id="22-ついでに">22. ついでに</h2><p>ついでに的意思是“顺便做某事”。在日常中也非常常用，注意ついでに前后两句必须有<strong>利用关系</strong>。例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">子供を車で駅まで送ったついでに、図書館で本を借りてきた。（开车送小孩去车站，顺便去图书馆借书。）</span><br></pre></td></tr></table></figure><h2 id="23-～てからでないと・～てからでなければ">23. ～てからでないと・～てからでなければ</h2><p>～てからでないと・～てからでなければ的意思是“若不先【做】~，就~”，句子中的表现是<strong>A～てからでないと・～てからでなければ，B</strong>，其中，B多数情况下是<strong>否定的或者消极的内容</strong>。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">準備運動をしてからでなければ、けがをするリスクが高い。（如果不先做准备运动的话，受伤的风险是很高的。）</span><br><span class="line">食べるときはよく火を通してからでないと食中毒の危険がある。（吃的时候没有烧熟的话，会有食物中毒的危险。）</span><br></pre></td></tr></table></figure><h2 id="23-たま（堪）らない">23. たま（堪）らない</h2><p>たまらない的意思是“~得不得了”，是一个形容程度的动词。たまらない的原型是“堪る”，意思是“忍耐”，约等于“がまんする”、“耐える”。意在表明情不自禁引起了某种强烈的感情。<br>接续是：1. 动词て形 2.一类形容词くて　3. 二类形容词で</p><p>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">合格通知を受け取って、嬉しくてたまらない。（收到了合格通知，高兴得不得了。）</span><br><span class="line">留学生活を始めたばかりのころは、家族に会いたくてたまらなかった。（留学生活刚刚开始的时候，想见家人想得不得了。）</span><br></pre></td></tr></table></figure><p>但是在表现他人的感觉时，不能直接用たまらない，因为在形容别人的时候是一种推测，不能使用确定的语句，这时候要在句尾加上“ようだ”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">合格通知を受け取った彼女は嬉しくてたまらないようだ。（收到了合格通知的她好像高兴得不得了。）</span><br></pre></td></tr></table></figure><ul><li>要注意的时，这种情感是<strong>情不自禁</strong>，也就是被动的，如果是主动的、自发的动词，例如思う、考える等，是不能使用たまらない的。</li></ul><h2 id="24">24.</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N3知识点扫盲（接5）&lt;/h1&gt;
&lt;h2 id=&quot;21-だらけ&quot;&gt;21. だらけ&lt;/h2&gt;
&lt;p&gt;だらけ的意思是“全是~”，“满是~”，是一个接尾词，用法是“Aだらけ”，意为“全是A”。多用在&lt;strong&gt;消极的表达&lt;/strong&gt;，有一种&lt;strong&gt;全是A附着的</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列5</title>
    <link href="https://yigexiaogai.github.io/2023/05/15/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%975/"/>
    <id>https://yigexiaogai.github.io/2023/05/15/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%975/</id>
    <published>2023-05-15T07:24:43.000Z</published>
    <updated>2023-06-01T09:47:00.041Z</updated>
    
    <content type="html"><![CDATA[<h1>N3知识点扫盲</h1><p>到N3之后，陌生的文法就大量出现了，只能说当时学的是个勾八。加油吧（笑）。</p><h2 id="1-动词-一方だ">1. 动词+一方だ</h2><p>“一方だ”表示“一直怎么样”。<br>这里的动词一般和趋势有关，比如以下几个：<br>増える、減る、上がる、下がる、強まる、弱まる、大きくなる、小さくなる</p><ul><li>増える一方だ。（一直在增长。）<br>如果用数学说明的话，就是单调增长，如果整体增长，但中间有下降的话，这么使用会很奇怪。</li></ul><h2 id="2-（な・の）＋うえ（に）">2. （な・の）＋うえ（に）</h2><p>Aうえに、B意思是“不但A，而且B”，这里的A和B需要是同一种情态的，例如都是积极的，或者都是消极的。这个用法在生活中很常见，而且很容易理解，但是常常被忽略，因为我们常常习惯用副词——“さらに”来表达递进的情绪，而不是使用文法。</p><p>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">この店の刺身は安いうえに、美味しい。（这家店的刺身不仅便宜，而且好吃。）</span><br><span class="line">この店の刺身は高いうえに、美味しくない。（这家店的刺身不仅贵，而且不好吃。）</span><br></pre></td></tr></table></figure><h2 id="3-（普通形な・の）＋うちに（内に）">3. （普通形な・の）＋うちに（内に）</h2><p>うちに的意思是“乘着某一段时间去做某事”的文法。其实如果看汉字就好理解了，<strong>うち</strong> 的汉字是<strong>内</strong>，所以就是在“某个时段内”如何如何。</p><p>还有一种引申的意思是，“乘着A的时候，做B事”，这里的B事件包含有一定的意外性。</p><p>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">学生のうちに、旅行をもっともっとします。（乘着还是学生的时候，要多多旅行。）</span><br><span class="line">先生の動画を見ているうちに、寝てしまいました。（在看老师的视频的时候，不小心睡着了。）</span><br></pre></td></tr></table></figure><h2 id="4-おかげ（御陰）">4. おかげ（御陰）</h2><p>おかげ在口语中常常会听到，是“多亏了”的意思，使用场景主要有两种，一种是对某人表达感谢，一种是对某人<strong>阴阳怪气</strong> （笑）。口语中常常听到“XXXのおかげで”。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生のおかげで、合格しました！（多亏了老师，我合格了！）</span><br></pre></td></tr></table></figure><p>但是，这种最基础的用法谁都知道，来点不一样的。在文法中，其实有“おかげで”和“おかげか”的区别，前者接续的是 <strong>确定</strong> 的事情，后者接续的 <strong>不确定</strong> 的事情，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">池の水を抜いて清掃したおかげか、水鳥がたくさん来るようになった。（可能多亏了清理排空池塘的水，水鸟来的变多了。）</span><br></pre></td></tr></table></figure><p>おかげ在句尾会以 <strong>おかげだ</strong>　的形式结尾；而在句首则会常常以 <strong>おかげさまで</strong>的形式开头，省略主语“您”。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">おかげさま（御陰様）で、傷が治った。（多亏了您，我的伤好了。）</span><br></pre></td></tr></table></figure><h2 id="5-（辞書形・ない・名詞の）恐れがある">5. （辞書形・ない・名詞の）恐れがある</h2><p>意思是“恐怕有……”的意思。很好理解。其实际意思和“かもしれない”相似，但是语气更加的书面和正式，通常会用在 <strong>新闻播报</strong> 之类的地方。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">この地震による津波のおそれがある。（由于这个地震恐怕会有海啸。）</span><br></pre></td></tr></table></figure><h2 id="6-かける、かけ">6. かける、かけ</h2><p>かける是一个复合类的动词，它表示“某动作刚开始做”，“某动作还没完成”，“某动作进行到一半”等等。举几个简单的小例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">食べかける。（刚刚开吃/吃到一半）</span><br><span class="line">遊びかける。（刚刚开玩/玩到一半）</span><br><span class="line">たべかけのリンゴ。（吃到一半的苹果）</span><br></pre></td></tr></table></figure><p>在文法中，常有以下这种用法：<br>Aかける、B   刚刚开始做A，就B。<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">彼女は何か言いかけて、下が向いてしまった。（她刚要说什么，就低下了头。）</span><br></pre></td></tr></table></figure><h2 id="7-（動詞ます形去ます・名詞）＋がち">7. （動詞ます形去ます・名詞）＋がち</h2><p>がち是一个复合接续词，表示“经常”的意思，表示某种倾向。“Aがち”的意思就是“经常A”，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">忘れがち（经常忘记）==よく忘れる</span><br><span class="line">休みがち（经常休息）==よく休む</span><br><span class="line">病気がち（经常生病）==よく病気になる</span><br></pre></td></tr></table></figure><p><strong>接续了がち的词，如果是名词+がち，则继续看作一个名词ます，所以后面可以加の接续名词；如果是动词去ます+がち，则看作一个二类形容词，可以加な接续名词。</strong><br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">最近病気がちの祖母（そぼ）のことがとても心配です。（我总是很担心最近经常生病的祖母的事情。）</span><br><span class="line">この映画はありがちなストーリーでおもしろくなかった。（这部电影是常有的套路一点都不有趣。）</span><br></pre></td></tr></table></figure><h2 id="8-AからBにかけて">8. ＡからＢにかけて</h2><p>ＡからＢにかけて表示的是“从A到B”，主要是表示<strong>时间范围</strong>，和以前学过的～から～まで用法类似，但是不同的地方在于：</p><ul><li>～から～まで表示的是具体的时间点，是非常确定的，例如：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">九時半から十一時まで授業がある。（从9点半到11点有课。）</span><br></pre></td></tr></table></figure><ul><li>～から～にかけて表示的是模糊的时间点，这个和に的用法很有关系，例如：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">朝十時ごろから正午にかけて雨が降った。（从早上10点到中午会下雨。）</span><br></pre></td></tr></table></figure><ul><li>下雨是没有具体几点几分开始和几点几分结束，所以必须使用～から～にかけて</li></ul><h2 id="9-から【に】は">9. から【に】は</h2><p>からには的意思是“既然……”，中间的に可以省略。<br>一般的用法是：“Aからには、B”，这里的B，是说话人充满了决心、决意要做的事情。<br>还有两个意思类似的词语，<strong>“うえは”、“以上は”</strong>，接续也完全一致，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">仕事を引き受けたからには・うえは・以上は、最後まで責任を持って、やらなければならない。（既然决定接受了这份工作，知道最后也要负起责任，不完成是不行的！）</span><br></pre></td></tr></table></figure><h2 id="10-かわりに">10. かわりに</h2><p>かわりに的汉字是“代わりに”，所以其意思是代替，代价，主要的用法也围绕“代替和代价”。</p><ol><li>代替</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今日は田中先生のかわりに私が授業します。（今天由我来代替田中老师上课。）</span><br></pre></td></tr></table></figure><ol start="2"><li>反面</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ここは家賃が安いかわりに交通が不便です。（这里虽然房租很便宜但是另一方面交通很不便利。）</span><br></pre></td></tr></table></figure><ol start="3"><li>代价</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">引っ越しを手伝ってもらったかわりに食事をごちそうした。（作为他们帮助我搬家的代价，我请他们吃饭。）</span><br></pre></td></tr></table></figure><h2 id="11-のことだから・のことだ">11. のことだから・のことだ</h2><p>のことだから的意思是“因为是……”，主要的使用方法是： Aのことだから，B。   其中B是对A的推测。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">やさしい前田さんのことだから、お願いすれば手伝ってくれるはずです。（因为是温柔的前田，拜托他的话应该会提供帮助的吧。）</span><br></pre></td></tr></table></figure><h2 id="12-最中に">12. 最中に</h2><p>最中に的意思是“正好在……”，“正在……的时候”。而且是做这个事情最为高潮的时候。例如 <strong>映画の最中に</strong>　就是说看电影到高潮处，正兴奋劲儿呢，如果是电影刚刚开始，那可能算不上“最中に”。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">パーティーの最中に悲しいニュースが入ってきました。（正好在派对中传来了悲伤的消息。）</span><br></pre></td></tr></table></figure><h2 id="13-ことになっている">13. ことになっている</h2><p>ことになっている的意思是“按照规定”，“有决定”。なる和する天生一对，なる是外部决定，也就是<strong>环境或者多人决定</strong>，する是内部决定，也就是<strong>自己决定</strong>。所以显然也有<strong>ことにしている</strong>的文法。</p><p>ことになっている的“决定”的事情是在过去决定的，“ている”则表示现在处于被决定的状况，常常用来表达“规定”、“规则”、“预定”的事情，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">明日、秋葉原駅で友達とあうことになっています。（明天（预定）和朋友在秋叶原车站见面。）</span><br><span class="line">ここではタバコを吸ってはいけないことになっています。（这里（规定）不能吸烟。）</span><br></pre></td></tr></table></figure><h2 id="14-ことにしている">14. ことにしている</h2><p>正如上面所说，ことにしている是自己决定的某事，这件事情是在以前就决定的，并且现在还在坚持做，例如以前决定了每天运动，现在仍然在恪守：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">朝で毎日運動することにしています。（每天早上都坚持跑步。）</span><br></pre></td></tr></table></figure><h2 id="15-ことになる用法2">15. ことになる用法2</h2><p>以前讲过ことになる是外部决定的事情，这一次，我们要讲一下引申的意思，ことになる还可以表达“也就是说”的意思——一件事情发展理所应当会变成某种样子。实际上这也是一种外部决定，即由A推导到B，B就是被A所决定了。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一日１００グラム痩（や）せれば、一か月で３キロ瘦せることになります。（每天瘦100克的话，一个月就能瘦3公斤。）</span><br></pre></td></tr></table></figure><h2 id="16-～さえ＋条件形＋ば">16. ～さえ＋条件形＋ば</h2><p>～さえ～ば的意思是“只要就”，用法有非常的多啊，有以下这么几种：</p><ol><li>名词+さえ+条件形</li><li>动词ます形去ます+さえ+条件形</li><li>动词て形+さえ+动词条件形</li><li>一类形容词い变く+さえ+あれば</li><li>二类形容词+で＋さえ+あれば</li></ol><p>有这么多使用方法，我们结合一下具体例子来说明吧，我们可以设定两个句子，A&amp;B:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A: あなたがいてくれる。（你来了）</span><br><span class="line">B: 他に何も要らない。（其他都不用了）</span><br></pre></td></tr></table></figure><p>我们要让句子变成，“<strong>只要</strong>你来了，其他<strong>就</strong>都不用了。”那我们根据文法，怎么变呢？</p><ol><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あなたさえいてくれれば、他に何も要らない。</span><br></pre></td></tr></table></figure><ol start="2"><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あなたがいてくれさえすれば、他に何も要らない。</span><br></pre></td></tr></table></figure><ol start="3"><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あなたがいてさえくれれば、他に何も要らない。</span><br></pre></td></tr></table></figure><p>当然，最常用的还是第一种，直接加在名词后面是最为简单的做法。<br>4和5我们单独用例句来说明：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">値段がやすくさえあれば、私は買います。（只要价格便宜的话，我就买。）</span><br><span class="line">交通が便利でさえあれば、引っ越します。（只要交通便利的话，我就搬家。）</span><br></pre></td></tr></table></figure><p>用法总体来说还是比较复杂的，需要牢记！</p><h2 id="17-だけ">17. だけ</h2><p>だけ的本意是“只有”，表达一种范围上的限定，其引申出来的意思就有“尽可能”、“要/想/能~多少就~多少”。だけ前面接续动词或者一二类形容词，后接名词时加の，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">持てるだけ持って行ってください。（想拿多少就拿多少走吧。）</span><br><span class="line">給料は欲しいだけあげます。（你想要多少工资就给你多少工资。）</span><br><span class="line">今日はできるだけ早く帰りたいです。（今天想尽可能早的回家。）</span><br></pre></td></tr></table></figure><h2 id="18-～たところ">18.～たところ</h2><p>～たところ的意思是“做~的结果”，在文法中通常表示为“Aたところ，B”，通常B的部分表示的<strong>意外的、超出意料外的的结果，如果是自己意志的动作，是不可以用这个文法的。</strong> 看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生に大学卒業後の進路を相談したところ、先生が就職口を紹介してくれた。（和老师商量了大学毕业后的去向之后，老师给我介绍了工作的地方。）</span><br></pre></td></tr></table></figure><p>那看一下这句怎么样呢？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生に大学卒業後の進路を相談したところ、私は大学院に進学することにした。（和老师商量了大学毕业后的去向之后，我决定进修大学院）×</span><br></pre></td></tr></table></figure><ul><li>这句话是不可以使用～たところ这个文法的，因为B的部分是我决定要进修大学院，是我本人的意志。在这里更适合用的是“～した後”。</li></ul><h2 id="19-～とたん（途端）「に」">19. ～とたん（途端）「に」</h2><p>～とたん的意思是“刚~就~”，在文法中 通常表示为“A～とたん，B”，に可以添加也可以省略。意思是“刚做完了A，B就发生了”。要注意的是，A和B中间，常常包含一种因果关系；B和上一条文法中的一样，要是<strong>预想外的，意外的结果</strong>， 看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">部屋の窓を開けたとたん、飼っていた小鳥が飛んで行ってしまった。（刚一打开房间的窗，养着的小鸟就飞走了。）</span><br></pre></td></tr></table></figure><h2 id="20-～たび（度）「に」">20. ～たび（度）「に」</h2><p>～たびに的意思是“每次，每回”，文法中以“Aたびに，B”的形式表现，意思是“每次做A的时候，都会发生B”。たびに其实可以等同于“～時に、いつも～”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">おばあちゃんと会うたびに、お菓子をくれます。（每次和祖母见面的时候，她都会给我糖果。）</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N3知识点扫盲&lt;/h1&gt;
&lt;p&gt;到N3之后，陌生的文法就大量出现了，只能说当时学的是个勾八。加油吧（笑）。&lt;/p&gt;
&lt;h2 id=&quot;1-动词-一方だ&quot;&gt;1. 动词+一方だ&lt;/h2&gt;
&lt;p&gt;“一方だ”表示“一直怎么样”。&lt;br&gt;
这里的动词一般和趋势有关，比如以下几个：&lt;b</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列4</title>
    <link href="https://yigexiaogai.github.io/2023/04/30/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%974/"/>
    <id>https://yigexiaogai.github.io/2023/04/30/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%974/</id>
    <published>2023-04-30T07:50:25.000Z</published>
    <updated>2023-05-08T06:43:33.435Z</updated>
    
    <content type="html"><![CDATA[<h1>N4知识点扫盲（接3）</h1><p>我服了，N4这么多知识点缺口是吧，基础不牢地动山摇，怪不得我日语这么差，原来是我眼高手低。</p><h2 id="21-～と（条件）">21. ～と（条件）</h2><p>と表示“一……就……”、“结果”、“的话”。在题目里面常常和たら、なら、動詞ば形等表示“的话”的词比较选择。<br>と作为条件使用时，给人感觉一种和理性、规则相关。接续时要注意普通型正常接，名词和动词要使用终止形（だ）。<br>主要有四种情况会用：</p><ol><li>恒常条件（最常用）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">春になると桜が咲きます。（春天到了樱花就开了。）</span><br><span class="line">彼はボーナスをもらうと全部洋服を使っています。（他一拿到奖金就全部用来买衣服了。）</span><br></pre></td></tr></table></figure><ol start="2"><li>假定条件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">追加で5000円払うと特等席で見られます。（追加支付5000元就可以在特等席上观看。）</span><br><span class="line">美人やイケメンだと得することが多いです。（美女帅哥总是能够受欢迎。（悲））</span><br></pre></td></tr></table></figure><ol start="3"><li>发现</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">桃を切ると中から可愛い赤ちゃんが出てきました。（一切开桃子中间就出来一个可爱的婴儿。（桃太郎））</span><br></pre></td></tr></table></figure><ol start="4"><li>继续动作（较少见）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生が教室に入ると一枚の写真を学生たちを見せた。（老师一进教室就给学生们看了一张照片。）</span><br></pre></td></tr></table></figure><p>上面也提到，使用と一般都是比较理性、客观的场合，所以表达意向、意志、希望、要求的时候是不能用的哦。</p><h2 id="22-らしい（传闻·推量）">22.らしい（传闻·推量）</h2><p>らしい是“听说”、“好像”的意思，可以放在句尾，也可以放在名词后面。<br>らしい一般是用在说话人对某一个事实不确定，不肯定的时候。如果是医生或者律师这类人，在对事情下判断时，不能使用らしい。<br>传闻的用法，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あの芸能人は浮気しているらしい。（那个艺人好像听说出轨了。）</span><br></pre></td></tr></table></figure><p>推测的用法，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">お客さんは並んでいる。この店は人気があるらしい。（客人都在排队。这个店好像很有人气。）</span><br></pre></td></tr></table></figure><p>如果发言带有一定的责任，则不能使用らしい，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">緊張型頭痛（×　らしい／〇　のよう）ですから、筋弛緩薬を処方します。（好像是紧张性头疼，给你开了肌肉松弛剂。）</span><br></pre></td></tr></table></figure><h2 id="23-らしい（典型）">23.らしい（典型）</h2><p>名词接らしい表达的是有什么什么的风格，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">日本人らしい（这很日本人）</span><br><span class="line">日本らしい（这很日本）</span><br></pre></td></tr></table></figure><p>らしい在这里更像是一个一类形容词，所以它也有否定形，名词形。<br><strong>否定形：らしくない</strong> <strong>名词形：らしさ</strong></p><p>有一个类似的表现： <strong>っぽい</strong><br>但是需要注意区分这两者，我们来看：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">①　ＡはＢっぽいです。</span><br><span class="line">②　ＡはＢらしいです。</span><br></pre></td></tr></table></figure><p>两者都是A有B的风格，但是对于第一句来说，A≠B，即A和B本质是不同的东西，但A表现出了B的属性，中文举个例：<br><strong>现在的成年人都挺小孩子气的</strong><br>对于第二句来说，A=B，A拥有的就是B的属性，还是中文举个例：<br><strong>幼儿园的小朋友都挺孩子气的</strong></p><p>理解了吧~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N4知识点扫盲（接3）&lt;/h1&gt;
&lt;p&gt;我服了，N4这么多知识点缺口是吧，基础不牢地动山摇，怪不得我日语这么差，原来是我眼高手低。&lt;/p&gt;
&lt;h2 id=&quot;21-～と（条件）&quot;&gt;21. ～と（条件）&lt;/h2&gt;
&lt;p&gt;と表示“一……就……”、“结果”、“的话”。在题目里面常</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列-围棋篇</title>
    <link href="https://yigexiaogai.github.io/2023/04/28/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%97-%E5%9B%B4%E6%A3%8B%E7%AF%87/"/>
    <id>https://yigexiaogai.github.io/2023/04/28/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%97-%E5%9B%B4%E6%A3%8B%E7%AF%87/</id>
    <published>2023-04-28T09:52:31.000Z</published>
    <updated>2023-04-30T07:48:42.665Z</updated>
    
    <content type="html"><![CDATA[<h1>围棋中的日语术语</h1><p>最近加了筑波大学的围棋社，部长是个漂亮的小姐姐（虽然按照年龄来说是妹妹），然后她说特别想学中文，还给我发了一个日语的围棋术语。可能是她每次见我指指点点的时候都真的只能“指指点点”，一句屁话说不出来，所以给我分享了一些实用的术语。真是泰裤辣！<br>这是字典的网页链接：<a href="https://kotobank.jp/jazhword/%E5%9B%B2%E7%A2%81">围棋中日辞书</a></p><ul><li>注：该版本围棋词典中对中国规则有描写勘误，已做更正。<br>以下为知识点：</li></ul><h2 id="1-围棋的起源">1. 围棋的起源</h2><p>日语：<br>囲碁“围棋wéiqí”は，“弈yì”“坐隐zuòyǐn”“手谈shǒután”“烂柯lànkē”“乌鹭wūlù”とも称される．尭舜(ぎようしゆん)の時代が起源という言い伝えがあり，春秋以降の文字記録に登場する．古代には，易経や天文学に用いられていたことが明らかになりつつある．古来，“琴棋书画qín qí shū huà”という呼称で音楽や書画とともに文人の嗜(たしな)みの一つとされ，日本へは唐代に伝わった．</p><p>中文：<br>围棋wéiqí &quot;也被称为 “弈yì”、“坐隐zuòyǐn”、“手谈shǒután” 也叫 “烂柯lànkē”、“乌鹭wūlù”。 据说它起源于尧舜时期，从春秋时期起就出现在书面记录中。 越来越清楚的是，在古代，它被用于《易经》和天文学。 自古以来，它被称为 “琴棋书画qín qí shū huà”，与音乐和书法一样，是文人的消遣方式之一，并在唐朝时传入日本。</p><h2 id="石の数え方の日中両国の違い">石の数え方の日中両国の違い</h2><p>日本では白・黒互いの石で囲んだ地を比較し，多いほうが勝ち．中国では白黒それぞれの盤面に生きて残っている石の数と囲んだ地の数の合計で比較するので，ダメづめは最後まで互いに置く．基本的に日中双方の結果はほぼ同じになるが，中国ではあげ石（取った相手の石）は，相手の囲った地をうめるのには使わず，相手の碁笥(ごけ)に返す．終局後の計算は白黒数えやすいほうのどちらかを計算して勝負を判断する．したがって盤面の目の総数は361であるから，180.5が半分の数，181あれば勝ち．コミ7目半（中国では2と4分の3と表現）がある場合は，黒184なら半目負けで黒185あれば半目勝ち．186あれば3目勝ち．白は176なら半目負け，177なら半目勝ち．</p><p>中文：<br>在日本，比较被黑棋和白棋包围的土地数量，拥有最多土地的一方获胜。 在中国，比较的依据是黑棋和白棋在棋盘上剩余的棋子数与被包围的土地数之和，因此，在游戏结束前，双方都会收完最后的子。 日本和中国的结果基本相同，但在中国，对方的棋子会被送回对方的地盘，而不是用来填补被对方棋子包围的地盘。 对局结束后，通过计算黑棋和白棋哪个更容易计算来决定胜负。 因此，棋盘上的棋子总数是361个，所以180.5是一半的数目，181是赢家。 如果有七个半来回（中文表述为三又四分之三），黑184输半分，黑185赢半分，186赢三分，白176输半分。 如果是176，白方就输半分，如果是177，就赢半分。</p><h2 id="一般用语">一般用语</h2><p>碁石（ごいし）｜围棋<br>白｜白棋<br>黒｜黑棋<br>白石（しろいし）｜白子<br>黒石（くろいし）｜黑子<br>碁盤（ごばん）｜棋盘<br>碁笥（ごけ）｜棋盒<br>プロ棋士（きし）｜职业棋手<br>アマチュア棋士（きし）｜业余棋手<br>置き碁（おきご）｜让子棋<br>互い先（たがいせん）｜对子棋<br>隅（すみ）｜角<br>左隅（ひだりすみ）｜左角<br>天元（てんげん）｜天元<br>星（ほし）｜星位<br>中央（ちゅうおう）｜中腹<br>左辺（さへん）｜左边<br>地（じ）｜实空<br>定石（じょうせき）｜定式<br>先番（せんばん）｜先下<br>布石（ふせき）｜布局<br>早碁（はやご）｜快棋<br>目（め）｜真眼<br>欠け目（かけめ）｜假眼<br>死に石（しにいし）｜死棋<br>生き石（いきいし）｜活棋<br>良い形（よいかたち）｜好形<br>悪い形（わるいかたち）｜坏形<br>捨て石（すていし）｜弃子<br>封じ手（ふうじて）｜封局<br>あげ石｜提子<br>大模様（おおもよう）｜大阵势</p><p>##　石の動きの用語（下棋用语）<br>碁を打つ（ごをうつ）｜下棋<br><strong>アタリ｜叫吃</strong><br>両アタリ（りょうアタリ）｜双打<br>一間トビ（いっけんトビ）｜一间跳<br>二間トビ（にけんトビ）｜二间跳<br>ケイマ｜小飞<br>大ゲイマ｜大飞<br>ツナギ｜接粘<br>コスミ｜尖<br>キリチガイ｜断<br>ノビ｜长<br>ハネ｜扳<br>カカリ｜挂<br>ヒラキ｜拆<br>ウチコミ｜打入<br>ノゾキ｜刺走<br>シチョウ｜征<br>シチョウアタリ｜引征<br><strong>コウ｜劫</strong><br>コウアラソイ｜劫争<br>本コウ｜紧劫<br>ポンヌキ｜提清开花<br><strong>ダメ｜气</strong><br>ダメヅメ｜紧气<br>手入れ｜收气<br><strong>セキ｜双活</strong><br>投了（とうりょう）｜认输<br>中押し（ちゅうおし）｜中盘胜<br>黒3目勝ち｜黑赢了三目<br>白半目負け｜白输了半目</p><p>感觉和念经一样，好难记。。。（😓</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;围棋中的日语术语&lt;/h1&gt;
&lt;p&gt;最近加了筑波大学的围棋社，部长是个漂亮的小姐姐（虽然按照年龄来说是妹妹），然后她说特别想学中文，还给我发了一个日语的围棋术语。可能是她每次见我指指点点的时候都真的只能“指指点点”，一句屁话说不出来，所以给我分享了一些实用的术语。真是泰裤辣</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
    <category term="围棋" scheme="https://yigexiaogai.github.io/tags/%E5%9B%B4%E6%A3%8B/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列3</title>
    <link href="https://yigexiaogai.github.io/2023/04/24/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%973/"/>
    <id>https://yigexiaogai.github.io/2023/04/24/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%973/</id>
    <published>2023-04-24T08:58:45.000Z</published>
    <updated>2023-04-28T09:50:07.237Z</updated>
    
    <content type="html"><![CDATA[<h1>N4知识点扫盲（接2）</h1><h2 id="11-～て＋授受动词">11.～て＋授受动词</h2><h3 id="～てあげます">～てあげます</h3><p>施惠者Aは受惠者Bに　动词て形 あげます。意为“A帮B做什么什么事。”<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私は田中さんに荷物を持ってあげました。（我帮田中拿行李。）</span><br></pre></td></tr></table></figure><p>要注意的事，あげます的施惠者一般是己方成员，同时，不能在面对对方的时候说，因为这样会感觉强行对面感谢自己的感觉。</p><p>###　～てもらいます<br>受惠者Aは施惠者Bに　动词て形 もらいます。意为“A请B帮忙做什么什么事。”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私は田中さんに日本語を勉強してもらいます。（我请田中教我日语）</span><br></pre></td></tr></table></figure><p>常常会用到“拜托”式的语句，此时要把もらいます说成もらえませんか，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">荷物を持ってもらえませんか。（可以帮我拿行李嘛？）</span><br></pre></td></tr></table></figure><p>###　～てくれます<br>施惠者Aは受惠者B（己方成员）に　动词て形 あげます。意为“A帮B做什么什么事。”<br>用法上很类似あげます，但是要注意此时A不能是“己方成员”，B需要是己方成员。</p><h3 id="～やります">～やります</h3><p>施惠者A（地位高）は受惠者B（地位低）に　动词て形 あげます。意为“A帮B做什么什么事。”</p><h2 id="12-～いただきます">12. ～いただきます</h2><p>～いただきます是～もらいます的自谦语，所以用法上和后者一样。主要注意的是它的可能型：～いただけます，经常用。<br>下面给一个表现客气程度的序列，从上自下越来越客气：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">傘を貸してもらえる？</span><br><span class="line">傘を貸してもらえない？</span><br><span class="line">傘を貸してもらえますか？</span><br><span class="line">傘を貸してもらえませんか？</span><br><span class="line">傘を貸していただけますか？</span><br><span class="line">傘を貸していただけませんか？</span><br><span class="line">傘を貸していただけないでしょうか？</span><br></pre></td></tr></table></figure><h2 id="13-～ところです">13. ～ところです</h2><p>～ところです根据前面接续的动词时态可以表达三个意思：</p><ol><li>正要做什么</li><li>正在做什么</li><li>刚刚做完什么</li></ol><p>给出例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ご飯を食べるところです。（正要去吃饭。）</span><br><span class="line">ご飯を食べているところです。（正在吃饭。）</span><br><span class="line">ご飯を食べたところです。（刚吃过饭）== ご飯を食べたばかりです。</span><br></pre></td></tr></table></figure><p>其实有一个好记忆的方法，ところ的本意是“点”，“地方”。所以加上动词的意思就是“到了做某事的某个点（阶段）”。</p><ul><li>那么，普通型自然是还没做的事情，所以是“正要去做”</li><li>现在时自然是“正在做”</li><li>过去时自然是“刚刚在做”</li></ul><h2 id="14-～ようにします">14. ～ようにします</h2><p>～ようにします的意思是尽量做某事。看下面两个例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">毎日ジョギングにします。（每天慢跑。）</span><br><span class="line">毎日ジョギングにするようにします。（每天尽量慢跑。）</span><br></pre></td></tr></table></figure><ul><li>上面那句话就是很断言，很确定</li><li>下面这句话就是给自己留有余地，如果有一天特别累，就不会跑步，也是有可能的。</li></ul><p>如果变成习惯之后，常用的表达方法是 <strong>～ようにしています</strong>，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">毎日ジョギングにするようにしています。（每天（尽量）坚持慢跑。）</span><br></pre></td></tr></table></figure><p>如果是尽量请您做就会变成 <strong>～ようにしてください。</strong></p><h2 id="15-～（は）-ほど">15. ～（は）　ほど</h2><p>～は　ほど的文型是“不像什么什么”，“不如什么什么”的意思，直观的意思是“没有什么什么的程度”。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">絵画が好きですが、兄ほど上手じゃありません。（虽然喜欢画画，但是不如哥哥那么会画画。）</span><br></pre></td></tr></table></figure><h2 id="16-～ように言います">16. ～ように言います</h2><p>～ように言います是在传达别人说的“要求做的话”时使用的句型。一般来说，转述的话都可以用 <strong>～と言います</strong> 来表达，所以当然 <strong>～と言います可以替换 ～ように言います</strong>，只不过，如果转述的话涉及到要求，这个文型在生活中还是很常见的。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">母は弟にリンゴを買ってくるように言いました。（妈妈对弟弟说去买苹果。）</span><br></pre></td></tr></table></figure><h2 id="17-～がります（～がる）">17. ～がります（～がる）</h2><p>～がります是一个很有趣的语法，它的意思是“有~的样子”，“想要~的样子”。<br>“～たい”大家肯定都了解，它表达“我”想要做什么事情，但是，如果你要说 <strong>“别人想要做什么”</strong>，就不能使用“～たい”。因为这是别人内心的想法，所谓“子非鱼”，你这么能 <strong>确定</strong>别人内心真正的所想呢？这个时候，动词“～たい”型就要变成“～たがる”型。先看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">僕は彼女を欲しいです。（我想要女朋友）</span><br><span class="line">僕の兄は彼女を欲しがっています。（我的哥哥想要女朋友）</span><br><span class="line"></span><br><span class="line">僕はご飯を食べたいです。（我想吃饭）</span><br><span class="line">僕の兄はご飯をたべたがっています。（我的哥哥想要吃饭）</span><br></pre></td></tr></table></figure><p>现在我们来讲一下这个句子是怎么变的。首先，第一人称下表达“想要做”有两种句型，1.～ほしい　2.～たい<br>对于非第一人称来说，这两种方法要使用～たがる，也就会变成，<strong>1.～ほしがる　2.～たがる</strong><br>而 <strong>别人的心理</strong>显然是一种状态，因此，常常要使用到表示状态的“～います”，也就变成了<strong>1.～ほしがっている　2.～たがっている</strong></p><p>最后我们就得到了如上的句型。总结一下就是：<br><strong>～たい去い＋がっています</strong>、 <strong>～ほしい去い＋がっています</strong></p><h2 id="18-动词变形大全">18.动词变形大全</h2><p>找到了一个非常好用的网页小程序，地址在这，<a href="https://jp-verb.xefan.com/#/">点这点这！</a><br>不过这里面少了两个变形规则，一个是<strong>禁止形</strong>，一个是<strong>使役被动形</strong>。望周知。</p><h2 id="19-尊敬语">19.尊敬语</h2><p><strong>尊敬语一定是使用在发生在对方身上的动作</strong><br>日语中表达尊敬主要有四种方式：</p><ol><li>被动表尊敬</li><li>お＋ます形去ます＋になります／ご＋动作性名词＋になります</li><li>お＋ます形去ます＋です／ご＋动作性名词＋です</li><li>尊敬語</li></ol><p>除了第四个变化是要死记硬背的，下面给出三类动词的前三种变化表格：</p><table><thead><tr><th></th><th>飲む</th><th>食べる</th><th>来る</th><th>勉強する</th></tr></thead><tbody><tr><td>1</td><td>飲まれる</td><td>食べられる</td><td>来られる</td><td>勉強される</td></tr><tr><td>2</td><td>お飲みになる</td><td>お食べになる</td><td>ー</td><td>ごべんきょうになる</td></tr><tr><td>3</td><td>お飲みです</td><td>お食べです</td><td>ー</td><td>ご勉強です</td></tr></tbody></table><p>对于第四类，我们要特别记住下面这个表格：</p><table><thead><tr><th>普通型</th><th>尊敬型</th></tr></thead><tbody><tr><td>する</td><td>なさる</td></tr><tr><td>言う</td><td>おっしゃる</td></tr><tr><td>行く</td><td>いらっしゃる</td></tr><tr><td>来る</td><td>いらっしゃる</td></tr><tr><td>いる</td><td>いらっしゃる</td></tr><tr><td>くれる</td><td>くださる</td></tr><tr><td>食べる</td><td>召し上がる</td></tr><tr><td>飲む</td><td>召し上がる</td></tr><tr><td>見る</td><td>ご覧になる</td></tr><tr><td>読む</td><td>ご覧になる</td></tr><tr><td>知る</td><td>ご存じです</td></tr><tr><td>座る</td><td>お掛けになる</td></tr><tr><td>与える</td><td>くださる</td></tr><tr><td>思う</td><td>思し召す</td></tr></tbody></table><ul><li>注意，在变成ます形的时候，なさる、おっしゃる、いらっしゃる、くださる要音便，不是“ります”，而是“います”。</li></ul><h2 id="20-谦让语">20.谦让语</h2><p><strong>谦让语一定是使用在己方发生的动作</strong><br>日语中表达谦虚主要有三大类：</p><ol><li>お＋ます形去ます＋します／ご＋动作性名词＋します</li><li>使役て形いただく・いただきませんか</li><li>自谦语</li></ol><ul><li>这里主要讲一下如何理解第二点</li></ul><p>先看一下例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">お先に帰らせていただきませんか。（请允许我先回去了。）</span><br></pre></td></tr></table></figure><p>这个文型的构成是 使役形+いただく，いただく是もらう的自谦，是（我）“得到了什么”的意思，那我得到了什么呢？ <strong>“我得到了你让我干某事的机会”</strong>，听起来是不是和拗口，在上面这个例句中就是，“我得到了你让我回去的机会”。</p><p>对于第三类，可以看这个表格：</p><table><thead><tr><th>普通形</th><th>自谦形</th></tr></thead><tbody><tr><td>する</td><td>いたす</td></tr><tr><td>言う</td><td>申す・申し上げる</td></tr><tr><td>行く</td><td>伺う、参る</td></tr><tr><td>来る</td><td>伺う、参る</td></tr><tr><td>いる</td><td>おる</td></tr><tr><td>食べる</td><td>いただく、頂戴する</td></tr><tr><td>飲む</td><td>いただく、頂戴する</td></tr><tr><td>見る</td><td>拝見する</td></tr><tr><td>読む</td><td>拝読する</td></tr><tr><td>聞く</td><td>拝聴する、伺う</td></tr><tr><td>知る</td><td>存じる、承知する</td></tr><tr><td>与える</td><td>差し上げる</td></tr><tr><td>思う</td><td>存じる、拝察する</td></tr><tr><td>分かる</td><td>かしこまる、承知する</td></tr><tr><td>受け取る</td><td>頂戴する、拝受する</td></tr><tr><td>会う</td><td>お目にかかる</td></tr><tr><td>帰る</td><td>おいとまする</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N4知识点扫盲（接2）&lt;/h1&gt;
&lt;h2 id=&quot;11-～て＋授受动词&quot;&gt;11.～て＋授受动词&lt;/h2&gt;
&lt;h3 id=&quot;～てあげます&quot;&gt;～てあげます&lt;/h3&gt;
&lt;p&gt;施惠者Aは受惠者Bに　动词て形 あげます。意为“A帮B做什么什么事。”&lt;br&gt;
例如：&lt;/p&gt;
&lt;fig</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列2</title>
    <link href="https://yigexiaogai.github.io/2023/04/13/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%972/"/>
    <id>https://yigexiaogai.github.io/2023/04/13/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%972/</id>
    <published>2023-04-13T09:24:52.000Z</published>
    <updated>2023-04-24T08:57:52.646Z</updated>
    
    <content type="html"><![CDATA[<h1>N4知识点扫盲</h1><h2 id="1-つもり">1.つもり</h2><p>つもり的意思是打算，一般有以下三种用法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 動詞辞書形＋つもり</span><br><span class="line">2. 動詞ない形＋つもり</span><br><span class="line">3. つもりはありません（没有XX的打算）</span><br></pre></td></tr></table></figure><p>类似用法的文法有：動詞意向形＋と思う・とおもっている</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">留学しようと思う。＝＝留学するつもりです。</span><br></pre></td></tr></table></figure><h2 id="2-過ぎます・過ぎです">2.過ぎます・過ぎです</h2><p>過ぎます的意思是过于什么什么，主要看他的接续：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 动词ます去ます＋過ぎる　例え：食べ過ぎる</span><br><span class="line">2. 一类形容词去い＋過ぎる　例え：高過ぎる</span><br><span class="line">3. 二类形容词去な＋過ぎる　例え：にぎやかすぎる</span><br></pre></td></tr></table></figure><p>有一个特别的一类形容词：ない<br>它接续会不太一样：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ない＋過ぎる＝＝なさすぎる</span><br></pre></td></tr></table></figure><h2 id="3-～もいいです・～もかまいません">3. ～もいいです・～もかまいません</h2><p>这两个表示 It is OK to do something<br>后者很容易被遗忘捏！但是日常生活中很好用！！上例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">その傘を借りてもいいですか。</span><br><span class="line">その傘を借りてもかまいませんか。</span><br></pre></td></tr></table></figure><p>这两者多用在疑问句中。<br>相反的，not OK to do something是什么呢？<br><strong>是这个：～てはいけません</strong></p><h2 id="4-ことになります・ことにします">4. ことになります・ことにします</h2><p>这两者的对比是日语前期一个很重要的考点。<br>众所周知啊，ことになります是被决定，决定的一方可以是环境、群众，反正就不是自己；ことにします则相反，就是自己决定，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">私たちは六月に結婚することになりました。（我们决定在六月结婚（不是一个人能决定的））</span><br><span class="line"></span><br><span class="line">明日からたばこをすわないことにします。（明天开始决定戒烟（自己决定的））</span><br></pre></td></tr></table></figure><p>这一次我写上的原因是我想到了好记忆的方法。<br>なります可以理解成“变成这样了”，所以不是自己决定的；します可以理解成“做什么事”，所以是自己决定的。</p><h2 id="5-～てきます・～ていきます">5. ～てきます・～ていきます</h2><p>这两者在日常生活中经常用到，用来表示动作的方向或者事物变化的趋势，不过我在生活中常常会忽略，或者仅仅用“なる”表示变化（😓</p><h3 id="～てきます">～てきます</h3><p>～てきます的意思是“什么什么起来了”，“什么什么过来了”的意思。<br>主要的用法有以下四个:</p><blockquote><p>动作的移动</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">私は昼ご飯を食べてきました。（我是吃过午饭来的）（千万别以为是，“我过来吃午饭”的意思）</span><br><span class="line">ちょっと飲み物を買ってきました。（我去买个饮料就回来）（这里有去去就回的意思，一定注意！）</span><br></pre></td></tr></table></figure><blockquote><p>动作的接近</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ボールは飛んできました。（球飞过来了）</span><br><span class="line">電話がかかってきました。（电话打过来了）</span><br></pre></td></tr></table></figure><blockquote><p>时间的变化</p></blockquote><p>～てきます可以表现的是“过去到现在”，或者“未来到 未来的未来”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">最近ずいぶん寒くなってきました。（最近真是变得冷起来了。）</span><br><span class="line">売り上げはだんだん増えてくる。（销售量逐渐增加起来了。）</span><br></pre></td></tr></table></figure><blockquote><p>（过去）动作的持续</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私は日本で半年ぐらい留学してきました。（我来日本大概留学半年了。（包含一种持续的感觉））</span><br></pre></td></tr></table></figure><h3 id="～ていきます">～ていきます</h3><p>～ていきます的意思是“什么什么下去了”，“什么什么过去了”的意思。<br>主要的用法同样有以下四个:</p><blockquote><p>动作的移动</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ちょっとコンビニに寄っていきます。（先去一下便利店再过去。）</span><br><span class="line">もう一杯飲んでいってください。（请再多喝一杯再走吧。）</span><br></pre></td></tr></table></figure><blockquote><p>动作的脱离</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ボールは飛んでいきました。（球飞过去了。）</span><br><span class="line">先生は教室に出ていきます。（老师从教室出去了。）</span><br></pre></td></tr></table></figure><blockquote><p>时间的变化</p></blockquote><p>～ていきます可以表现的是“现在到未来”，或者“过去的过去 到过去”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">これから天気は熱くなっていきます。（从现在开始天气要变热了。）</span><br><span class="line">氷河期になって恐竜の数は減っていった。（冰河时期的恐龙的数量减少了。）</span><br></pre></td></tr></table></figure><blockquote><p>（未来）动作的延续</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私はこれから日本で留学していきます。（我从现在开始再日本留学。）</span><br></pre></td></tr></table></figure><h2 id="6-～てしまいます">6. ～てしまいます</h2><p>～てしまいます本身的意思是“完了”、“结束咧”，作为接续在句子尾部的部分，主要可以表达以下三种意思：</p><blockquote><ol><li>无法挽回的遗憾</li></ol></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">服が汚れてしまいました。（衣服被弄脏了。）</span><br></pre></td></tr></table></figure><blockquote><ol start="2"><li>动作快速完成，干脆进行（这个用法常常容易被忘记）</li></ol></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今日中にレポートをかいてしまいます。（今天就要把报告写完。）</span><br></pre></td></tr></table></figure><blockquote><ol start="3"><li>无法抵抗，无法控制（自己的情感）</li></ol></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">この小説を読んで、泣いてしまいました。（读了这个小说，情不自禁的哭了。）</span><br></pre></td></tr></table></figure><h3 id="缩约表现">缩约表现</h3><p>在口语中，～てしま常常被说成～ちゃ，所以才会有　<strong>忘れちゃった</strong> 的说法，其本来是 <strong>忘れてしまった</strong>。<br>如果动词て型是以で为结尾的，那么～ちゃ还要变成～じゃ，例如说：<strong>飲んでじゃった</strong></p><h2 id="7-～おきます">7. ～おきます</h2><p>～おきます的意思主要有两个：1. 事先准备；2.善后措施</p><ol><li>事先准备</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">旅行の前にお金に換えておきました。（旅行之前先把现金换好。）</span><br></pre></td></tr></table></figure><ol start="2"><li>善后措施</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">読み終わった本は本棚（ほんだな）に戻っておいてください。（请把读完的书还到书架上（放好））</span><br></pre></td></tr></table></figure><h3 id="缩约表现-2">缩约表现</h3><p><strong>てお</strong> 有时候在口语里会说成<strong>と</strong><br>同理，<strong>でお</strong> 会被说成<strong>ど</strong></p><h2 id="8-缩约表现整理">8. 缩约表现整理</h2><p>日语中我们已经接触并常常会接触一些缩约表现，具体可看下表：</p><table><thead><tr><th>缩约前</th><th>缩约后</th></tr></thead><tbody><tr><td>～<strong>てしま</strong>います</td><td>～<strong>ちゃ</strong>います</td></tr><tr><td>～<strong>でしま</strong>います</td><td>～<strong>じゃ</strong>います</td></tr><tr><td>～<strong>ては</strong></td><td>～<strong>ちゃ</strong></td></tr><tr><td>～<strong>では</strong></td><td>～<strong>じゃ</strong></td></tr><tr><td>～<strong>てお</strong>きます</td><td>～<strong>と</strong>きます</td></tr><tr><td>～<strong>でお</strong>きます</td><td>～<strong>ど</strong>きます</td></tr><tr><td>～な<strong>ければ</strong></td><td>～な<strong>きゃ</strong></td></tr><tr><td>～<strong>てい</strong>ます</td><td>～<strong>て</strong>ます</td></tr><tr><td>一类动词～らない（わか<strong>らない</strong>）</td><td>わか<strong>んない</strong></td></tr></tbody></table><h2 id="9-指示词P2">9.指示词P2</h2><p>补充一些指示词：</p><table><thead><tr><th></th><th>这样/那样</th><th>这样的/那样的</th><th>这么/那么（程度）</th><th>这样地/那样地（样态）</th></tr></thead><tbody><tr><td>近自己</td><td>こう</td><td>こんな</td><td>こんなに</td><td>このように</td></tr><tr><td>近对方</td><td>そう</td><td>そんな</td><td>そんなに</td><td>そのように</td></tr><tr><td>远方</td><td>ああ</td><td>あんな</td><td>あんなに</td><td>あのように</td></tr><tr><td>疑问词</td><td>どう</td><td>どんな</td><td>どんなに</td><td>どのように</td></tr></tbody></table><h2 id="10-～出します">10. ～出します</h2><p>～出します是一个接续用的复合动词，意思是（突然）开始做某事，和～始めます有类似的地方。当然还有其本意，“拿出什么什么”。<br>下面是例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">止めてあった車が急に動き出しました。（停在那里的车突然开始启动了。）</span><br></pre></td></tr></table></figure><p>但是<strong>要注意</strong>，表达说话人意志情感的动作是不能接续～出します的，而只能用～始めます<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">私は先月から日本語を勉強し出しました。×</span><br><span class="line">私は先月から日本語を勉強し始めました。○</span><br><span class="line">（我从上个月开始学习日语。）</span><br></pre></td></tr></table></figure><p>类似的接续词还有：<br>～続きます、～おわります、</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N4知识点扫盲&lt;/h1&gt;
&lt;h2 id=&quot;1-つもり&quot;&gt;1.つもり&lt;/h2&gt;
&lt;p&gt;つもり的意思是打算，一般有以下三种用法：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列1</title>
    <link href="https://yigexiaogai.github.io/2023/04/07/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%971/"/>
    <id>https://yigexiaogai.github.io/2023/04/07/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%971/</id>
    <published>2023-04-07T13:50:04.000Z</published>
    <updated>2023-04-24T08:09:33.030Z</updated>
    
    <content type="html"><![CDATA[<h1>N5知识点扫盲</h1><p>即使是N5的知识点，也会有盲点捏！</p><h2 id="1-～くします・～にします">1. ～くします・～にします</h2><p>～くします・～にします表示“决定做什么”，“弄成什么”<br>所以口语中的～にしてください其实就是～くします+ください，也就是“做什么”+“请你”。悟了！</p><p>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">髪を短くします。</span><br><span class="line">ゼミは来週の火曜日にします。</span><br></pre></td></tr></table></figure><h2 id="2-指示词P1">2. 指示词P1</h2><p>参考视频：<a href="https://www.youtube.com/watch?v=oLFV9NVepJs&amp;list=PLynCeSdpMqxD4OJHjNB3QkmfzfD7B_s67&amp;index=26">指示词基础</a></p><p>指示词是非常基础的东西，但是一旦使用起来，可能也会让人摸不着头脑哦。所以要常常复习！先看下面的表格：</p><table><thead><tr><th></th><th></th><th></th><th>指东西·地方·人</th><th>指东西·地方·人</th></tr></thead><tbody><tr><td>指示词</td><td>指东西</td><td>指地方</td><td>尊敬用语</td><td>口语用语</td></tr><tr><td>近自己</td><td>これ・この</td><td>ここ</td><td>こちら</td><td>こっち</td></tr><tr><td>近对方</td><td>それ・その</td><td>そこ</td><td>そちら</td><td>そっち</td></tr><tr><td>远方</td><td>あれ・あの</td><td>あそこ</td><td>あちら</td><td>あっち</td></tr><tr><td>疑问词</td><td>どれ・どの</td><td>どこ</td><td>どちら</td><td>どっち</td></tr></tbody></table><ul><li>尊敬用语非常好用，你甚至可以不记前面的全部使用尊敬用于，因为反正都可以指代（笑）</li></ul><h2 id="3-授受关系动词">3. 授受关系动词</h2><h3 id="あげる">あげる</h3><p>あげる是给予的意思，用法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AはBに何々をあげます。（A给B什么什么东西）</span><br></pre></td></tr></table></figure><p>要注意以下这点：</p><ul><li>A的身份一定要是自己或者自身的人（例如父母兄弟，日语叫身内・みうち），这是因为あげる的词源是上げる，其实本意是献上的意思。所以这里面包含了上下关系，如果要消除这种上下关系，请使用くれる。</li></ul><h3 id="もらう">もらう</h3><p>もらう可以看作是あげる的逆操作，用法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AはBに何々をもらいます。（A从B这得到了什么什么东西）</span><br></pre></td></tr></table></figure><p>同时要注意一点：</p><ul><li>B的身份不能是自己或者自身的人，因为“从我这里得到东西”暗中有抬高自己的感觉，ダメ！</li></ul><h3 id="くれる">くれる</h3><p>不多说了，万能的给与，没有上下关系！</p><h3 id="やる">やる</h3><p>这是一个很容易被忽略的授受动词，在N5的时候，老师可能也不会讲它。这里的やる可不是“做”的意思，而是给与的意思，给与的对象则是明确的地位更低的人或东西，例如 <strong>自己的孩子，植物，动物</strong>，用法则是这样的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AはB（子供、植物、動物）に何々をやります。（A给B（孩子，植物，动物）什么什么东西）</span><br></pre></td></tr></table></figure><h2 id="4-に-接触">4. に 接触</h2><p>助词に可以表示接触的含义，碰到等。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">車が壁にぶつかりました。车碰到墙壁了。</span><br></pre></td></tr></table></figure><p>看以下两个句子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">私は駅で友達と会いました。</span><br><span class="line">私は駅で友達に会いました。</span><br></pre></td></tr></table></figure><ul><li>第一句话的感觉是，朋友已经在车站等我了，然后去见他；第二句话是我和朋友要同时出发去车站见面。有一些微弱的差别捏！</li></ul><h2 id="5-位置表现">5. 位置表现</h2><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>上</td><td>うえ</td></tr><tr><td>下</td><td>した</td></tr><tr><td>前</td><td>まえ</td></tr><tr><td>后</td><td>うしろ</td></tr><tr><td>左</td><td>ひだり</td></tr><tr><td>右</td><td>みぎ</td></tr><tr><td>中</td><td>なか</td></tr><tr><td>外</td><td>そと</td></tr><tr><td>旁边</td><td>となり</td></tr><tr><td>之间</td><td>あいだ</td></tr><tr><td>对面</td><td><strong>むかい</strong></td></tr><tr><td>附近</td><td>ちかく</td></tr></tbody></table><h2 id="6-を-脱离点和经过点">6. を 脱离点和经过点</h2><p>众所周知，を的主要功能是表示动作作用对象。<br>所以大部分情况下，を后面接续他动词。但实际上，を可以接自动词，这种情况を基本表示脱离或者经过。看下面例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">電車を降ります。（下车）</span><br><span class="line">横断歩道を渡ります。（经过平交道）</span><br><span class="line">公園を散歩します。（在公园散步）</span><br></pre></td></tr></table></figure><p>我们再来看一组接自动词的例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">教室を出ます。（从教室出去。）</span><br><span class="line">空を飛びます。（在天空飞过。）</span><br></pre></td></tr></table></figure><p>第一句中的出ます是自动词，原型为出る，“出去”的他动词本来是出す。<br>第二句中的飛びます是自动词，原型为飛ぶ，“飞”的他动词本来是飛ばす。<br>这两句中，动作的发出者并没有对教室或者天空进行作用，这里的を就是表示经过或者脱离的意思。</p><h2 id="7-てから">7.てから</h2><p>动词て型+から可以表示动作顺序，啊但是て型不是本来就能表示动作顺序吗？emmmm，我懂了，强调动作顺序！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">手を洗ってから、ご飯を食べます。</span><br></pre></td></tr></table></figure><h2 id="8-に表示分母">8.に表示分母</h2><p>名词に名词<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一週間に二回（一周两次）</span><br><span class="line">１００人に１２人（100人里的12人）</span><br><span class="line">一か月に３万円（一个月三万日元）</span><br></pre></td></tr></table></figure><h2 id="9-ころ和ごろ">9.ころ和ごろ</h2><p>ころ前面接续的是普通型/二类形容词+な/名词+の<br>ごろ前面接续的是时间点</p><p>注意区分 このころ和このごろ，意思会不一样。</p><ul><li>このころ表示“当时”</li><li>このごろ表示“最近这段时间”</li></ul><h2 id="10-自动词-ています・他动词-てあります">10. 自动词+ています・他动词+てあります</h2><p>自动词+ています表示事物的状态，不特别强调目的或者理由。<br>他动词+てあります同样表示事物的状态，但是强调了目的或者理由。<br>看下面四句话：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">１．ドアが開きます。（门开）</span><br><span class="line">２．ドアが開いています。（门开着）</span><br><span class="line">３．ドアを開けます。（开门）</span><br><span class="line">４．ドアが開けてあります。（门有开着）</span><br></pre></td></tr></table></figure><ul><li>关键在于最后一句话，门有开着，听起来像是开着门是为了做什么事或者说解答别人门是开着的。</li></ul><h1>结尾</h1><p>N5还是很简单的，盲点不多，进入N4咯！下节见。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N5知识点扫盲&lt;/h1&gt;
&lt;p&gt;即使是N5的知识点，也会有盲点捏！&lt;/p&gt;
&lt;h2 id=&quot;1-～くします・～にします&quot;&gt;1. ～くします・～にします&lt;/h2&gt;
&lt;p&gt;～くします・～にします表示“决定做什么”，“弄成什么”&lt;br&gt;
所以口语中的～にしてください其实就是～く</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列0</title>
    <link href="https://yigexiaogai.github.io/2023/04/06/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%970/"/>
    <id>https://yigexiaogai.github.io/2023/04/06/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%970/</id>
    <published>2023-04-06T10:01:18.000Z</published>
    <updated>2023-04-07T13:48:20.057Z</updated>
    
    <content type="html"><![CDATA[<h1>前言</h1><p>奶奶滴，来日本半年了，也没认识几个日本人！英语倒是进步了不少(来错国家了是吧？)。平时能用到日语的地方就只有点菜吃饭，你说气不气？所以我决定，还是回归课本吧。。。</p><h1>P1 时间</h1><p>日语生活中常常会用到时间，例如月份，日期等等，虽然是N5就学过的玩意儿，可有些真的很难记住，也容易说错啊，这一趴就来复习一下。<br>参考链接：<a href="https://www.youtube.com/watch?v=QRyu_Yud0gs&amp;t=307s">日语中的时间表现</a></p><h2 id="月份">月份</h2><p>首先来看月份：</p><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>一月</td><td>いちがつ</td></tr><tr><td>二月</td><td>にがつ</td></tr><tr><td>三月</td><td>さんがつ</td></tr><tr><td>四月</td><td><strong>し</strong>がつ</td></tr><tr><td>五月</td><td>ごがつ</td></tr><tr><td>六月</td><td>ろくがつ</td></tr><tr><td>七月</td><td><strong>しち</strong>がつ</td></tr><tr><td>八月</td><td><strong>はち</strong>がつ</td></tr><tr><td>九月</td><td><strong>く</strong>がつ</td></tr><tr><td>十月</td><td>じゅうがつ</td></tr><tr><td>十一月</td><td>じゅういちがつ</td></tr><tr><td>十二月</td><td>じゅうにがつ</td></tr></tbody></table><ul><li>这里要特别注意的是“四月”，“七月”，“八月”，“九月”，别的都比较普通。</li><li>可以发现，在月份中，“月”的发音是 <strong>“がつ”</strong> 。</li></ul><p>但是如果是，“几个月”——即表达一段时间区间该怎么说呢？例如，三个月？同样列出表格</p><table><thead><tr><th>中</th><th>日</th><th>假名</th></tr></thead><tbody><tr><td>一月</td><td>一ヶ月</td><td><strong>いっか</strong>げつ</td></tr><tr><td>二月</td><td>二ヶ月</td><td>にかげつ</td></tr><tr><td>三月</td><td>三ヶ月</td><td>さんかげつ</td></tr><tr><td>四月</td><td>四ヶ月</td><td>しかげつ</td></tr><tr><td>五月</td><td>五ヶ月</td><td>ごかげつ</td></tr><tr><td>六月</td><td>六ヶ月</td><td><strong>ろっか</strong>げつ</td></tr><tr><td>七月</td><td>七ヶ月</td><td><strong>ななか</strong>げつ</td></tr><tr><td>八月</td><td>八ヶ月</td><td>はちかげつ</td></tr><tr><td>九月</td><td>九ヶ月</td><td><strong>きゅうか</strong>げつ</td></tr><tr><td>十月</td><td>十ヶ月</td><td>じゅうかげつ</td></tr><tr><td>十一月</td><td>十一ヶ月</td><td><strong>じゅういっか</strong>げつ</td></tr><tr><td>十二月</td><td>十二ヶ月</td><td>じゅうにかげつ</td></tr></tbody></table><ul><li>会发现这里就复杂起来了，先总结几个简单的规律</li></ul><ol><li>日文的汉字要表达几个月的时间区间，只需要在本来的“数字”和“月”中加上一个 <strong>小写的“ヶ”</strong>　,但是，这里的这个“ヶ”读作 <strong>“Ka”</strong>，并不读作“Ke”，它其实就表示“个”的意思</li><li>再加完这个“ヶ”之后，“月”的发音被改变，<strong>从“がつ”变成“げつ”</strong></li></ol><ul><li>然后特别要注意的，带数字一的，后面都要变成促音接“ヶ”，例如一月、十一月。六月变成了 <strong>“ろっか”げつ</strong> ，七月和九月变回了正常发音（很容易搞错）——<strong>ななか</strong>げつ、 <strong>きゅうか</strong>げつ</li></ul><h2 id="日期">日期</h2><p>日语中的日期真的是很搞心态的一块，用了这么久也没有完全的记住，主要原因就是，太没有规律了。先上表格：</p><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>一号</td><td>ついたち</td></tr><tr><td>二号</td><td>ふつか</td></tr><tr><td>三号</td><td>みっか</td></tr><tr><td>四号</td><td>よっか</td></tr><tr><td>五号</td><td>いつか</td></tr><tr><td>六号</td><td>むいか</td></tr><tr><td>七号</td><td>なのか</td></tr><tr><td>八号</td><td>ようか</td></tr><tr><td>九号</td><td>ここのか</td></tr><tr><td>十号</td><td>とおか</td></tr><tr><td>十四号</td><td>じゅう <strong>よっか</strong></td></tr><tr><td>十七号</td><td>じゅう<strong>しち</strong>にち</td></tr><tr><td>十九号</td><td>じゅう<strong>く</strong>にち</td></tr><tr><td>二十号</td><td>はつか</td></tr><tr><td>二十四号</td><td>にじゅう<strong>よっか</strong></td></tr><tr><td>二十七号</td><td>にじゅう<strong>しち</strong>にち</td></tr><tr><td>二十九号</td><td>にじゅう<strong>く</strong>にち</td></tr><tr><td>其他日子</td><td>XXXX にち</td></tr></tbody></table><ul><li>你会发现，一号到十号加一个二十号，是那么的不同，这怎么记吗？在记忆之前，我们要知道为什么会发生这样的情况。</li><li>原来，像数字中1~10的读法是从中国传来的，例如いち、に、さん，但是，居住在岛国上的原住民本身就有对数字的叫法，也就是古语。我们来看一下这个表格：</li></ul><table><thead><tr><th></th><th>中国传来</th><th>日本本土</th><th>日本日期</th></tr></thead><tbody><tr><td>1</td><td>いち</td><td>ひ</td><td>ついたち</td></tr><tr><td>2</td><td>に</td><td>ふ</td><td>ふつか</td></tr><tr><td>3</td><td>さん</td><td>み</td><td>みっか</td></tr><tr><td>4</td><td>し</td><td>よ</td><td>よっか</td></tr><tr><td>5</td><td>ご</td><td>いつ</td><td>いつか</td></tr><tr><td>6</td><td>ろく</td><td>む</td><td>むいか</td></tr><tr><td>7</td><td>しち</td><td>なな</td><td>なのか</td></tr><tr><td>8</td><td>はち</td><td>や</td><td>ようか</td></tr><tr><td>9</td><td>きゅう・く</td><td>ここの</td><td>ここのか</td></tr><tr><td>10</td><td>じゅう</td><td>とお</td><td>とおか</td></tr><tr><td>20</td><td>にじゅう</td><td>はた</td><td>はつか</td></tr><tr><td>30</td><td>さんじゅう</td><td>みそ</td><td>みそか（已经不用）</td></tr></tbody></table><ul><li>现在才知道，原来日期都是这么来的！</li><li>欸那为什么一号还是很不一样呢，因为一号的来源其实不是数字，而是来自于 <strong>月立ち（つきたち）</strong>，这个单词表示，一个月的开始，也就是一号！终于，一切都通顺了。</li><li>最后，日语中逢4，7，9，都得小小注意一下哦！</li></ul><h2 id="小时和分">小时和分</h2><p>小时其实没有什么特别的，特别之处就在逢4，7，9，变化规则和上面相同，但分钟还是有特别的地方的。看下表：</p><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>1分</td><td>いっぷん</td></tr><tr><td>2分</td><td>にふん</td></tr><tr><td>3分</td><td>さんぷん</td></tr><tr><td>4分</td><td>よんぷん</td></tr><tr><td>5分</td><td>ごふん</td></tr><tr><td>6分</td><td>ろっぷん</td></tr><tr><td>7分</td><td>ななふん</td></tr><tr><td>8分</td><td>はっぷん</td></tr><tr><td>9分</td><td>きゅうふん</td></tr><tr><td>10分</td><td>じゅっぷん</td></tr></tbody></table><ul><li>规律：1，6，8，10音变，变促音+破音</li><li>以ん结尾的音变，变破音</li></ul>]]></content>
    
    
    <summary type="html">复健和扫盲一些日语知识点，希望它会有用！</summary>
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>学习尤克里里的第1天</title>
    <link href="https://yigexiaogai.github.io/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/"/>
    <id>https://yigexiaogai.github.io/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/</id>
    <published>2023-03-23T04:36:17.000Z</published>
    <updated>2023-06-01T09:50:35.073Z</updated>
    
    <content type="html"><![CDATA[<h1>踏入音乐的大门</h1><p>终于，在我的来回拉扯下，我终于踏入了名为音乐的大门。<br>以前我也有一把吉他，黑色的表面银色的琴弦，相当的漂亮，怎么说也要600块RMB。然而好景不长，练了一段时间之后，琴头逐渐变弯，弦距高得离谱，无论怎么练习，手上怎么长茧，都疼得离谱，那一刻，我的内心是绝望的，最后放下了吉他。而现在，我终于找到了一款适合我小手的乐器！那就是 <strong>尤克里里</strong> ！</p><h1>课程</h1><p>好的学习少不了优秀的课程，我主要看的是B站几位比较知名的UP主，链接如下：</p><ol><li><a href="https://www.bilibili.com/video/BV1Kx41147iq/?spm_id_from=333.337.search-card.all.click">趣弹音乐 尤克里里 弹唱</a></li><li><a href="https://space.bilibili.com/96974964/channel/seriesdetail?sid=1595560">喵了个艺 尤克里里 弹唱</a> 这个小姐姐超可以!甜！</li><li><a href="https://space.bilibili.com/71565747">白熊音乐ukulele</a></li></ol><p>也可以看油管，我一般是作为查漏补缺，或者随便看看。</p><h1>乐谱</h1><p>有时候想要弹的曲子找不到谱子怎么办呢？这里有几个找谱子的网站：</p><ol><li><a href="https://www.ukuleleba.com/">尤克里里吧</a></li><li><a href="https://www.17ukulele.com/list-1.html">17尤克里里</a></li><li><a href="https://www.ukulele-tabs.com/">Ukulele Tabs and chords</a>（国外）</li></ol><h2 id="始め">始め</h2><p>第一首练习的谱子是《七里香》，主要由四个和弦组成。前面的前奏有点难。<strong>我发现没有教学的时候，很难读懂节奏！</strong></p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E4%B8%83%E9%87%8C%E9%A6%99.png" class><h2 id="安静">安静</h2><p>第二首练习的谱子是《安静》，这个谱子不需要用到扫弦，比较难的和弦是Dm和Em和弦，尤其是Em，捏吗吗的！太难了。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%AE%89%E9%9D%99.jpg" class><h2 id="枫">枫</h2><p>第三首是《枫》，周杰伦牛逼！！ 这个谱子可以扫弦也可以不扫。难的是Fm和弦。以及和他相关的转换。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E6%9E%AB.jpg" class><h2 id="喜欢你">喜欢你</h2><p>第四首是《喜欢你》，来自beyond。超好听。这个不难，但我自己进行了一定的编排。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%96%9C%E6%AC%A2%E4%BD%A0.jpg" class><h2 id="I’m-yours">I’m yours</h2><p>第五首是《I’m yours》，也是我正在学的曲子，比较难的是前奏，D和弦的转换和节奏。</p><h2 id="小情歌">小情歌</h2><p>第六首是苏打绿的《小情歌》，太好听啦！不是特别难，和弦转换，加！油！</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%B0%8F%E6%83%85%E6%AD%8C.png" class><h2 id="花海">花海</h2><p>第七首还是周董的《花海》，这一天值得被纪念，去海滨公园了，小蓝花真的好漂亮，又认识了几位新的同学，大家都很友好，当然，她还是好漂亮，无法忍住心动，但这次心率应该没那么不正常了（笑）。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E8%8A%B1%E6%B5%B7.jpg" class><h2 id="K歌之王">K歌之王</h2><p>第八首，K歌之王。最近情绪起起伏伏，伏伏伏伏，给我自己整不会了。我还是没一点进步，6.</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/K%E6%AD%8C%E4%B9%8B%E7%8E%8B.png" class><h2 id="偏爱">偏爱</h2><p>第九首，《偏爱》，仙剑奇侠传YYDS，我愿称之为Em和弦练习曲，不是啊这Em和弦怎么能这么难啊！？</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%81%8F%E7%88%B1.png" class><h2 id="记得">记得</h2><p>第十首，《记得》，emo了。什么时候才能练好指弹和前奏？很期待，很难，有点emo.</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E8%AE%B0%E5%BE%97.jpg" class>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;踏入音乐的大门&lt;/h1&gt;
&lt;p&gt;终于，在我的来回拉扯下，我终于踏入了名为音乐的大门。&lt;br&gt;
以前我也有一把吉他，黑色的表面银色的琴弦，相当的漂亮，怎么说也要600块RMB。然而好景不长，练了一段时间之后，琴头逐渐变弯，弦距高得离谱，无论怎么练习，手上怎么长茧，都疼得离谱</summary>
      
    
    
    
    <category term="小该的音乐之旅" scheme="https://yigexiaogai.github.io/categories/%E5%B0%8F%E8%AF%A5%E7%9A%84%E9%9F%B3%E4%B9%90%E4%B9%8B%E6%97%85/"/>
    
    
    <category term="尤克里里" scheme="https://yigexiaogai.github.io/tags/%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C/"/>
    
    <category term="乐谱" scheme="https://yigexiaogai.github.io/tags/%E4%B9%90%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>WebRTC从零开始（零）</title>
    <link href="https://yigexiaogai.github.io/2023/02/17/WebRTC%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%88%E9%9B%B6%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2023/02/17/WebRTC%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%88%E9%9B%B6%EF%BC%89/</id>
    <published>2023-02-17T11:40:12.000Z</published>
    <updated>2023-06-01T09:47:00.041Z</updated>
    
    <content type="html"><![CDATA[<h1>前言</h1><p>为什么我要学习webRTC呢？因为在日本的研究中需要用到，虽然说也不仅仅是一个webRTC，还有前端、后端等等方面。</p><p>最近好像 <strong>chatGPT</strong> 很火，我们来看看它是怎么评价webRTC的吧！</p><p>我的评价是chatGPT说的对！<br>说得对，但是我还是不知道什么是webRTC捏。所以，还是来系统学习下吧。</p><p>我学习的链接依旧是B站上的课程。<a href="https://www.bilibili.com/video/BV1D14y1W7qp/?p=2&amp;spm_id_from=pageDriver&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">-&gt;点击这里&lt;-</a></p><h1>webRTC简介</h1><h2 id="什么是webRTC">什么是webRTC</h2><p>webRTC是谷歌公司下的提供互联网间网络通信服务的平台，简单来说，学会了webRTC，就可以开发一个网络聊天平台了，文字、音频、视频通信统统可以搞定。</p><h2 id="webRTC框架">webRTC框架</h2><p>这张图很抽象，我们将课程中的内容复述一下：</p><ol><li>紫色部分是Web应用开发者API层</li><li>蓝色实线部分是面向浏览器厂商的API层</li><li>蓝色虚线部分浏览器厂商可以自定义实现</li></ol><p><strong>特别是图中的PeerConnection为Web开发人员提供了一个抽象，从复杂的内部结构中抽象出来。</strong></p><h2 id="webRTC通话原理">webRTC通话原理</h2><p>在了解通话原理之前，我们要先思考一个问题，两个不同网络环境的浏览器，要实现点对点的实时音视频对话，难点在哪里？<br>你可能会说，哪哪都是难点啊，怎么获取摄像头或者麦克风的权限？怎么联络？<br>但实际上，难点在于网络的部分。</p><h3 id="媒体协商">媒体协商</h3><p>音视频通话要涉及到各种音视频编码，如果通话两方不支持一致的编码，显然，可能一边就黑屏了，或者就没声儿了。所以要让两方能够正常通话，我们要找到通话中一致的编码。举例如下：</p><p>在这张图里，我们会发现，两方都支持h264编码。那我们怎么知道两方都支持h264编码呢？<br><strong>有一个专门的协议 ，称为Session Description Protocol (SDP)，可用于描述上述这类信息，在WebRTC中，参与视频通讯的双方必须先交换SDP信息，这样双方才能知根知底，而交换SDP的过程，也称为&quot;媒体协商&quot;。</strong></p><h3 id="网络协商">网络协商</h3>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;前言&lt;/h1&gt;
&lt;p&gt;为什么我要学习webRTC呢？因为在日本的研究中需要用到，虽然说也不仅仅是一个webRTC，还有前端、后端等等方面。&lt;/p&gt;
&lt;p&gt;最近好像 &lt;strong&gt;chatGPT&lt;/strong&gt; 很火，我们来看看它是怎么评价webRTC的吧！&lt;/p&gt;

</summary>
      
    
    
    
    <category term="WebRTC" scheme="https://yigexiaogai.github.io/categories/WebRTC/"/>
    
    
    <category term="WebRTC" scheme="https://yigexiaogai.github.io/tags/WebRTC/"/>
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="研究相关" scheme="https://yigexiaogai.github.io/tags/%E7%A0%94%E7%A9%B6%E7%9B%B8%E5%85%B3/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始3</title>
    <link href="https://yigexiaogai.github.io/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/"/>
    <id>https://yigexiaogai.github.io/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/</id>
    <published>2023-02-16T10:47:38.000Z</published>
    <updated>2023-02-16T13:52:32.709Z</updated>
    
    <content type="html"><![CDATA[<h1>团队协作和结合IDEA</h1><p>上一节我们接触了 <strong>版本穿梭、分支和远端推送</strong> ，这说明我们已经能够在本地和远端管理项目了，接下来我们就需要在团队中合作了。</p><h2 id="团队协作">团队协作</h2><p>团队协作其实是比较简单的一块内容，其实就是在github上邀请团队中的成员，当成员同意之后，就可以修改代码，并且推送到远端，覆盖原有项目了。<br>具体可以看这个视频， 这也是我在学习的教程：<br><a href="https://www.bilibili.com/video/BV1vy4y1s7k6?p=24&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">尚硅谷git教程</a></p><h2 id="结合IDEA">结合IDEA</h2><p>主流的idea都支持git，因为作者本人用VS code比较多，所以在这里以Code为实例。</p><p>code在侧边栏中有一个路线的符号:</p><img src="/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/1.png" class><p>点击进入后，就会发现code提示了用户当前有的分支，当前文件的状态，当前可以执行的操作。<br>当有新文件时，code会在新文件后面加上“U”的字样，表明它未被追踪。当已经被追踪的文件内容有所改变时，code会在文件的后面加上“M”的字样，表明它已经被修改。点击该文文件，他就会告诉了你新加了哪些内容（或者删去了哪些内容）：</p><img src="/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/2.png" class><p>code提供了一个“+”按钮，让用户可以暂存更改，对应的有一个“-”号，用来撤回更改。</p><p>接下来就是提交： code需要你在提交之前在文本框输入提交信息，然后进行提交。但是注意，这里的提交只是本地提交，实际上就是“git commit”，如果要更新到远端，则还要点击“同步按钮”，这个操作就等于“git pull”.</p><img src="/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/3.png" class><h2 id="小结">小结</h2><p>其实到这里，内容就基本上讲完了，还有一些特别细节的地方，或者不太常用的指令，我想这些就只有到真正工作中开发才能用到了。其实git内容不多，要使用并不难，但理解其底层逻辑才是最重要的。在这里贴上一下我学习，引用，参考的素材：</p><ol><li><a href="https://learngitbranching.js.org/?locale=zh_CN">一个很有用的学习git的游戏</a></li><li><a href="https://www.bilibili.com/video/BV1vy4y1s7k6/?spm_id_from=333.337.top_right_bar_window_custom_collection.content.click">尚硅谷课程</a></li><li><a href="https://www.bilibili.com/video/BV1r3411F7kn/?spm_id_from=333.337.search-card.all.click&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">VS Code里使用Git和关联GitHub</a></li></ol><p>最后，其实我想说，我觉得还是命令行好，用idea总没那么舒爽~</p><p><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;团队协作和结合IDEA&lt;/h1&gt;
&lt;p&gt;上一节我们接触了 &lt;strong&gt;版本穿梭、分支和远端推送&lt;/strong&gt; ，这说明我们已经能够在本地和远端管理项目了，接下来我们就需要在团队中合作了。&lt;/p&gt;
&lt;h2 id=&quot;团队协作&quot;&gt;团队协作&lt;/h2&gt;
&lt;p&gt;团队协作其实是</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始2</title>
    <link href="https://yigexiaogai.github.io/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/"/>
    <id>https://yigexiaogai.github.io/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/</id>
    <published>2023-02-04T16:08:39.000Z</published>
    <updated>2023-02-05T06:51:42.983Z</updated>
    
    <content type="html"><![CDATA[<h1>版本穿梭、分支和远端推送</h1><p>在上一节中<a href="https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/">上一篇博客</a>，我们讲解了本地项目文件在git中的提交过程和状态查询的方法，这一小节，我们将讲解版本穿梭、分支和远端推送。</p><h2 id="版本穿梭">版本穿梭</h2><p>我们知道，git是一个版本管理的工具，那如何进行版本的管理呢？<br>在上一节中，我们提到，可以使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br><span class="line">git log</span><br></pre></td></tr></table></figure><p>两个指令来查看版本的信息。我们可以从中获得版本的版本号。例如下图，版本号就是“b9f048a”（和第一节不一样了，因为我为了写博客重新建了一个项目），我们先修改一下文件，搞一个第二个版本，以便进行实验。<br>我们在hello.txt里面第一行末尾加上五个1.</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/1.png" class><p>然后我们重新提交，此时再用git reflog发现，存在了两个版本，版本号分别为“b9f048a”和“f892d81”</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/2.png" class><p>如果这时候老板觉得，不要这五个1，还是第一个版本好，我们就需要使用以下这个指令，回到第一个版本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard b9f048a</span><br></pre></td></tr></table></figure><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/3.png" class><p>我们发现，版本已经回到第一个版本了，此时如果你回去看hello文件里的内容，五个1已经没有了！ <strong>需要注意，不是说回到第一个版本，第二个版本就没了！他还在呢！</strong><br><strong>实质上我们可以看到，是名为HEAD的指针指向了第一个版本号，因此版本才会回去了</strong></p><p>现在我们可以来看看.git文件夹中的文件了，里面就有一个叫“HEAD”的文件，我们使用记事本打开，发现内容是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/4.png" class><p><strong>意思是说，这个HEAD指针所在的位置就是master分支</strong></p><p>那我们能知道这个master分支是什么吗？ <strong>可以！</strong> 在.git文件夹中的这个路径下就有master文件，同样记事本打开查看，wow，恍然大悟了对吧！ <strong>master指向的就是这个版本号！</strong></p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/5.png" class><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/6.png" class><p>所以总结一下， <strong>git中版本管理的底层其实是由两个指针决定的</strong> ：<br>head指针-&gt;master（分支）指针-&gt;版本</p><p>是不是一下就清楚了！<br>另外，如果要再回到第二个版本，也是执行同一个指令，只要把版本号改成第二个版本的就行了。</p><h2 id="分支-branch">分支(branch)</h2><p>分支是一个相当重要的功能（机制），例如在企业里，我们可以使用分支来管理一个软件的各个版本，例如测试版、正式版、公司内部版、上市版……对于个人开发，我们可以使用分支对一个项目中的文件内容进行分类，或者并行开发，我的博客为了在两台电脑上同步更新，就使用了分支的功能。简单来说，分支可以是copy的关系，也可以是父子关系，更可以是分而治之的思维……</p><h3 id="分支的好处">分支的好处</h3><p>分支机制由两个好处：</p><ol><li>分支可以提高开发效率，促进并行开发</li><li>一个分支上项目出现问题，不会影响其他分支的内容，独立性。</li></ol><h3 id="查看-创建-切换-分支">查看/创建/切换 分支</h3><p>查看分支的指令比较简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -v</span><br></pre></td></tr></table></figure><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/7.png" class><p>创建分支的指令很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch 分支名</span><br></pre></td></tr></table></figure><p>例如这里，我创建了一个名为test的分支。使用查看的指令，就可以看到所有的分支：</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/8.png" class><p>切换的指令也很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout 分支名</span><br></pre></td></tr></table></figure><p>例如这里，我们切换到test分支，此时后面括号后的分支名提示我们，已经切换到test分支了。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/9.png" class><p>但是以下要注意的是，我们可以看一下test分支里面有什么。其实，创建分支默认就是 <strong>拷贝master分支</strong> ，所以创建初始，test里面也有一个hello文件，且内容完全一样。但是，我们可以开始尝试修改test分支了。例如，我们这里在hello文件中的第一行末尾写上5个a.然后提交。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/10.png" class><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/11.png" class><p>此时，test分支就已经和master分支不一样了, <strong>即使在windows的文件夹中，文件内容也有5个a了</strong>，他们俩就像双胞胎。但如果我们再切换回到master分支，文件内容会是什么呢，其实也很好猜，5个a会消失！所以，我们只要切换版本，直观上，明明你没有对文件夹做什么操作，里面的文件却能够改变，很神奇吧！</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/12.png" class><p><strong>要说的是，底层上，其实只是指针发生了改变</strong><br>当我们创建并切换到test分支时，head指针就从master改变指向指到了test。<br><strong>head-&gt;test-&gt;版本</strong></p><h3 id="合并分支">合并分支</h3><p>企业中，我们可能创建一个分支的目的，是为了给一个软件开发新的模块或者插件等等，当我们开发完之后，可能就要把分支和主分支合并了，从而给软件添加新的内容，这就是合并分支的作用。</p><p>命令非常的简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge 分支名 //把指定的分支合并到当前的分支上</span><br></pre></td></tr></table></figure><p><strong>这里有一点要注意，注释的意思有两点信息：</strong></p><ol><li>“分支名”是指定的分支</li><li><strong>当前分支会添加新的内容，但“指定的分支”自身的内容并不会改变</strong></li></ol><p>但是，合并分支存在两种情况，正常合并和冲突合并。</p><h4 id="正常合并">正常合并</h4><p>正常合并其实没有什么好说的，命令就是上面提到的“merge”。我们来尝试一下：</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/13.png" class><p>再次查看一下hello中的文件内容，会发现master中的hello也有了5个a</p><h4 id="冲突合并">冲突合并</h4><p>冲突合并实际才是最为常见的情况，怎么样会发生冲突呢？就是我对两个分支中的“ <strong>同一个地方</strong> ”做出不同的修改，此时要合并，git就会搞不懂了，因为它不知道要保留哪一个作为最终版本。在企业中，A和B对代码有不同的修改，此时就会产生这样的冲突，接下来我们试验一下。</p><p><strong>要注意的是，不同版本的git对“同一个地方”的概念不同，低版本的git认为同一个文件时同一个地方，但是高版本的git会认为文件中同一个代码行才是同一个地方。</strong></p><p>我们先在master分支中，文件第一行最后末尾加上“master”，再在test分支文件第一行末尾加上“test”，（注意改完都要重新提交），然后合并。<br>此时发现，git提示冲突！而且子啊括号中，变成了 <strong>（master|merging）</strong>，这种情况要怎么解决呢？</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/15.png" class><p>我们可以此时打开hello文件看看。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/16.png" class><p>其实git就提示你，冲突的地方在哪里了，我们只需要手动删除和保留内容就可以了。<br>例如我只想保留“master”，我就只要删掉提示符号和“test”即可。然后重新提交。大功告成。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/17.png" class><p>接下来我们测试一下，如果不是修改同一行会怎么样。</p><p>我们先在master分支中，文件第一行最后末尾加上“master”，再在test分支文件最后行末尾加上“test”，（注意改完都要重新提交），然后合并。<br>我发现，在我这里，仍然会出现冲突，且提示的文件变成了这样：</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/18.png" class><p>但我的git应该是最新的版本，所以上面的说法可能存在不对的地方，git对于同一个位置的定义，就是一个文件。</p><h2 id="链接远端">链接远端</h2><h3 id="创建远端库">创建远端库</h3><p>鉴于本博客的主要内容是git，在这里不讲述如何使用github。<br>但在本地库链接远端库之前，是需要在github（或者别的远端代码托管平台）创建一个远程库，而且建议，库的名字最好和本地库一样，便于记忆。</p><p>在创建了远程库之后，github会提供给我们两个库的链接，一个是http，一个是ssh，我们先用http。<br>接下来，我们来把本地库和远程库链接起来，指令很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;别名&gt; &lt;链接&gt; //</span><br></pre></td></tr></table></figure><ul><li>这个别名是因为链接比较复杂，所以给链接起个别名，这里建议也是取库的名字，便于记忆</li></ul><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/19.png" class><p>使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>可以查看现在有的链接。<br>欸，你会发现，明明我只链接一个链接，为什么会有两个（一个fetch，一个push）。害，一个拉取一个推送嘛，双向通道咯，不过fetch是包含了clone和pull两个方式的。</p><h3 id="推送">推送</h3><p>推送的指令很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;别名&gt; &lt;分支&gt;</span><br></pre></td></tr></table></figure><ul><li>这里要注意，别名就是那个链接，然后git推送的最小单位是分支，所以要加上分支名</li></ul><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/20.png" class><ul><li>这里可能有人会弹出登录界面，这才是正常的。因为我在github上设置了ssh免密，相当于github已经认识我这台电脑了，所以可以直接传上去。</li></ul><p>现在，远程库就有我们的文件啦。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/21.png" class><h3 id="拉取">拉取</h3><p>如果远程库中的内容有改动，我们就要拉取新的内容到本地库，操作时类似的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;别名&gt; &lt;分支&gt;</span><br></pre></td></tr></table></figure><h3 id="克隆">克隆</h3><p>我相信克隆应该时大家最常见的操作了吧，毕竟，白嫖最香了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;远程库地址&gt;</span><br></pre></td></tr></table></figure><p>git clone 并不需要登录github，且会做三件事：</p><ol><li>拉取代码</li><li>初始化本地仓库</li><li>创建别名</li></ol><h2 id="总结-3">总结</h2><p>这一节我们讲了版本穿梭，分支，和远程仓库的连接，其实这已经包含了大部分的内容了，接下来，我们会接触到团队协作，还有就是使用IDEA集成git，挥这个之后，我们甚至不用打命令了。大家下次见！<br><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;版本穿梭、分支和远端推送&lt;/h1&gt;
&lt;p&gt;在上一节中&lt;a href=&quot;https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/&quot;&gt;上一篇博客&lt;/a&gt;，我们讲解了本地</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始1</title>
    <link href="https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/"/>
    <id>https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/</id>
    <published>2023-01-28T06:17:39.000Z</published>
    <updated>2023-02-04T16:07:53.316Z</updated>
    
    <content type="html"><![CDATA[<h1>git指令与操作</h1><p>顺着上一篇博客<a href="https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/">上一篇博客链接</a> ，这一节我们来讲具体的git指令和操作了。</p><h2 id="初始化本地库">初始化本地库</h2><p>初始化本地库的指令是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/1.png" class><p>使用这个命令的意思就是，用户将要使用git来管理项目，而不是其他方法（例如手动管理）。<br>此时文件夹中会出现一个名字为 <strong>“.git”</strong> 的文件夹，但改文件夹默认为隐藏文件夹。（就是为了不要让普通人随意更改其中的文件，至于这之中的内容，我们要放到之后再说）</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/2.png" class><ul><li>可以看到，需要使用 <strong>“ll -a”</strong> 指令才能展示隐藏文件夹。</li></ul><h2 id="查看本地库状态">查看本地库状态</h2><p>查看本地库状态的指令是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>如图所示：</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/3.png" class><p>在git的返回信息中， <strong>“on branch master”</strong> 表示此时项目在默认的分支“master”上， <strong>“no commits yet”</strong> 表示还没有提交任何东西，毕竟是空文件夹嘛，而且它也告诉你 <strong>“nothing to commit”</strong> 。</p><p>所以让我们来新建一个test用的文本文件来试一下：</p><ol><li>输入vim hello.txt，该命令新建一个hello的文本文件并进入输入界面</li><li>按“i”进入输入模式</li><li>输入“Hello world!”或者别的内容</li><li>按“esc”退出</li><li>将光标回退到第一行第一格，使用“yy”复制第一行，使用“p”黏贴内容，我粘贴了三行。</li><li>输入“:wq”保存退出</li></ol><ul><li>这些用到的指令都是linux（包含vim）中的，因为git原先是基于linux内核开发的工具，所以。。。</li></ul><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/4.png" class><p>此时再输入“git status”，会发现反馈信息变了，git提示你有一个红色名字的文件“untracked（未追踪）”，这是因为你还没有告诉git这个你要对这个文件做什么，但是它推荐你使用 <strong>“git add”</strong> 命令将该文件加入到暂存区中，也就是说， <strong>追踪它！</strong> 。</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/5.png" class><h2 id="添加暂存区">添加暂存区</h2><p>添加暂存区的指令自然就是上面提到的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add</span><br></pre></td></tr></table></figure><p>具体来说，有几种常见方法。<br>第一，添加所有未追踪文件进入暂存区</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .   //或者</span><br><span class="line">git add -A</span><br></pre></td></tr></table></figure><p>“.”表示当前文件夹，“-A”表示“ALL”所有文件，因为我们命令台打开的位置就是当前文件夹，所以这两个指令是一样的。<br>第二，添加指定文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add hello.txt</span><br></pre></td></tr></table></figure><p>执行之后，再看一下状态，你会发现git用绿色的字告诉你，有新文件被追踪了！</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/6.png" class><ul><li>注意这里有一个warning，意思是说，你的 <strong>文章末尾的换行符会从LF格式替换成CRLF格式</strong>, 因为你是万恶的windows系统啦~~ 在linux中人家和你不一样啦~ 但是你如果是高贵的mac，就会发现，没有这个警告，总之，不用管他~</li></ul><p>同时git提示你，使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;file&gt;</span><br></pre></td></tr></table></figure><p>可以删除刚刚加入暂存区的文件，如图所示：</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/7.png" class><h2 id="提交本地库">提交本地库</h2><p>将文件提交到暂存区之后，就要将文件提交到本地库了，这就形成一次完整的版本！其命令是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;XXX&quot; &lt;file&gt;</span><br></pre></td></tr></table></figure><ul><li>-m “XXX” 是提交日志的信息，如果你只输入git commit，界面会自动跳转到让你输入日志信息。输入“#”则是保留为空信息。</li></ul><p>提交完成后，再次查看状态，git会告诉你“working tree clean”，工作树已经清空了，没有新的要递交的文件了。</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/8.png" class><p>使用指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure><p>可以查看提交库的日志信息，例如这里的反馈信息中的“c95011e”就是版本号。一般来说，这是自己做开发时使用的命令，如果是团队开发，则可以使用显示递交人的指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure><p>在这里，反馈信息就会提供完整的版本号和提交人信息了。团队开发很有用哦！</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/9.png" class><h2 id="修改文件">修改文件</h2><p>如果对项目中的文件进行了修改，被修改的文件实际可以上可以被理解为新的文件，实际上也就是版本更新了，要提交修改过的文件实际上也是相同的操作，即上面的命令流程，这里就不做重复解释了。</p><h2 id="总结-2">总结</h2><p>这一节我们学习了对于本地库中文件的提交流程以及状态查看，至此，其实我们已经算得上是在用git管理项目了。下一节将会开始讲解项目版本的管理以及如何把项目推送到远端，例如github。敬请期待。<br><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;git指令与操作&lt;/h1&gt;
&lt;p&gt;顺着上一篇博客&lt;a href=&quot;https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/&quot;&gt;上一篇博客链接&lt;/a&gt; ，这一节我们来</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始0</title>
    <link href="https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/"/>
    <id>https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/</id>
    <published>2023-01-13T15:00:21.000Z</published>
    <updated>2023-01-28T13:53:05.001Z</updated>
    
    <content type="html"><![CDATA[<h1>git从零开始</h1><p>好久没有更新博客了，sorry,每天都生活在教授的PUA下，水深火热。想着还是学点自己喜欢的东西吧。所以这篇博客他诞生了。<br>git是一个项目版本管理器，想必程序员或者项目管理人员，直白点说，只要接触github就得接触git吧？你难道不git clone？(滑稽.jpg)<br>git相关的知识内容不多也不难，然而每次要用到git的时候，却又很容易忘记。（顺便一提，我学git是为了能够在两台电脑上同步更新博客）所以接下来就让我们好好介绍一下这个程序员必须接触的版本管理神器吧！这一节中，我将对git进行一个简要的介绍。</p><h2 id="git简介">git简介</h2><p>git是一个项目版本管理器。什么是项目管理呢。来，上图!</p><img src="/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/1.png" class><p>如图所示，这就是最简单的一种版本管理方式。例如，在老板要求你写一份项目报告时，你会有一个初稿，然后你对初稿不满意，进行了修改，得到了&quot;V2&quot;。提交之后，老板不满意，打回修改……最后你得到了最终稿，你保留所有的文件，放在一个文件夹里，你就得到了一份稿件的文件历史，这就是项目版本管理。而这种管理方式是在本地进行的，手法也非常的单纯。<br>久而久之，人们发现这样的版本管理存在着巨大的缺点：</p><ol><li>非常的单纯（愚蠢）！你想，一旦你电脑有一天烧了，这些项目直接消失了。</li><li>如果项目每一次的文件都很大呢，对于一个完整的程序项目来说，一份上G轻轻松松，如果像这样管理项目，你的硬盘可能就要爆了哟。</li></ol><p>因此，CVS（协作版本系统）诞生了。简单来说,CVS改进的点就是应用了客户端-服务器的模式。我们可以将项目修改的版本上传到服务器，服务器在一个局限的网络中，为所有客户端提供接口，每次需要以前项目的时候，就从服务器上扒拉下来。但是，CVS同样存在着缺点，如果服务器有一天也炸了呢？同样没有办法再找回那些数据了。因此，我们需要一种不仅在服务器中保留版本，在客户端同样能够保留版本历史的版本管理工具。<br><strong>git则提供了一个更加优秀的版本管理方法，让项目无论是在本地还是在云端，都可以得到很好的管控。</strong> 与云端或者远端相结合，最常见的手段就是利用github、gitee等平台。</p><h2 id="git原理">git原理</h2><p>git的工作原理非常简单，git将（<strong>本地</strong>）架构划分为三个层次：</p><ol><li>工作区</li><li>暂存区</li><li>本地库</li></ol><p>三个层级间的流可以表现为以下方式：</p><table><thead><tr><th></th><th>工作区</th><th>–&gt;git add–&gt;</th><th>暂存区</th><th>–&gt;git commit–&gt;</th><th>本地库</th></tr></thead><tbody><tr><td>备注</td><td>写代码的地方</td><td>将代码提交到暂存区</td><td>暂存代码的区域</td><td>将代码保存为一个版本提交到本地库</td><td>递交版本的区域</td></tr></tbody></table><p><strong>需要注意：</strong></p><ol><li><strong>工作区指的不是打开一个idea里面编辑代码的空间，而是代码文件存放的目录空间，比如XX文件夹内</strong></li><li><strong>工作区和暂存区内的内容（版本）都是可以删除的，但本地库中提交的版本，是不能删除的，因为每一个新版本都是基于上一个版本得到的，如果该功能被设计成能随意删除中间的一个版本，那就崩辣！</strong></li><li><strong>当然，最暴力的方法也有，就是把整个本地库都删除了（谁还不会删库跑路呢？）</strong></li></ol><p>你会发现，这里还少了一个内容，就是<strong>远程库</strong>。没错，以上是git在本地的工作流。如果想要将版本推送到远程库，例如github，就要使用另一个指令了。这里补充下本地库到远程库的表现。</p><table><thead><tr><th></th><th>本地库</th><th>–&gt;git push–&gt;</th><th>远程库</th></tr></thead><tbody><tr><td>备注</td><td>本地保存历史版本的区域</td><td>将代码推送到远端</td><td>远程仓库（比如github）</td></tr></tbody></table><h2 id="总结">总结</h2><p>在这一节，我简单讲了一下什么是git、git的工作流程，接下来，我就会讲具体的操作了，也是工作中基本的需要熟悉的操作。当然这中间还有关于 <strong>git的下载、安装、用户签名（账号密码)</strong> 的一些内容，但我觉得这些不是灵活的知识，所以就不做特别的讲解。<br>大家下一节再见！<br><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;git从零开始&lt;/h1&gt;
&lt;p&gt;好久没有更新博客了，sorry,每天都生活在教授的PUA下，水深火热。想着还是学点自己喜欢的东西吧。所以这篇博客他诞生了。&lt;br&gt;
git是一个项目版本管理器，想必程序员或者项目管理人员，直白点说，只要接触github就得接触git吧？你难</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>连通域标记算法（connected-component labeling）</title>
    <link href="https://yigexiaogai.github.io/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/</id>
    <published>2022-07-23T04:17:42.000Z</published>
    <updated>2023-01-21T08:17:29.203Z</updated>
    
    <content type="html"><![CDATA[<p>在之前的<a href="https://yigexiaogai.github.io/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/">matlab基础 影像处理篇（二）</a>小节中，我们介绍了matlab中的连通域标记方法bwlabel，今天我们要根据算法的原理，自己写代码实现连通域标记。</p><p>本博客主要参考了 <strong><a href="https://blog.csdn.net/icvpr/article/details/10259577">OpenCV_连通区域分析</a></strong> 这一篇CSDN上的博客，该博客通过opencv实现，我将算法改写成matlab的语法，且该博客中的第二种方法的代码有比较严重的问题，接下来我也会说明。</p><h1>摘要</h1><p>本文主要介绍在CVPR和图像处理领域中较为常用的一种图像区域（Blob）提取的方法——连通性分析法（连通区域标记法）。文中介绍了两种常见的连通性分析的算法：1）两步法（Two-pass）；2）种子填充法（Seed-Filling）</p><h1>连通区域分析的算法</h1><p>从连通区域的定义可以知道，一个连通区域是由具有相同像素值的相邻像素组成像素集合，因此，我们就可以通过这两个条件在图像中寻找连通区域，对于找到的每个连通区域，我们赋予其一个唯一的标识（Label），以区别其他连通区域。</p><p>连通区域分析有基本的算法，也有其改进算法，本文介绍其中的两种常见算法：<br>1）两步法（Two-pass）；2）种子填充法（Seed-Filling）</p><blockquote><p>note</p><blockquote><p>a、这里的扫描指的是按行或按列访问以便图像的所有像素，本文算法采用的是按行扫描方式；<br>b、图像记为B，为二值图像：前景像素（pixel value = 1），背景像素（pixel value = 0）<br>c、label专门存储在label_map中，label从1开始计数；<br>d、像素相邻关系：4-领域、8-领域，本文算法采用4-邻域；</p></blockquote></blockquote><table><tr><td><img src="/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/1.png" title="4邻域" width="50%"></td><td><img src="/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/2.png" title="8邻域" width="50%"></td></tr></table><h1>两步法（Two-pass）</h1><p>两遍扫描法，正如其名，指的就是通过扫描两遍图像，就可以将图像中存在的所有连通区域找出并标记。思路：第一遍扫描时赋予每个像素位置一个label，扫描过程中同一个连通区域内的像素集合中可能会被赋予一个或多个不同label，因此需要将这些属于同一个连通区域但具有不同值的label合并，也就是记录它们之间的相等关系；第二遍扫描就是将具有相等关系的equal_labels所标记的像素归为一个连通区域并赋予一个相同的label（通常这个label是equal_labels中的最小值）。</p><h2 id="步骤">步骤</h2><blockquote><p>1.第一次扫描<br>访问当前像素B(x,y)，如果B(x,y) == 1：</p><blockquote><p>a. 如果B(x,y)的领域中像素值都为0，则赋予B(x,y)一个新的label：<br>label += 1， B(x,y) = label；</p></blockquote></blockquote><blockquote><blockquote><p>b.如果B(x,y)的领域中有像素值 &gt; 1的像素Neighbors：</p><blockquote><p>(1) 将Neighbors中的最小值赋予给B(x,y):<br>B(x,y) = min{Neighbors}</p></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p>(2)记录Neighbors中各个值（label）之间的相等关系，即这些值（label）同属同一个连通区域；<br>labelSet[i] = { label_m, …, label_n }，labelSet[i]中的所有label都属于同一个连通区域（注：这里可以有多种实现方式，只要能够记录这些具有相等关系的label之间的关系即可）</p></blockquote></blockquote></blockquote><blockquote><p>2.第二次扫描<br>访问当前像素B(x,y)，如果B(x,y) &gt; 1：</p><blockquote><p>a、找到与label = B(x,y)同属相等关系的一个最小label值，赋予给B(x,y)；</p></blockquote></blockquote><blockquote><p>完成扫描后，图像中具有相同label值的像素就组成了同一个连通区域。</p></blockquote><p>算法过程如动图所示：</p><img src="/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/3.gif" class><h2 id="算法-2">算法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[map_label_second, count]</span> = <span class="title">two_pass</span><span class="params">( image )</span> % 作为函数，传入的是二值化图片<span class="title">image</span></span></span><br><span class="line"><span class="comment">% 参考：https://blog.csdn.net/gaohanggaolegao/article/details/104911272</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% 初始化准备</span></span><br><span class="line">[row, col] = <span class="built_in">size</span>(image);</span><br><span class="line"></span><br><span class="line">map_label_first = <span class="built_in">zeros</span>(<span class="built_in">size</span>(image)); <span class="comment">% first pass</span></span><br><span class="line">map_label_second = <span class="built_in">zeros</span>(<span class="built_in">size</span>(image)); <span class="comment">% second pass</span></span><br><span class="line"></span><br><span class="line">label_ID = <span class="number">1</span>;</span><br><span class="line">label_set = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">%% First pass for temporary labels.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:row</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:col</span><br><span class="line">        tmp_neighbors = []; <span class="comment">% 初始化邻域集</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(image(<span class="built_in">i</span>, <span class="built_in">j</span>)==<span class="number">1</span>) <span class="comment">% foreground</span></span><br><span class="line">            <span class="comment">% 将上和左的label_id加进neighbor中</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">i</span><span class="number">-1</span>&gt;<span class="number">0</span> &amp;&amp; image(<span class="built_in">i</span><span class="number">-1</span>, <span class="built_in">j</span>)==<span class="number">1</span> &amp;&amp; map_label_first(<span class="built_in">i</span><span class="number">-1</span>, <span class="built_in">j</span>)~=<span class="number">0</span>) <span class="comment">% up</span></span><br><span class="line">                tmp_neighbors(<span class="number">1</span>, <span class="built_in">length</span>(tmp_neighbors)+<span class="number">1</span>) = map_label_first(<span class="built_in">i</span><span class="number">-1</span>,<span class="built_in">j</span>);</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">j</span><span class="number">-1</span>&gt;<span class="number">0</span> &amp;&amp; <span class="number">1</span>==image(<span class="built_in">i</span>,<span class="built_in">j</span><span class="number">-1</span>) &amp;&amp; map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span><span class="number">-1</span>)~=<span class="number">0</span>) <span class="comment">% left</span></span><br><span class="line">                tmp_neighbors(<span class="number">1</span>, <span class="built_in">length</span>(tmp_neighbors)+<span class="number">1</span>) = map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span><span class="number">-1</span>);</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            </span><br><span class="line">            label_neighbors = unique(tmp_neighbors); <span class="comment">% 去重</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isempty</span>(label_neighbors)==<span class="built_in">true</span>) <span class="comment">% 加入一个新的id</span></span><br><span class="line">                map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span>) = label_ID;</span><br><span class="line">                label_set(<span class="number">1</span>, label_ID) = label_ID; <span class="comment">% 加入到label_set中</span></span><br><span class="line">                label_ID = label_ID + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="comment">% Update label_set</span></span><br><span class="line">                map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span>) = <span class="built_in">min</span>(label_neighbors); <span class="comment">% 取领域中的最小值</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">length</span>(label_neighbors)~=<span class="number">1</span></span><br><span class="line">                    label_set(<span class="number">1</span>, <span class="built_in">max</span>(label_neighbors)) = <span class="built_in">min</span>(label_neighbors); <span class="comment">% 把小值作为大值的指针，构成连接关系</span></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">end</span>   </span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% Second pass for merging labels.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">1</span>:row</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="number">1</span>:col</span><br><span class="line">        <span class="keyword">if</span>(map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span>)~=<span class="number">0</span>) <span class="comment">% 像素点有连通域</span></span><br><span class="line">            map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>) = label_set(<span class="number">1</span>, map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span>)); <span class="comment">% 给定第一个指针后的初值</span></span><br><span class="line">            <span class="keyword">while</span>(label_set(<span class="number">1</span>,map_label_second(<span class="built_in">i</span>, <span class="built_in">j</span>))~=map_label_second(<span class="built_in">i</span>, <span class="built_in">j</span>)) <span class="comment">% 如果没有递归结束就继续进行递归</span></span><br><span class="line">                map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>) = label_set(<span class="number">1</span>, map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>));</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% 统计个数</span></span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line">start = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:row</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:col</span><br><span class="line">        <span class="keyword">if</span> map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>)&gt;start</span><br><span class="line">            count = count+<span class="number">1</span>;</span><br><span class="line">            start = map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="注意点">注意点</h2><p><strong>有两点需要注意：</strong></p><p>第一点是当领域集的长度为1的时候，说明这个像素点上方和左方都是相同的像素，这个图形很有可能是一个往下凸的形状，这个时候应该规避更新label_set,防止本来构建的链表被错误更新：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">length</span>(label_neighbors)~=<span class="number">1</span></span><br><span class="line">    label_set(<span class="number">1</span>, <span class="built_in">max</span>(label_neighbors)) = <span class="built_in">min</span>(label_neighbors); <span class="comment">% 把小值作为大值的指针，构成连接关系</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>第二点是链表可能不止一层的指向，在没有指到底的时候，必须让它递归，指到最后</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span>)~=<span class="number">0</span>) <span class="comment">% 像素点有连通域</span></span><br><span class="line">    map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>) = label_set(<span class="number">1</span>, map_label_first(<span class="built_in">i</span>,<span class="built_in">j</span>)); <span class="comment">% 给定第一个指针后的初值</span></span><br><span class="line">    <span class="keyword">while</span>(label_set(<span class="number">1</span>,map_label_second(<span class="built_in">i</span>, <span class="built_in">j</span>))~=map_label_second(<span class="built_in">i</span>, <span class="built_in">j</span>)) <span class="comment">% 如果没有递归结束就继续进行递归</span></span><br><span class="line">        map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>) = label_set(<span class="number">1</span>, map_label_second(<span class="built_in">i</span>,<span class="built_in">j</span>));</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h1>种子填充法（Seed-Filling）</h1><p>种子填充方法来源于计算机图形学，常用于对某个图形进行填充。思路：选取一个前景像素点作为种子，然后根据连通区域的两个基本条件（像素值相同、位置相邻）将与种子相邻的前景像素合并到同一个像素集合中，最后得到的该像素集合则为一个连通区域。</p><h2 id="步骤-2">步骤</h2><blockquote><p>1.扫描图像，直到当前像素点B(x,y) == 1：</p><blockquote><p>a、将B(x,y)作为种子（像素位置），并赋予其一个label，然后将该种子相邻的所有前景像素都压入栈中；<br>b、弹出栈顶像素，赋予其相同的label，然后再将与该栈顶像素相邻的所有前景像素都压入栈中；<br>c、重复b步骤，直到栈为空；<br>此时，便找到了图像B中的一个连通区域，该区域内的像素值被标记为label；</p></blockquote></blockquote><blockquote><p>2.重复第（1）步，直到扫描结束；<br>扫描结束后，就可以得到图像B中所有的连通区域；</p></blockquote><p>算法过程如动图所示：</p><img src="/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/4.gif" class><h2 id="算法-3">算法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[map_label, label_ID]</span> = <span class="title">seed_filling</span><span class="params">( image )</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% 初始化准备</span></span><br><span class="line">[row, col] = <span class="built_in">size</span>(image);</span><br><span class="line">label_ID = <span class="number">0</span>; </span><br><span class="line">map_label = <span class="built_in">zeros</span>(<span class="built_in">size</span>(image)); </span><br><span class="line"></span><br><span class="line"><span class="comment">%% </span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:row</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:col</span><br><span class="line">        <span class="keyword">if</span> image(<span class="built_in">i</span>, <span class="built_in">j</span>)==<span class="number">1</span></span><br><span class="line">            neighborPixels =&#123;&#125;; <span class="comment">% 初始化为空cell, 其中放的是坐标</span></span><br><span class="line">            neighborPixels&#123;<span class="keyword">end</span>+<span class="number">1</span>&#125;=[<span class="built_in">i</span> ,<span class="built_in">j</span>];</span><br><span class="line">            label_ID = label_ID+<span class="number">1</span>; <span class="comment">% 开始一个新的label</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span>(~<span class="built_in">isempty</span>(neighborPixels))</span><br><span class="line">                <span class="comment">% 获取label的值并赋给相应坐标</span></span><br><span class="line">                curPixel=neighborPixels&#123;<span class="keyword">end</span>&#125;; <span class="comment">% 邻域最后那个坐标</span></span><br><span class="line">                curX = curPixel(<span class="number">1</span>);</span><br><span class="line">                curY = curPixel(<span class="number">2</span>);</span><br><span class="line">                </span><br><span class="line">                map_label(curX, curY)=label_ID;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">% 消去已经赋值的坐标</span></span><br><span class="line">                neighborPixels(<span class="keyword">end</span>)=[]; <span class="comment">% 最后的坐标置空</span></span><br><span class="line">                image(curX, curY)=<span class="number">0</span>; <span class="comment">% 把已经解决的像素置为0，不然会死循环</span></span><br><span class="line">                </span><br><span class="line">                <span class="comment">% push四邻域</span></span><br><span class="line">                <span class="keyword">if</span> (curX<span class="number">-1</span>&gt;<span class="number">0</span> &amp;&amp; image(curX<span class="number">-1</span>,curY)==<span class="number">1</span>) <span class="comment">% up</span></span><br><span class="line">                    neighborPixels&#123;<span class="keyword">end</span>+<span class="number">1</span>&#125;=[curX<span class="number">-1</span>, curY];</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">if</span> (curX+<span class="number">1</span>&lt;=row &amp;&amp; image(curX+<span class="number">1</span>,curY)==<span class="number">1</span>) <span class="comment">% down</span></span><br><span class="line">                    neighborPixels&#123;<span class="keyword">end</span>+<span class="number">1</span>&#125;=[curX+<span class="number">1</span>, curY];</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">if</span> (curY<span class="number">-1</span>&gt;<span class="number">0</span> &amp;&amp; image(curX,curY<span class="number">-1</span>)==<span class="number">1</span>) <span class="comment">% left</span></span><br><span class="line">                    neighborPixels&#123;<span class="keyword">end</span>+<span class="number">1</span>&#125;=[curX, curY<span class="number">-1</span>];</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                <span class="keyword">if</span> (curY+<span class="number">1</span>&lt;=col &amp;&amp; image(curX,curY+<span class="number">1</span>)==<span class="number">1</span>) <span class="comment">% right</span></span><br><span class="line">                    neighborPixels&#123;<span class="keyword">end</span>+<span class="number">1</span>&#125;=[curX, curY+<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="注意点-2">注意点</h2><p><strong>有一点需要注意:</strong></p><p>一定要把已经赋值结束的坐标的像素置为0，不然由于循环到下一个领域时，又会回到上一个位置，造成死循环。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 消去已经赋值的坐标</span></span><br><span class="line">neighborPixels(<span class="keyword">end</span>)=[]; <span class="comment">% 最后的坐标置空</span></span><br><span class="line">image(curX, curY)=<span class="number">0</span>; <span class="comment">% 把已经解决的像素置为0，不然会死循环</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在之前的&lt;a href=&quot;https://yigexiaogai.github.io/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%</summary>
      
    
    
    
    <category term="matlab基础" scheme="https://yigexiaogai.github.io/categories/matlab%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="matlab" scheme="https://yigexiaogai.github.io/tags/matlab/"/>
    
    <category term="教程向" scheme="https://yigexiaogai.github.io/tags/%E6%95%99%E7%A8%8B%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>直方图均衡化</title>
    <link href="https://yigexiaogai.github.io/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/"/>
    <id>https://yigexiaogai.github.io/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/</id>
    <published>2022-07-21T05:01:56.000Z</published>
    <updated>2023-01-21T08:17:29.184Z</updated>
    
    <content type="html"><![CDATA[<h1>直方图均衡化</h1><p>直方图均衡化在网络上有相当多的博客，CSDN有许多优秀的回答，读者可自行查询。本博客主要从直方图均衡化的数学原理入手，主要参考了这一篇博客：<a href="https://blog.csdn.net/superjunenaruto/article/details/52431941?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165838939716781667868935%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165838939716781667868935&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-52431941-null-null.142%5Ev33%5Epc_rank_34,185%5Ev2%5Econtrol&amp;utm_term=%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96%20%E6%95%B0%E5%AD%A6%E5%8E%9F%E7%90%86&amp;spm=1018.2226.3001.4187">直方图均衡化的数学原理</a></p><p>直方图均衡化，实际上是我们需要考虑如下图的方式：如何把一个凹凸不平的函数给尽量抹平。</p><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/1.png" class><h2 id="直方图的定义">直方图的定义</h2><p>由于我们平时遇到的直方图都是离散的，毕竟是像素统计出来的，但实际上我们可以先考虑连续情况，再推广到离散情况。</p><p>一个灰度级在范围[0, L-1]的数字图像，其直方图是一个离散函数</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><msub><mi>n</mi><mi>k</mi></msub><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">p(r_k)=\frac{n_k}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>n是图像的像素总数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">n_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是图像中第k个灰度级的像素总数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">r_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是第k个灰度级，k=0,1,2……L-1。这里我们对每一个nk都除以n是为了归一化，这样的画，函数与x轴包围的面积就是1。</p><h2 id="直方图变换理论基础">直方图变换理论基础</h2><p>设连续图像的概率分布为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>lim</mi><mo>⁡</mo></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>r</mi><mo>→</mo><mn>0</mn></mrow></munder><mfrac><mrow><mi>A</mi><mo stretchy="false">(</mo><mi>r</mi><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>r</mi><mo stretchy="false">)</mo><mo>−</mo><mi>A</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>r</mi><mi>A</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(r)=\lim_{\Delta r \rightarrow 0}\frac{A(r+\Delta r)-A(r)}{\Delta r A} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1713em;vertical-align:-0.7443em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.3557em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mrel mtight">→</span><span class="mord mtight">0</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7443em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">A</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mo>∫</mo><msub><mi>r</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><msub><mi>r</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></msubsup><mi>P</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo><mi>d</mi><mi>r</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\int_{r_{min}}^{r_{max}}P(r)dr=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4263em;vertical-align:-1.012em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4143em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">min</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>r表示灰度，且0&lt;=r&lt;=1，A为图像面积。想象一下，图像面积随着x轴增大不断增加，当x=a时，图像面积的概率就是当x=a时面积的导数除以整个图像的面积。</p><p>对于离散图像的情况更简单一点：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><msub><mi>n</mi><mi>i</mi></msub><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">P(r_i)=\frac{n_i}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></munderover><mi>P</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\sum_{i=0}^{k-1}P(r_i)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1138em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>假设r是原函数，s是均衡化后的函数，我们的任务目标就是找到一个灰度映射关系T，使<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s=T(r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span>.</p><p>那么T的反变换就是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r=T^{-1}(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>由概率论知，若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_r(r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span>和变换函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s=T(r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span>已知，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r=T^{-1}(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>是单调增长函数，则变换后的图像灰度级的概率密度函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_s(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>P</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msub><mi>P</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo><mfrac><mrow><mi>d</mi><mi>r</mi></mrow><mrow><mi>d</mi><mi>s</mi></mrow></mfrac><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∣</mi><mrow><mi>r</mi><mo>=</mo><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub></mrow><annotation encoding="application/x-tex">P_s(s)=(P_r(r)\frac{dr}{ds})|_{r=T^{-1}(s)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>所以，现在的目标就是找到T</p><h3 id="概率论——随机变量函数分布">概率论——随机变量函数分布</h3><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/2.png" class><h3 id="T是r的累计分布函数">T是r的累计分布函数</h3><p>实际上，根据概率论中分布函数的知识，我们可以知道，T就是r的累计分布函数，这样就能抹平r。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><mi>r</mi></msubsup><msub><mi>p</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo><mi>d</mi><mi>ω</mi></mrow><annotation encoding="application/x-tex">s=T(r)=\int_0^r p_r(\omega)d\omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3262em;vertical-align:-0.9119em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4143em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span></span></span></span></span></p><p>因为累计分布函数意味着每个灰度值占据总体像素的比例，只要这个比例作用到数轴上，那么就可以“拉伸”函数的各处，把它拉平。</p><p>想象一根皮筋，有的地方紧（表示比例多），有的地方松（表示比例少），现在我们拉这个皮筋要让它各处松紧程度一样，那是不是紧的地方拉长一点，松的地方拉少一点，一个道理。</p><h3 id="推广到离散形式">推广到离散形式</h3><p>设一副图像像素数为n，有l个灰度级，则第k个灰度级出现的概率可表示为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>P</mi><mi>r</mi></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><msub><mi>n</mi><mi>k</mi></msub><mi>n</mi></mfrac><mo separator="true">,</mo><mn>0</mn><mo>≤</mo><msub><mi>r</mi><mi>k</mi></msub><mo>≤</mo><mn>1</mn><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>l</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">P_r(r_k)=\frac{n_k}{n},0\leq r_k\leq 1, k=0,1,\dots,l-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>变换函数T（r）可改写为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>s</mi><mi>k</mi></msub><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>−</mo><mn>0</mn></mrow><mi>k</mi></munderover><msub><mi>P</mi><mi>r</mi></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>k</mi></munderover><mfrac><msub><mi>n</mi><mi>j</mi></msub><mi>n</mi></mfrac><mo separator="true">,</mo><mn>0</mn><mo>≤</mo><msub><mi>r</mi><mi>k</mi></msub><mo>≤</mo><mn>1</mn><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>l</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">s_k=T(r_k)=\sum_{j-0}^kP_r(r_j)=\sum_{j=0}^k\frac{n_j}{n},0\leq r_k\leq 1,k=0,1,\dots,l-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.2499em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">−</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.2499em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><h2 id="例子-2">例子</h2><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/3.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/4.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/5.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/6.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/7.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/8.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/9.png" class><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/10.png" class><h2 id="算法">算法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 读入图片</span></span><br><span class="line">img1=imread(<span class="string">&#x27;test image/lena.tif&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 直方图均衡化</span></span><br><span class="line">after = myhisteq(img1);</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>); imshow(img1); title(<span class="string">&#x27;原图像&#x27;</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>); imhist(img1);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>); imshow(after); title(<span class="string">&#x27;变化后图象&#x27;</span>);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>); imhist(after);</span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hist_img</span> = <span class="title">myhisteq</span><span class="params">( img1 )</span></span></span><br><span class="line"><span class="comment">% myhisteq 此处显示有关此函数的摘要</span></span><br><span class="line"><span class="comment">%   自己写的直方图均衡化</span></span><br><span class="line"></span><br><span class="line">[height, weight] = <span class="built_in">size</span>(img1);</span><br><span class="line">img_size = height * weight; <span class="comment">% 像素个数</span></span><br><span class="line">hist_freq = <span class="built_in">zeros</span>(<span class="number">1</span>, <span class="number">256</span>); <span class="comment">% 存储灰度分布</span></span><br><span class="line">hist_freq_output = hist_freq; <span class="comment">% 输出分布表</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 整理数据</span></span><br><span class="line">temp = img1(:);</span><br><span class="line">temp = <span class="built_in">sort</span>(temp);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 统计分布</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:img_size</span><br><span class="line">    hist_freq(temp(<span class="built_in">i</span>)+<span class="number">1</span>) = hist_freq(temp(<span class="built_in">i</span>)+<span class="number">1</span>)+<span class="number">1</span>; <span class="comment">% hist_freq(1)灰度值为0</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 获得累计分布函数</span></span><br><span class="line">hist_add_freq = hist_freq; <span class="comment">% 先初始化到和分布函数相同</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> =<span class="number">2</span>:<span class="number">256</span></span><br><span class="line">    hist_add_freq(<span class="built_in">i</span>) = hist_add_freq(<span class="built_in">i</span><span class="number">-1</span>)+hist_freq(<span class="built_in">i</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:<span class="number">256</span> <span class="comment">% 初始化时fist_freq_output(1)=0</span></span><br><span class="line">    hist_freq_output(<span class="built_in">i</span>)=<span class="built_in">round</span>(hist_add_freq(<span class="built_in">i</span>)/img_size*<span class="number">255</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 变换应用到图像</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:height</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:weight</span><br><span class="line">        img1(<span class="built_in">i</span>, <span class="built_in">j</span>) = hist_freq_output(img1(<span class="built_in">i</span>, <span class="built_in">j</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">hist_img = img1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>最后结果如图：</p><img src="/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/11.png" class>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;直方图均衡化&lt;/h1&gt;
&lt;p&gt;直方图均衡化在网络上有相当多的博客，CSDN有许多优秀的回答，读者可自行查询。本博客主要从直方图均衡化的数学原理入手，主要参考了这一篇博客：&lt;a href=&quot;https://blog.csdn.net/superjunenaruto/arti</summary>
      
    
    
    
    <category term="matlab基础" scheme="https://yigexiaogai.github.io/categories/matlab%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="matlab" scheme="https://yigexiaogai.github.io/tags/matlab/"/>
    
    <category term="教程向" scheme="https://yigexiaogai.github.io/tags/%E6%95%99%E7%A8%8B%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>matlab基础 影像处理篇（二）</title>
    <link href="https://yigexiaogai.github.io/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2022-07-21T04:58:37.000Z</published>
    <updated>2023-01-21T08:17:29.147Z</updated>
    
    <content type="html"><![CDATA[<h1>matlab中的几种图像处理方法</h1><p>本节我们将接触几种图像处理方法：</p><ul><li>图像二值化（image thresholding）</li><li>背景估计（background estimation）</li><li>连通域标记（connected-component labeling）</li></ul><h2 id="问题背景">问题背景</h2><p>我们看下面这张拍摄了大米的图片：</p><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/rice.png" class><p>现在我们要数出里面有几颗米粒，并且测量其中米粒的大小。</p><p>作为人来说，我们可以一颗一颗数，手动测量米粒的长度，但是机器首先得识别出什么是米粒，再进行计数，这要如何做呢？实际上，识别米粒的过程就可以称作简单的计算机视觉的工作。</p><h2 id="策略">策略</h2><p>在清楚了任务目标后，我们就需要制定一系列的策略来解决这个问题，我们可以分成以下步骤：</p><ol><li>将图像二值化。直接将米的部分变成白色，背景变成黑色，这样就容易分开主体与背景了。</li><li>统计图片中，白色像素联通的部分，有几个部分，就有几颗大米。</li></ol><h2 id="image-thresholding">image thresholding</h2><p>首先先要将图像二值化，所以我们需要知道图像的直方图，然后根据直方图来判断，以灰度值多少为界来将图像二值化。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">img  = imread(<span class="string">&#x27;test image/rice.png&#x27;</span>);</span><br><span class="line">img = rgb2gray(img);<span class="comment">% 转换成灰度图，不然imhist会报错</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>); imshow(img); title(<span class="string">&#x27;rice&#x27;</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>); imhist(img); title(<span class="string">&#x27;hist of rice&#x27;</span>);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/1.png" class><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">level = graythresh(img); <span class="comment">% 根据灰度分布来找到一个合适的阈值</span></span><br><span class="line">bw = im2bw(img, level); <span class="comment">% 根据阈值来区分主体与背景</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>); imshow(img);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>); imshow(bw);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/2.png" class><p>经过上面的代码我们就初步将大米与背景分开了，这里有一个可以了解一下的问题，就是这个graythresh的工作原理，我暂时也没搞懂，以后弄懂会写一篇博客。总之在这里，graythresh可以智能地获得阈值。</p><p>但是看图我们会发现两个问题，1. 在图片下部的一些大米好像丢失了；2. 在图片中间还存在着一些白色的小点，这些噪声可能会影响到之后的识别。</p><p>问题1的原因是，图片本身的背景就是中间比较亮，下方比较暗，比较暗的大米可能被划分成背景了。问题2的原因是，图片中存在一些小亮点噪声。</p><p>我们依次解决这两个问题。</p><h2 id="background-estimation">background estimation</h2><p>解决两个问题的办法就是让matlab识别出图片的背景，然后让图片减去背景就可以了。这里的原理比较复杂，总之就是使用imopen函数和strel方法就可以智能得到背景。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">BG = imopen(img, strel(<span class="string">&#x27;disk&#x27;</span>, <span class="number">15</span>));</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">imshow(BG); title(<span class="string">&#x27;background&#x27;</span>);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/3.png" class><h3 id="imsubtract">imsubtract()</h3><p>使用imsubtract则可以使两张图片相减。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">img2=imsubtract(img, BG);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>); imshow(img); title(<span class="string">&#x27;rice&#x27;</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>); imshow(BG); title(<span class="string">&#x27;background&#x27;</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>); imshow(img2); title(<span class="string">&#x27;rice-background&#x27;</span>);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/4.png" class><p>重新进行threshold:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">level  = graythresh(img2);</span><br><span class="line">bw2 = im2bw(img2, level);</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>); imshow(img);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>); imshow(bw);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>); imshow(img2);</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>); imshow(bw2);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/5.png" class><p>于是我们得到了一张比较完美的二值图像，接下来就是要计数了。</p><h2 id="connected-component-labeling">connected-component labeling</h2><p>连通域标记算法比较复杂，需要一些图例才能说明，在这里推荐大家仔细看一下课程内容，老师讲的很清楚:<a href="https://www.bilibili.com/video/BV1GJ41137UH?p=9&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">影像处理（二）</a>。课程中老师介绍的方法是种子填充（seed-filling）算法，但实际上，常用的连通域标记算法还有两步法（two-pass）、一步法（两步法的改进）等等。<strong>具体的算法将在另一篇博客中介绍：<a href="https://yigexiaogai.github.io/2022/07/23/%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95%EF%BC%88connected-component-labeling%EF%BC%89/">连通域标记算法（connected-component labeling）</a></strong></p><p>在matlab中，其为我们内置了连通域标记方法bwlabel，但是看名字显然，这个方法只对黑白二值图有效。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">[labeled, numObjects]=bwlabel(bw2, <span class="number">8</span>);</span><br><span class="line"><span class="comment">% labeled是标记图，numObjects是图中被标记的个数</span></span><br><span class="line">RGB_label = label2rgb(labeled); imshow(RGB_label);  <span class="comment">% 使用rgb颜色图来标注连通域，使其可视化</span></span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/6.png" class><h2 id="后续处理和优化">后续处理和优化</h2><p>接下来我们找到这些大米中最大的那颗以及它们的平均值:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 找到哪颗米最大，以及它们的平均大小</span></span><br><span class="line">rice_size=<span class="built_in">zeros</span>(<span class="number">1</span>, numObjects);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">size</span>(labeled, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">size</span>(labeled, <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> labeled(<span class="built_in">i</span> ,<span class="built_in">j</span>)~=<span class="number">0</span></span><br><span class="line">            rice_size(labeled(<span class="built_in">i</span>, <span class="built_in">j</span>))=rice_size(labeled(<span class="built_in">i</span>, <span class="built_in">j</span>))+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">max_rice=<span class="built_in">max</span>(rice_size);</span><br><span class="line">mean_rice = <span class="built_in">mean</span>(rice_size);</span><br></pre></td></tr></table></figure><p>其实本来的计数会存在一些问题，比如图片中仍然可能存在一些噪声，所以会存在一些特别小的“米粒”，我们需要把这些去除；而如果有两颗米粒连在一起，可能会造成一颗特别大的米粒，这时候我们就需要把这个米粒算成两颗。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 绘制米大小的直方图，步长为50</span></span><br><span class="line">hist_length=<span class="built_in">round</span>((max_rice+<span class="number">200</span>)/<span class="number">50</span>);</span><br><span class="line">rice_hist=<span class="built_in">zeros</span>(<span class="number">1</span>, hist_length);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">size</span>(rice_size, <span class="number">2</span>)</span><br><span class="line">    pointer = <span class="built_in">floor</span>(rice_size(<span class="built_in">i</span>)/<span class="number">50</span>)+<span class="number">1</span>;</span><br><span class="line">    rice_hist(pointer)=rice_hist(pointer)+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">bar(rice_hist); title(<span class="string">&#x27;米粒大小直方图&#x27;</span>);</span><br><span class="line">set(gca, <span class="string">&#x27;xtick&#x27;</span>, <span class="number">1</span>:<span class="number">1</span>:hist_length);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/7.png" class><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 优化计数</span></span><br><span class="line">new_count=numObjects;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> =<span class="number">1</span>:hist_length</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span>&lt;=<span class="number">3</span></span><br><span class="line">        new_count = new_count -rice_hist(<span class="built_in">i</span>);</span><br><span class="line">    <span class="keyword">elseif</span> <span class="built_in">i</span>&gt;=<span class="number">27</span> <span class="comment">% 阈值可以自己设定</span></span><br><span class="line">        new_count = new_count + rice_hist(<span class="built_in">i</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>matlab也自带了归纳连通域属性的方法regionprops()</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graindata = regionprops(labeled, <span class="string">&#x27;basic&#x27;</span>);</span><br><span class="line">graindata(<span class="number">51</span>) <span class="comment">% 第51个连通域的属性</span></span><br></pre></td></tr></table></figure><p>还可以使用bwselect()，它是一个交互的方法，点击可以显示需要的连通域，很神奇：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">objI = bwselect(bw2); imshow(objI);</span><br></pre></td></tr></table></figure><img src="/2022/07/21/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%BA%8C%EF%BC%89/8.png" class><p><strong>此小节结束，你真厉害！</strong></p><p><img src="https://s2.loli.net/2022/07/06/Kh4zpItmHrbkAPN.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;matlab中的几种图像处理方法&lt;/h1&gt;
&lt;p&gt;本节我们将接触几种图像处理方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;图像二值化（image thresholding）&lt;/li&gt;
&lt;li&gt;背景估计（background estimation）&lt;/li&gt;
&lt;li&gt;连通域标记（con</summary>
      
    
    
    
    <category term="matlab基础" scheme="https://yigexiaogai.github.io/categories/matlab%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="matlab" scheme="https://yigexiaogai.github.io/tags/matlab/"/>
    
    <category term="教程向" scheme="https://yigexiaogai.github.io/tags/%E6%95%99%E7%A8%8B%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>matlab基础 影像处理篇（一）</title>
    <link href="https://yigexiaogai.github.io/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2022-07-14T07:26:52.000Z</published>
    <updated>2023-01-21T08:17:29.138Z</updated>
    
    <content type="html"><![CDATA[<h1>matlab中的图像处理</h1><p>（台湾人好像把图片称作影像捏）</p><h2 id="imread-imshow">imread() &amp; imshow()</h2><p>要对图片进行处理，当然第一步是读入图片了。matlab中使用imread方法读入图片，图片在matlab中将以矩阵的方式呈现。</p><p>读入之后，可以使用imshow方法显示读入的图片。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img1=imread(<span class="string">&#x27;test image/lena.tif&#x27;</span>);</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">imshow(img1)</span><br></pre></td></tr></table></figure><img src="/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/lena.png" class><h2 id="whos">whos</h2><p>关键字whos可以把现在工作区中的变量详细的展示出来，例如对于图片来说，whos可以显示变量的名字，它的size、数据类型以及它的占用空间大小。如果要展示简单的信息则使用关键字who。</p><h2 id="imageinfo-和imtool">imageinfo()和imtool()</h2><p>对于图片类型来说，使用imageinfo方法可以更加详细且有针对性地展示某个图片的信息。而imtool方法则会为用户弹出一个内置的工具界面，里面可以使用图形化的按钮去对图片进行处理。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imageinfo(<span class="string">&#x27;test image/lena.tif&#x27;</span>)</span><br><span class="line">imtool(<span class="string">&#x27;test image/lena.tif&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="处理方法">处理方法</h2><h3 id="immultiply">immultiply()</h3><p>immultiply方法的作用是将图像的亮度整体乘以一个常数。可以将图像变亮变暗。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">img1=imread(<span class="string">&#x27;test image/lena.tif&#x27;</span>);</span><br><span class="line">img2=immultiply(img1, <span class="number">1.5</span>);</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>); imshow(img1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>); imshow(img2);</span><br></pre></td></tr></table></figure><img src="/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/2.png" class><h3 id="imadd">imadd()</h3><p>imadd方法是将两张图像相叠加。但是同样的，由于图像叠加后，整体的亮度对于两张原图来说都提升了，所以将会变亮。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">img1=imread(<span class="string">&#x27;test image/lena.tif&#x27;</span>);</span><br><span class="line">img2=imread(<span class="string">&#x27;test image/plane.tif&#x27;</span>);</span><br><span class="line">img4=imadd(img1, img2);</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>); imshow(img1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>); imshow(img2);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>); imshow(img4);</span><br></pre></td></tr></table></figure><img src="/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/3.png" class><h3 id="imhist">imhist()</h3><p>imhist可以展示出图片的直方图。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>); imshow(img1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>);imhist(img1);</span><br></pre></td></tr></table></figure><img src="/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/4.png" class><h3 id="histeq">histeq()</h3><p>histeq方法是对直方图做均衡化。这样原图灰度相差就会变大，形成一种对比度变大的感觉。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">subplot(<span class="number">1</span>,<span class="number">4</span>,<span class="number">1</span>); imshow(img1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>); imhist(img1);</span><br><span class="line">img1eq=histeq(img1);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>); imshow(img1eq);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>); imhist(img1eq);</span><br></pre></td></tr></table></figure><img src="/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/5.png" class><h3 id="myhisteq">myhisteq()</h3><p>在课程中，老师让同学自己用代码实现一下直方图均衡化，在知道数学原理和算法之后，这个练习也并不复杂，但是步骤还是比较多的，这里给出一个下一篇博客的链接，在那里我会更加详细地完成这个练习。<a href="https://yigexiaogai.github.io/2022/07/21/%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%9D%87%E8%A1%A1%E5%8C%96/">直方图均衡化</a></p><h2 id="几何变换（geometric-transformation）">几何变换（geometric transformation）</h2><p>常见的几何变换共有以下几种：</p><ul><li>平移（translation）</li><li>放缩/拉伸（scale）</li><li>旋转（rotation）</li><li>切变（shear）</li><li>透视（perspective）</li></ul><p>每一个几何变换对应一个变换矩阵。</p><hr><h3 id="scale">scale</h3><p>scale的变换矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>y</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex"> \begin{bmatrix}    S_x &amp; 0 \\    0 &amp; S_y\end{bmatrix} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p>作用到像素点：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><msub><mi>S</mi><mi>x</mi></msub><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><msub><mi>S</mi><mi>y</mi></msub><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>y</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}    x&#x27;=S_xx \\    y&#x27;=S_yy \end{bmatrix} = \begin{bmatrix}    S_x &amp; 0 \\    0 &amp; S_y\end{bmatrix} \begin{bmatrix}    x \\    y\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><hr><h3 id="rotation">rotation</h3><p>rotation有两种变换方向，顺时针和逆时针，当然两者本质上是互通的。逆时针旋转的变换矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex"> \begin{bmatrix}    cos\theta &amp; -sin\theta \\    sin\theta &amp; cos\theta\end{bmatrix} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p>顺时针旋转的变换矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex"> \begin{bmatrix}    cos\theta &amp; sin\theta \\    -sin\theta &amp; cos\theta\end{bmatrix} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p>给出推导过程：</p><img src="/2022/07/14/matlab%E5%9F%BA%E7%A1%80-%E5%BD%B1%E5%83%8F%E5%A4%84%E7%90%86%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/1.png" class><p>设初始点为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> ，旋转后点为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x&#x27;,y&#x27;)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，半径为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> ，旋转矩阵为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\begin{bmatrix}    a &amp; b \\    c &amp; d\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span> 初始夹角为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> ，旋转角为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>。则可以列式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}    a &amp; b \\    c &amp; d\end{bmatrix}\begin{bmatrix}    x \\    y\end{bmatrix}=\begin{bmatrix}    x&#x27; \\    y&#x27;\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>α</mi><mo separator="true">,</mo><mi>r</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>α</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo stretchy="false">(</mo><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>α</mi><mo>+</mo><mi>θ</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>r</mi><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>α</mi><mo>+</mo><mi>θ</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)=(rcos\alpha, rsin\alpha) \\(x&#x27;, y&#x27;)=(rcos(\alpha+\theta), rsin(\alpha+\theta))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">rcos</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">rs</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">rcos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">rs</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">))</span></span></span></span></span></p><p>带入得联立方程式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>a</mi><mi>r</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>α</mi><mo>+</mo><mi>b</mi><mi>r</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>α</mi><mo>=</mo><mi>r</mi><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>α</mi><mo>+</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>r</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>α</mi><mo>+</mo><mi>d</mi><mi>r</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>α</mi><mo>=</mo><mi>r</mi><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>α</mi><mo>+</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}   arcos\alpha+brsin\alpha=rcos(\alpha+\theta) \\   crcos\alpha+drsin\alpha=rsin(\alpha+\theta)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mord mathnormal">rcos</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">rcos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">crcos</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">rs</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">rs</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>化简、展开</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>a</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>α</mi><mo>+</mo><mi>b</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>α</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>−</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>α</mi><mo>+</mo><mi>d</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>α</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>+</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}   acos\alpha+bsin\alpha=cos(\alpha)cos(\theta)-sin(\theta)sin(\alpha) \\   ccos\alpha+dsin\alpha=sin(\alpha)cos(\theta)+cos(\theta)cos(\alpha)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">ccos</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>所以：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi><mo separator="true">;</mo><mi>b</mi><mo>=</mo><mo>−</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi><mo separator="true">;</mo><mi>c</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi><mo separator="true">;</mo><mi>d</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow><annotation encoding="application/x-tex">a=cos\theta;b=-sin\theta;c=sin\theta;d=cos\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">−</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span></span></p><p>顺时针情况下类似。<strong>值得一提的是，在matlab中有一个内置的函数imrotate()，其默认是顺时针方向旋转。</strong></p><hr><h3 id="shear">shear</h3><p>shear的变换矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>h</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>h</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex"> \begin{bmatrix}    1 &amp; h_x \\    h_y &amp; 1\end{bmatrix} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><hr><h3 id="translation">translation</h3><p>终于讲到最简单却也是最特殊的变换，平移了。平面中，<strong>如果我们仍然要通过左乘变换矩阵的方式进行变换，那么平移的变换矩阵必须是三阶的</strong></p><p>translation的变换矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex"> \begin{bmatrix}    1 &amp; 0 &amp; t_x \\    0 &amp; 1 &amp; t_y \\    0 &amp; 0 &amp; 1\end{bmatrix} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>作用到像素点：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mi>x</mi><mo>+</mo><msub><mi>t</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mi>y</mi><mo>+</mo><msub><mi>t</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}    x&#x27;=x+t_x \\    y&#x27;=y+t_y \\    1\end{bmatrix} = \begin{bmatrix}    1 &amp; 0 &amp; t_x \\    0 &amp; 1 &amp; t_y \\    0 &amp; 0 &amp; 1\end{bmatrix} \begin{bmatrix}    x \\    y \\    1\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>我曾经深刻地思考过这个问题，为什么就平移非得用三阶矩阵表示呢。最后我想到了一种解释。</p><p><strong>拿一个矩形为例子，其实除了平移以外的变化，都是对这个矩形自身的改变，我们不用考虑到其他物体，只需要对这个矩形自身放大缩小旋转拉伸即可，而平移不是，平移是要有参照物的，需要考虑的是一种空间位置关系，没有别的参照物，你怎么知道它“平移”了？所以，第三维实际上就是潜在地给这个矩形加了一个坐标系，让它处于三维的“环境空间”中了。其实可以把第三维的1看成高度，现在这个矩形，默认处在空间中，其与xOy平行，且高度值z=1，这样是不是很容易理解！</strong></p><p>因此，为了统一所有的变换，所有变换矩阵都用三阶来表示了，这样在做乘法的时候得以统一。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo separator="true">;</mo><mi>r</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex"> scale=\begin{bmatrix}    S_x &amp; 0 &amp; 0 \\    0 &amp; S_y &amp; 0 \\    0 &amp; 0 &amp; 1\end{bmatrix} ;rotation=\begin{bmatrix}    cos\theta &amp; -sin\theta &amp; 0 \\    sin\theta &amp; cos\theta &amp; 0 \\    0 &amp; 0 &amp; 1\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">sc</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>h</mi><mi>e</mi><mi>a</mi><mi>r</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>h</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>h</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo separator="true">;</mo><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">shear=\begin{bmatrix}    1 &amp; h_x &amp; 0\\    h_y &amp; 1 &amp; 0 \\    0 &amp; 0 &amp; 1\end{bmatrix};translation=\begin{bmatrix}    1 &amp; 0 &amp; t_x \\    0 &amp; 1 &amp; t_y \\    0 &amp; 0 &amp; 1\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><hr><h3 id="perspective">perspective</h3><p>透视变换较为复杂，这里仅给出其变换矩阵：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>v</mi><mi>e</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>g</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>h</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">perspective=\begin{bmatrix}    a &amp; b &amp; c \\    d &amp; e &amp; f \\    g &amp; h &amp; 1\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">ers</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M319 0 H403 V16 H319z M319 0 H403 V16 H319z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.25em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-3.397em;"><span class="pstrut" style="height:3.155em;"></span><span style="height:0.016em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.6667em" height="0.016em" style="width:0.6667em" viewbox="0 0 666.67 16" preserveaspectratio="xMinYMin"><path d="M263 0 H347 V16 H263z M263 0 H347 V16 H263z"/></svg></span></span><span style="top:-4.05em;"><span class="pstrut" style="height:3.155em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><strong>此小节结束，你真厉害！</strong></p><p><img src="https://s2.loli.net/2022/07/06/Kh4zpItmHrbkAPN.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;matlab中的图像处理&lt;/h1&gt;
&lt;p&gt;（台湾人好像把图片称作影像捏）&lt;/p&gt;
&lt;h2 id=&quot;imread-imshow&quot;&gt;imread() &amp;amp; imshow()&lt;/h2&gt;
&lt;p&gt;要对图片进行处理，当然第一步是读入图片了。matlab中使用imread方法读入</summary>
      
    
    
    
    <category term="matlab基础" scheme="https://yigexiaogai.github.io/categories/matlab%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="matlab" scheme="https://yigexiaogai.github.io/tags/matlab/"/>
    
    <category term="教程向" scheme="https://yigexiaogai.github.io/tags/%E6%95%99%E7%A8%8B%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>matlab基础 工程篇（五 回归与内插）</title>
    <link href="https://yigexiaogai.github.io/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/</id>
    <published>2022-07-11T05:46:01.000Z</published>
    <updated>2023-01-21T08:17:29.133Z</updated>
    
    <content type="html"><![CDATA[<h1>matlab中的回归与内插</h1><h2 id="简单线性回归（simple-linear-regression）">简单线性回归（simple linear regression）</h2><p>首先想象，在一个坐标系中存在着一些离散的点，现在我们需要用一条线去拟合这些点，这就是简单线性回归。使用一次函数拟合是最为简单的情况。</p><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/1.png" class><p>在平面中，存在i组点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_i,y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，现在我们要用一条直线 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>y</mi><mi>i</mi></msub><mo>^</mo></mover><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>x</mi></mrow><annotation encoding="application/x-tex">\hat{y_i}=\beta_0+\beta_1 x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span></span></span></span> 拟合这些点，此时我们就需要用到最小二乘法。</p><h2 id="最小二乘法（ordinary-least-squares）">最小二乘法（ordinary least squares）</h2><p>最小二乘法简单理解为每个离散点到拟合直线的距离的平方和最小，不过这个距离不是点到直线的距离，而是y方向的差值，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mi>i</mi></msub><mo>=</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">dis_i=y_i-\hat y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，那么现在我们的目标时找到这条直线，如何做呢？</p><p>首先，根据最小二乘法的原理，我们可以写出距离平方和（sum of squared errors, SSE）:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mi>S</mi><mi>E</mi><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><mi>d</mi><mi>i</mi><msubsup><mi>s</mi><mi>i</mi><mn>2</mn></msubsup><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">SSE=\sum_i dis_i^2=\sum_i(y_i-\hat y_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">SSE</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat y_i =\beta_0+\beta_1 x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mo>∑</mo><mi>i</mi></munder><mi>d</mi><mi>i</mi><msubsup><mi>s</mi><mi>i</mi><mn>2</mn></msubsup><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mi>β</mi><mn>0</mn></msub><mo>−</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\sum_i dis_i^2=\sum_i(y_i-\beta_0-\beta_1 x_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>现在我们要使SSE最小，则需要求偏导。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><munder><mo>∑</mo><mi>i</mi></munder><mi>d</mi><mi>i</mi><msubsup><mi>s</mi><mi>i</mi><mn>2</mn></msubsup></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>β</mi><mn>0</mn></msub></mrow></mfrac><mo>=</mo><mo>−</mo><mn>2</mn><munder><mo>∑</mo><mi>i</mi></munder><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mi>β</mi><mn>0</mn></msub><mo>−</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\frac{\partial \sum_i dis_i^2}{\partial \beta_0} = -2\sum_i(y_i-\beta_0-\beta_1 x_i)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3843em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5038em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><munder><mo>∑</mo><mi>i</mi></munder><mi>d</mi><mi>i</mi><msubsup><mi>s</mi><mi>i</mi><mn>2</mn></msubsup></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>β</mi><mn>1</mn></msub></mrow></mfrac><mo>=</mo><mo>−</mo><mn>2</mn><munder><mo>∑</mo><mi>i</mi></munder><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mi>β</mi><mn>0</mn></msub><mo>−</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\frac{\partial \sum_i dis_i^2}{\partial \beta_1} = -2\sum_i(y_i-\beta_0-\beta_1 x_i)x_i=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3843em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5038em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>整理式子得：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mi>N</mi><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\sum_{i=1}^N y_i=\beta_0 N+\beta_1 \sum_{i=1}^N x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>y</mi><mi>i</mi></msub><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">\sum_{i=1}^N y_ix_i=\beta_0 \sum_{i=1}^N x_i+\beta_1 \sum_{i=1}^N x_i^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>写成矩阵形式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∑</mo><msub><mi>y</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∑</mo><msub><mi>y</mi><mi>i</mi></msub><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>N</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∑</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∑</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∑</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>β</mi><mn>0</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>β</mi><mn>1</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}   \sum y_i \\   \sum y_ix_i\end{bmatrix}=\begin{bmatrix}   N &amp; \sum x_i \\   \sum x_i &amp; \sum x_i^2\end{bmatrix}\begin{bmatrix}   \beta_0 \\   \beta_1\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p>由此，我们可以解出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mtext>和</mtext><msub><mi>β</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\beta_0 和\beta_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">和</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>那么如果不是一次函数，按照同样的方法也可以解出对应的需要的参数。</p><h3 id="polyfit">polyfit()</h3><p>在matlab中，我们只需要提供点序列x的向量和y的向量，再使用polyfit函数就可以很快的拟合出需要的线了。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">-1.2</span> <span class="number">-0.5</span> <span class="number">0.3</span> <span class="number">0.9</span> <span class="number">1.8</span> <span class="number">2.6</span> <span class="number">3.0</span> <span class="number">3.5</span>];</span><br><span class="line">y = [<span class="number">-15.6</span> <span class="number">-8.5</span> <span class="number">2.2</span> <span class="number">4.4</span> <span class="number">6.6</span> <span class="number">8.2</span> <span class="number">8.9</span> <span class="number">10.0</span>];</span><br><span class="line">fit=polyfit(x, y, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">x1=<span class="number">-2</span>:<span class="number">0.1</span>:<span class="number">4</span></span><br><span class="line">y1=polyval(fit, x1)</span><br><span class="line"><span class="built_in">figure</span></span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(x,y,<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line"><span class="built_in">plot</span>(x1,y1)</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line"></span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/2.png" class><h3 id="corrcoef">corrcoef()</h3><p>corrcoef函数用来判定这些散点是否有线性相关（Linearly correlated），返回值为一个大于-1小于1的常数k，如果k接近-1，则说明这些点呈负相关，如果k接近1，则说明它们正相关，如果接近0，则说明它们线性无关。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">-1.2</span> <span class="number">-0.5</span> <span class="number">0.3</span> <span class="number">0.9</span> <span class="number">1.8</span> <span class="number">2.6</span> <span class="number">3.0</span> <span class="number">3.5</span>];</span><br><span class="line">y = [<span class="number">-15.6</span> <span class="number">-8.5</span> <span class="number">2.2</span> <span class="number">4.4</span> <span class="number">6.6</span> <span class="number">8.2</span> <span class="number">8.9</span> <span class="number">10.0</span>];</span><br><span class="line">corrcoef(x,y)</span><br></pre></td></tr></table></figure><ul><li>corrcoef(x,y)返回的是一个二阶矩阵，左上角表示x和x的相关，右下角表示y和y的相关，所以肯定都是1，右上角和左下角表示的是x和y的相关以及y和x的相关。</li></ul><p>用更高次的函数拟合，有时候效果会更好，但也有可能过拟合。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x=[<span class="number">-1.2</span> <span class="number">-0.5</span> <span class="number">0.3</span> <span class="number">0.9</span> <span class="number">1.8</span> <span class="number">2.6</span> <span class="number">3.0</span> <span class="number">3.5</span>];</span><br><span class="line">y = [<span class="number">-15.6</span> <span class="number">-8.5</span> <span class="number">2.2</span> <span class="number">4.4</span> <span class="number">6.6</span> <span class="number">8.2</span> <span class="number">8.9</span> <span class="number">10.0</span>];</span><br><span class="line">x1=x(<span class="number">1</span>):<span class="number">0.1</span>:x(<span class="keyword">end</span>);</span><br><span class="line">set(gcf, <span class="string">&#x27;position&#x27;</span>, [<span class="number">100</span> <span class="number">100</span> <span class="number">1500</span> <span class="number">400</span>]);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">3</span></span><br><span class="line">    subplot(<span class="number">1</span>, <span class="number">3</span>, <span class="built_in">i</span>); fit = polyfit(x, y, <span class="built_in">i</span>);</span><br><span class="line">    y1=polyval(fit, x1);</span><br><span class="line">    <span class="built_in">plot</span>(x, y, <span class="string">&#x27;ro&#x27;</span>, x1, y1);</span><br><span class="line">    set(gca, <span class="string">&#x27;fontsize&#x27;</span>, <span class="number">14</span>);</span><br><span class="line">    ylim([<span class="number">-17</span> <span class="number">11</span>]);     <span class="built_in">legend</span>(<span class="string">&#x27;location&#x27;</span>, <span class="string">&#x27;southeast&#x27;</span>, <span class="string">&#x27;Data points&#x27;</span>, <span class="string">&#x27;Fitted curve&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/3.png" class><h3 id="regress">regress()</h3><p>上面提到的polyfit仅适合拟合一元函数，如果我们要拟合多元函数怎么办？这时候就要用到regress().</p><p>先看一个matlab中内置的实例：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">load carsmall;</span><br><span class="line">y = MPG;</span><br><span class="line">x1=Weight; x2=Horsepower;</span><br><span class="line">X = [<span class="built_in">ones</span>(<span class="built_in">length</span>(x1), <span class="number">1</span>), x1, x2];</span><br><span class="line">b=regress(y, X);</span><br><span class="line">x1fit=<span class="built_in">min</span>(x1):<span class="number">100</span>:<span class="built_in">max</span>(x1);</span><br><span class="line">x2fit=<span class="built_in">min</span>(x2):<span class="number">10</span>:<span class="built_in">max</span>(x2);</span><br><span class="line">[X1FIT, X2FIT]=<span class="built_in">meshgrid</span>(x1fit, x2fit);</span><br><span class="line">YFIT=b(<span class="number">1</span>)+b(<span class="number">2</span>)*X1FIT+b(<span class="number">3</span>)*X2FIT;</span><br><span class="line"><span class="built_in">scatter3</span>(x1,x2,y, <span class="string">&#x27;filled&#x27;</span>); <span class="built_in">hold</span> on</span><br><span class="line">mesh(X1FIT,X2FIT,YFIT); <span class="built_in">hold</span> off</span><br><span class="line">xlabel(<span class="string">&#x27;weight&#x27;</span>); ylabel(<span class="string">&#x27;horsepower&#x27;</span>); zlabel(<span class="string">&#x27;MPG&#x27;</span>);</span><br><span class="line">rotate3d on;</span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/4.png" class><p>我们首先要按照 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>a</mi><mo>+</mo><mi>b</mi><mi>x</mi><mo>+</mo><mi>c</mi><msup><mi>x</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">y=a+bx+cx^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 的形式定义一个多项式，然后regress返回的是一个方程的系数，在这里就是一个平面方程，然后绘制出来的结果就如上图。</p><h2 id="内插（interpolation）">内插（interpolation）</h2><p>内插的概念比较简单，主要看matlab中怎么应用吧。</p><h3 id="interp1">interp1()</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="built_in">linspace</span>(<span class="number">0</span>, <span class="number">2</span>*<span class="built_in">pi</span>, <span class="number">40</span>); x_m=x;</span><br><span class="line">x_m([<span class="number">11</span>:<span class="number">13</span>, <span class="number">28</span>:<span class="number">30</span>])=NaN; <span class="comment">% 令部分点为空</span></span><br><span class="line">y_m=<span class="built_in">sin</span>(x_m);</span><br><span class="line"><span class="built_in">plot</span>(x_m, y_m, <span class="string">&#x27;ro&#x27;</span>, <span class="string">&#x27;markerfacecolor&#x27;</span>, <span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">xlim([<span class="number">-0.5</span> <span class="number">2</span>*<span class="built_in">pi</span>+<span class="number">0.5</span>]); ylim([<span class="number">-1.2</span> <span class="number">1.2</span>]); box on;</span><br><span class="line">set(gca, <span class="string">&#x27;fontsize&#x27;</span>, <span class="number">16</span>);</span><br><span class="line">set(gca, <span class="string">&#x27;xtick&#x27;</span>, <span class="number">0</span>:<span class="built_in">pi</span>/<span class="number">2</span>:<span class="number">2</span>*<span class="built_in">pi</span>);</span><br><span class="line">set(gca, <span class="string">&#x27;xticklabel&#x27;</span>, &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;\pi/2&#x27;</span>, <span class="string">&#x27;\pi&#x27;</span>, <span class="string">&#x27;3\pi/2&#x27;</span>, <span class="string">&#x27;2\pi&#x27;</span>&#125;);</span><br><span class="line"></span><br><span class="line">m_i=~<span class="built_in">isnan</span>(x_m); <span class="comment">% 找到非空的点</span></span><br><span class="line">y_i =interp1(x_m(m_i), y_m(m_i), x); <span class="comment">% 对所有非空的点进行内插，且做内插的范围是原本的x的范围</span></span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(x, y_i, <span class="string">&#x27;-b&#x27;</span>, <span class="string">&#x27;linewidth&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/5.png" class><h3 id="spline">spline()</h3><p>如果要让内插变得光滑，那么可以使用spline方法。只需要把interp1改成spline.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">m_i=~<span class="built_in">isnan</span>(x_m);</span><br><span class="line">y_i=interp1(x_m(m_i), y_m(m_i), x);</span><br><span class="line">y_s=spline(x_m(m_i), y_m(m_i), x);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(x, y_i, <span class="string">&#x27;-b&#x27;</span>, x, y_s, <span class="string">&#x27;--m&#x27;</span>, <span class="string">&#x27;linewidth&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line">h=<span class="built_in">legend</span>(<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;linear&#x27;</span>, <span class="string">&#x27;spline&#x27;</span>);</span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/6.png" class><h3 id="pchip">pchip()</h3><p>pchip是一种分段三次差值法，其原理来自于<a href="https://blog.csdn.net/HG0724/article/details/121624725?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165759582116782391831331%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165759582116782391831331&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-2-121624725-null-null.142%5Ev32%5Epc_rank_34,185%5Ev2%5Econtrol&amp;utm_term=%E5%9F%83%E5%B0%94%E7%B1%B3%E7%89%B9%E6%8F%92%E5%80%BC&amp;spm=1018.2226.3001.4187"><strong>埃尔米特插值法</strong></a>。</p><p>既然我们能做到不光滑和光滑的差值了，还要别的方法干嘛，先来看一个实例：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">-3</span>:<span class="number">3</span>; y = [<span class="number">-1</span> <span class="number">-1</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>]; t=<span class="number">-3</span>:<span class="number">0.01</span>:<span class="number">3</span>;</span><br><span class="line">y_s = spline(x, y, t);</span><br><span class="line">y_p = pchip(x, y, t);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot</span>(x, y, <span class="string">&#x27;ro&#x27;</span>, <span class="string">&#x27;markerfacecolor&#x27;</span>, <span class="string">&#x27;r&#x27;</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, y_s, <span class="string">&#x27;m-&#x27;</span>, <span class="string">&#x27;linewidth&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, y_p, <span class="string">&#x27;b--&#x27;</span>, <span class="string">&#x27;linewidth&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;location&#x27;</span>, <span class="string">&#x27;southeast&#x27;</span>, <span class="string">&#x27;origin&#x27;</span>, <span class="string">&#x27;spline&#x27;</span>, <span class="string">&#x27;pichip&#x27;</span>);</span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/7.png" class><p>不难发现，在这一个例子中，使用spline方法会让两边差值的形状产生波动，这就是<strong>龙格效应（rouge phenomenon）</strong>——有些函数在差值的时候，差值次数越高，边缘区域就越不准确，波动越大。至于龙格效应出现的原理，我也还没弄明白，在这里插个眼，以后明白了会补充说明。</p><p>那么使用pchip方法就可以有效避免这个问题，因为<strong>埃尔米特插值法的一大优势就是为了解决龙格效应</strong>，至于怎么就解决了，我也没弄明白，啊哈哈哈哈（尴尬又不失礼貌的笑容）。</p><h3 id="interp2">interp2()</h3><p>当然，对于二维平面，matlab同样可以内插。</p><p>下面看一个实例，用法与以为相差不多。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">xx = <span class="number">-2</span>:<span class="number">0.5</span>:<span class="number">3</span>; yy =xx;</span><br><span class="line">[X Y] = <span class="built_in">meshgrid</span>(xx, yy);</span><br><span class="line">Z = X.*<span class="built_in">exp</span>(-X.^<span class="number">2</span>-Y.^<span class="number">2</span>);</span><br><span class="line">surf(X, Y, Z);</span><br><span class="line"></span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot3</span>(X, Y, Z+<span class="number">0.01</span>, <span class="string">&#x27;ro&#x27;</span>, <span class="string">&#x27;markerfacecolor&#x27;</span>, <span class="string">&#x27;r&#x27;</span>);</span><br><span class="line"></span><br><span class="line">xx_i = <span class="number">-2</span>:<span class="number">0.1</span>:<span class="number">3</span>; yy_i = xx_i;</span><br><span class="line">[X_i, Y_i] = <span class="built_in">meshgrid</span>(xx_i, yy_i);</span><br><span class="line">Z_i = interp2(xx, yy, Z, X_i, Y_i);</span><br><span class="line">surf(X_i, Y_i, Z_i);</span><br><span class="line"><span class="comment">% plot3(X_i, Y_i, Z_i+0.01, &#x27;bx&#x27;);</span></span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line">rotate3d on</span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/8.png" class><p>如果要用spline光滑的内插，那么就要在interp2最后的参数写上’cubic’：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Z_i = interp2(xx, yy, Z, X_i, Y_i, <span class="string">&#x27;cubic&#x27;</span>);</span><br></pre></td></tr></table></figure><img src="/2022/07/11/matlab%E5%9F%BA%E7%A1%80-%E5%B7%A5%E7%A8%8B%E7%AF%87%EF%BC%88%E4%BA%94-%E5%9B%9E%E5%BD%92%E4%B8%8E%E5%86%85%E6%8F%92%EF%BC%89/9.png" class><ul><li>为表现其光滑程度，不绘制差值点。</li></ul><p><strong>此篇章结束，你真厉害！</strong></p><p><img src="https://s2.loli.net/2022/07/06/Kh4zpItmHrbkAPN.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;matlab中的回归与内插&lt;/h1&gt;
&lt;h2 id=&quot;简单线性回归（simple-linear-regression）&quot;&gt;简单线性回归（simple linear regression）&lt;/h2&gt;
&lt;p&gt;首先想象，在一个坐标系中存在着一些离散的点，现在我们需要用一条线去拟</summary>
      
    
    
    
    <category term="matlab基础" scheme="https://yigexiaogai.github.io/categories/matlab%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="matlab" scheme="https://yigexiaogai.github.io/tags/matlab/"/>
    
    <category term="教程向" scheme="https://yigexiaogai.github.io/tags/%E6%95%99%E7%A8%8B%E5%90%91/"/>
    
  </entry>
  
</feed>
