<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Gai&#39;s blog</title>
  
  <subtitle>show my life</subtitle>
  <link href="https://yigexiaogai.github.io/atom.xml" rel="self"/>
  
  <link href="https://yigexiaogai.github.io/"/>
  <updated>2024-01-09T16:15:44.826Z</updated>
  <id>https://yigexiaogai.github.io/</id>
  
  <author>
    <name>Gai</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>小该碎碎念231231</title>
    <link href="https://yigexiaogai.github.io/2023/12/31/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5231231/"/>
    <id>https://yigexiaogai.github.io/2023/12/31/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5231231/</id>
    <published>2023-12-31T09:25:33.000Z</published>
    <updated>2024-01-09T16:15:44.826Z</updated>
    
    <content type="html"><![CDATA[    <div id="aplayer-ohvfYrLo" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="2105530809" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#3F51B5"></div><h1>再见，2023</h1><p>现在是2024年1月6号。气温10摄氏度，在偌大的房间里，一个人，空气像处在皎洁月光下的清冷海面。</p><p>谁又能想到2023年12月31日创建的博客，竟然拖到了现在来写呢？倒也不是因为拖延症，只是想表达的东西太多，思绪像一团团毛线球，缠在我的大脑</p><h2 id="计划">计划</h2><h2 id="改变">改变</h2><h2 id="音乐">音乐</h2><h2 id="成长">成长</h2><h1>你好，2024</h1>]]></content>
    
    
    <summary type="html">2024新年快乐。一篇2023年终总结。</summary>
    
    
    
    <category term="日记" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AE%B0/"/>
    
    
    <category term="小该碎碎念" scheme="https://yigexiaogai.github.io/tags/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
  </entry>
  
  <entry>
    <title>情报推荐（3）</title>
    <link href="https://yigexiaogai.github.io/2023/11/06/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%883%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2023/11/06/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%883%EF%BC%89/</id>
    <published>2023-11-06T10:03:18.000Z</published>
    <updated>2023-12-31T09:23:36.706Z</updated>
    
    <content type="html"><![CDATA[<h1>基于模型的协同过滤</h1><p>基于模型的协同过滤（Model-Based Collaborative Filtering）是一种推荐系统技术，它使用统计模型来预测用户对项目的喜好。与传统的基于邻域的协同过滤方法（如用户-用户协同过滤和项目-项目协同过滤）不同，基于模型的协同过滤方法使用机器学习或其他数学模型来学习用户和项目之间的关系，从而进行推荐。</p><p>基于模型的协同过滤通常分为两种类型：</p><p>矩阵分解（Matrix Factorization）：矩阵分解是基于模型的协同过滤中常用的一种技术。它将用户-项目评分矩阵分解为两个低维矩阵，一个表示用户的特征，另一个表示项目的特征。通过学习这些特征向量，系统可以预测缺失的评分，从而为用户生成推荐。</p><p>深度学习方法：随着深度学习技术的发展，研究者们开始尝试使用神经网络等深度学习模型来进行基于模型的协同过滤。这些深度学习模型能够处理大规模的数据集，并且能够学习到更复杂的用户和项目之间的关系，提高了推荐系统的性能。</p><h2 id="基于规则的协同过滤">基于规则的协同过滤</h2><h3 id="关联规则">关联规则</h3><p>首先我们要介绍一个概念叫做 <strong>“关联规则”</strong>。</p><blockquote><p>关联规则是数据挖掘中的一种技术，用于发现在一个数据集中不同项目之间的有趣关系。这种方法最著名的应用是在市场篮分析中，它帮助零售商了解哪些产品经常一起被购买。关联规则可以表述为“如果…那么…”的形式，例如，“如果顾客购买了面包，他们也倾向于购买牛奶”。</p></blockquote><p>关联规则有以下几个常用的指标来度量物品间的相关度。下面我会依次介绍。</p><h4 id="支持度">支持度</h4><p>“支持度”（Support）是一个非常重要的概念。关联规则是用来发现在一个数据集中不同项目之间的有趣关系，如购物篮分析中的物品组合。在这种分析中，支持度用来量化一组项目在整个数据集中出现的频率。</p><p>更具体地说，支持度被定义为特定规则涵盖的数据集比例。如果我们用<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⇒</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A ⇒ B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 表示一个关联规则（意味着当A发生时，B也倾向于发生），那么这个规则的支持度可以定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>支持度</mtext><mo stretchy="false">(</mo><mi>A</mi><mo>⇒</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mtext>同时包含</mtext><mi>A</mi><mtext>和</mtext><mi>B</mi><mtext>的事务数</mtext></mrow><mtext>所有事务的总数</mtext></mfrac></mrow><annotation encoding="application/x-tex">支持度 (A⇒B) =  \frac{同时包含A和B的事务数}{所有事务的总数}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback">支持度</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">所有事务的总数</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">同时包含</span><span class="mord mathnormal">A</span><span class="mord cjk_fallback">和</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord cjk_fallback">的事务数</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><table><thead><tr><th>顾客</th><th>面包</th><th>黄油</th><th>牛奶</th><th>鱼</th><th>牛肉</th><th>火腿</th></tr></thead><tbody><tr><td>Jack</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>Mary</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td></tr><tr><td>Jane</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>Sayani</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>John</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0</td><td>1</td></tr><tr><td>Tom</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td></tr><tr><td>Peter</td><td>0</td><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td></tr></tbody></table><p>在这里我们考虑一个关联规则： <strong>买了黄油和牛奶的人，就会买面包</strong>。如果用数学语言我们可以将这个关联规则表示成</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">{</mo><mtext>黄油</mtext><mo separator="true">,</mo><mtext>牛奶</mtext><mo stretchy="false">}</mo><mo>⇒</mo><mo stretchy="false">{</mo><mtext>面包</mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{黄油, 牛奶\} ⇒ \{面包\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord cjk_fallback">黄油</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">牛奶</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord cjk_fallback">面包</span><span class="mclose">}</span></span></span></span></span></p><p>我们来数一数，表格中有几个人是符合这个规则的，我们发现</p><blockquote><p>同时买了黄油，牛奶的人有4个人，分别是Jack, Mary, Sayani, Tom<br>买了面包的有3个人，分别是Jack,Jane,Sayani</p><p>所以同时买了三者的人有<strong>两个人</strong>，是Jack和Sayani<br>总共有<strong>8条记录</strong></p></blockquote><p>所以这里支持度为：$2/8=25% $</p><h4 id="置信度">置信度</h4><p>光有支持度还不够，我们要看关联规则的 <strong>“强度”</strong> 怎么样，有了强度我们才能知道我们定义的这条规则合理不合理，例如，我们说买了黄油的人就会买面包了，听起来就很合理，但如果我们说买了黄油的人就会买火腿，听起来好像不太对……</p><blockquote><p>那我们要怎么看“强度”呢</p></blockquote><p>我们用置信度来定义“关联规则的强度”，最基本的思想就是，我们看看这条规则在表格中出现了几次（百分比是多少），具体来说：<br>Confidence（置信度）：表示使用包含A的事务中同时包含B事务的比例，即同时包含A和B的事务占包含A事务的比例。公式表达：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>f</mi><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo>∩</mo><mi>B</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Confidence=P(A \cap B)/P(A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">ce</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span></span></p><p>还是看上面的例子：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">{</mo><mtext>黄油</mtext><mo separator="true">,</mo><mtext>牛奶</mtext><mo stretchy="false">}</mo><mo>⇒</mo><mo stretchy="false">{</mo><mtext>面包</mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{黄油, 牛奶\} ⇒ \{面包\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord cjk_fallback">黄油</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">牛奶</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord cjk_fallback">面包</span><span class="mclose">}</span></span></span></span></span></p><blockquote><p>此时，同时买了黄油，牛奶的人有4个人，分别是Jack, Mary, Sayani, Tom<br>买了黄油，牛奶之后又买了面包的人有两个，是Jack和Sayani</p></blockquote><p>所以这里置信度为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi mathvariant="normal">/</mi><mn>4</mn><mo>=</mo><mn>50</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">2/4=50\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2/4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">50%</span></span></span></span></p><h3 id="面向物品的模型与面向用户的模型">面向物品的模型与面向用户的模型</h3><p>前面所述基千规则的协同过滤均是面向物品的。也可以类似地构建面向用户的模型。<br>这些模型使用用户之间的相关性而不是物品之间的相关性。在这些情况下关联规则反映的是用户之间的相似性，而非物品之间的相似性。例如：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mtext>用户＝</mtext><mi>A</mi><mi>l</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo separator="true">,</mo><mtext>评分＝喜欢</mtext><mo stretchy="false">)</mo><mo>⇒</mo><mo stretchy="false">(</mo><mtext>用户＝</mtext><mi>B</mi><mi>o</mi><mi>b</mi><mo separator="true">,</mo><mtext>评分＝不喜欢</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(用户＝ Alice, 评分＝喜欢) ⇒ (用户＝ Bob, 评分＝不喜欢)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">用户＝</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ce</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">评分＝喜欢</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">用户＝</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">o</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">评分＝不喜欢</span><span class="mclose">)</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mtext>用户＝</mtext><mi>A</mi><mi>l</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo separator="true">,</mo><mtext>评分＝喜欢</mtext><mo stretchy="false">)</mo><mi>A</mi><mi>N</mi><mi>D</mi><mo stretchy="false">(</mo><mtext>用户＝</mtext><mi>P</mi><mi>e</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo separator="true">,</mo><mtext>评分＝不喜欢</mtext><mo stretchy="false">)</mo><mo>⇒</mo><mo stretchy="false">(</mo><mtext>用户＝</mtext><mi>J</mi><mi>o</mi><mi>h</mi><mi>n</mi><mo separator="true">,</mo><mtext>评分＝喜欢</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(用户＝ Alice, 评分＝喜欢) AND (用户＝ Peter, 评分＝不喜欢)⇒(用户＝ John, 评分＝喜欢)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">用户＝</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ce</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">评分＝喜欢</span><span class="mclose">)</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord cjk_fallback">用户＝</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">评分＝不喜欢</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">用户＝</span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">hn</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">评分＝喜欢</span><span class="mclose">)</span></span></span></span></span></p><p>第一条规则说明用户Bob 倾向于不喜欢Alice喜欢的东西。第二条规则说明John 倾向于喜欢Alice喜欢但Peter不喜欢的东西。这些都能通过计算得出概率。</p><h1>基于内容的推荐系统</h1><p>基于内容的推荐系统尝试为用户匹配那些与其喜欢的物品相似的物品。这种相似性不一定基于用户之间的评分相关性，而是基于用户喜欢的对象的属性。不同于使用与目标用户相关的其他用户评分的协同过滤方法，基于内容的系统更关注目标用户自己的评分，以及用户喜欢的物品的属性。</p><p>在基础层面上，基于内容的系统依赖于两个数据来源：</p><ol><li>第一个数据来源是根据以内容为中心的属性对各种物品的描述，例如制造商对物品的文本描述。</li><li>第二个数据源是用户画像，其根据用户对各种物品的反馈而生成。</li></ol><h2 id="基于内容的系统的基本组件">基于内容的系统的基本组件</h2><p>基于内容的系统的主要组件包括（离线）预处理部分、（离线）学习部分和在线预测部分。离线部分用于创建汇总模型（一般是分类或回归模型）， 然后将该模型用于在线生成给用户的推荐。基于内容的系统的各个组成部分如下：</p><ol><li>预处理和特征提取： 基于内容的系统广泛应用于各种领域． 如网页、产品描述、新闻、音乐功能等。在大多数情况下特征提取自这些不同的数据来源，并被转换成基于关键词的向量空间表示。这是所有基于内容的推荐系统的第一步，它是与领域高度相关的。然而，正确提取最具信息性的特征对于有效运行基于内容的推荐系统来说至关重要。</li><li>基于内容的用户画像学习： 如前所述，基于内容的模型与给定的用户密切相关。因此，需要构建特定于用户的模型，进而根据他们过去的购买或评分历史来预测用户对物品的兴趣。为了实现这一目标，需要利用用户反馈， 这可以通过当前已知评分（显式反馈）或用户活动（隐式反馈）的形式表现。这些反馈与物品的属性一起使用以建立训练数据，从而构建学习模型。本阶段通常与分类或回归建模基本相同， 这取决于反馈是分类（例如是否选择物品的二元操作）还是数字（例如评分或购买频率）类型的。因为所得到的模型在概念上将用户兴趣（评分）与物品属性关联起来， 所以该模型被称为用户画像。</li><li>过滤和推荐：在此步骤中，使用上一步学习的模型对特定用户给出推荐的物品。</li></ol><h2 id="预处理和特征提取">预处理和特征提取</h2><h3 id="特征提取">特征提取</h3><p>在特征提取阶段， 不同物品的描述会被提取出来。尽管我们可以使用任意一种表示，例如多维数据表示， 但最常见的方法是从底层数据中提取关键词。做出这种选择是因为非结构化文本描述通常在各种领域中广泛使用，并且它们仍然是最自然的描述物品的方式。在许多情况下，可以用多个字段来描述物品的各个方面。例如， 书商可能会提供书籍的文字描述， 以及描述内容、标题和作者的关键词。在一些情况下这些描述会被转换成一系列的关键词。而在其他情况下， 可以直接使用多维（结构化）表示。当属性包含数值（如价格）或从某个较小的域中取出的值（如颜色）时， 后者更为适用。</p><h3 id="特征清洗">特征清洗</h3><p>收集的数据中可能会有我们不需要的项目，我们需要对数据进行预处理。例如：</p><ol><li>停止词删除：从物品的自由描述中提取的大部分文本将包含许多与物品相关性不强的常用词。这样的词通常是高频词。例如，“a&quot; “an” 和“ the&quot; 这样的词对千正在处理的物品来说没什么作用。在电影推荐应用中， 通常会在剧情介绍中找到这样的词。一般来说， 冠词、介词、连词和代词被视为停止词。在大多数情况下， 各种语言都有停止词的标准化列表。</li><li>词干提取： 词干提取过程合并了同一个词的不同变形。例如， 同一单词的单复数或不同时态会被合并。在一些情况下， 会从各种词汇中提取共同的词根。例如，“hoping&quot;和“ hope&quot; 这样的词汇被合并成了共同的词根“hop”。当然， 词干提取有时会产生副作用， 因为类似于“hop&quot; 这样的词可能具有多种不同的含义。</li><li>短语提取：这一步工作是检测出文档中频繁同时出现的单词。例如，“hot dog&quot;。这样的短语具有与组成它的单词不同的含义。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;基于模型的协同过滤&lt;/h1&gt;
&lt;p&gt;基于模型的协同过滤（Model-Based Collaborative Filtering）是一种推荐系统技术，它使用统计模型来预测用户对项目的喜好。与传统的基于邻域的协同过滤方法（如用户-用户协同过滤和项目-项目协同过滤）不同，基于模</summary>
      
    
    
    
    <category term="研究生课程" scheme="https://yigexiaogai.github.io/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="推荐系统" scheme="https://yigexiaogai.github.io/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="研究生课程" scheme="https://yigexiaogai.github.io/tags/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>推荐系统（2）</title>
    <link href="https://yigexiaogai.github.io/2023/10/31/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%882%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2023/10/31/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%882%EF%BC%89/</id>
    <published>2023-10-30T16:23:04.000Z</published>
    <updated>2023-12-31T09:23:09.338Z</updated>
    
    <content type="html"><![CDATA[<h1>基于近邻的协同过滤（Neighborhood-Based Collaborative Filtering）</h1><p>基于近邻的协同过滤算法， 也被称为基于内存的算法(memory-based algorithm)，是最早的为协同过滤而开发的算法之一。这类算法是基于相似的用户以相似的行为模式对物品进行评分， 并且相似的物品往往获得相似的评分这一事实。基于近邻的算法分为以下两个基本类型：</p><ol><li>基于用户的协同过滤：这种类型中，把与目标用户A相似的用户的评分用来为A进行推荐。</li><li>基于物品的协同过滤：为了推荐目标物品B, 首先确定一个物品集合S, 使S中的物品与B相似度最高。</li></ol><p>基于用户的协同过滤与基于物品的协同过滤的一个重要区别是： **前者利用相似用户的评分来预测该用户的评分；后者利用用户自己对相似物品的评分来预测用户对其他物品的评分。**前者利用用户（评分矩阵的行）之间的相似性来定义近邻；后者利用物品（评分矩阵的列）之间的相似性定义近邻。因此，这两种方法是互补的关系。</p><p>现在我们创建一个用户对于物品的评分矩阵，表头为项目编号，左侧第一列为用户编号。</p><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th></tr></thead><tbody><tr><td>user1</td><td>1</td><td></td><td></td><td>3</td><td>6</td></tr><tr><td>user2</td><td></td><td>5</td><td></td><td>3</td><td>4</td></tr><tr><td>user3</td><td>5</td><td>2</td><td>1</td><td>2</td><td>2</td></tr></tbody></table><ul><li>在实际情况中，这个表一般会有很多行很多列，非常庞大，而且是稀疏（有很多空数据），接下来我们要做的事情，就是对这个稀疏矩阵做处理。</li></ul><h2 id="评分矩阵的关键性质">评分矩阵的关键性质</h2><p>我们假设R代表 m X n 的评分矩阵，其中m表示用户数， n表示物品数， r<sub>uj</sub>表示用户u对物品j的评分。矩阵中只有小部分数据是已知的，我们称已知的数据为训练数据，未知的数据为测试数据。</p><h3 id="长尾性（long-tail）">长尾性（long-tail）</h3><p>物品评分的分布常常满足现实世界中的长尾(long-tail) 属性。这个名字是一个非常形象的表述。在现实情况中，只有一小部分商品会被高频率的评价，或者被点击，也就是所谓的爆款商品，然而，大部分的商品，也许和爆款商品类似，但是只能被大数据埋没在海面之下。当我们把商品和其被关注的频率画成一张表格的时候，“长尾性”就体现出来了。</p><p>如图，X轴表示物品的序号，Y轴表示被关注的程度。看来大部分商品都没有被关注呀！</p><img src="/2023/10/31/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%882%EF%BC%89/1.png" class><h2 id="通过基于近邻的方法预测评分">通过基于近邻的方法预测评分</h2><h3 id="基于用户的邻近模型">基于用户的邻近模型</h3><p>首先是“基于用户的邻近模型”。我们来总结一下我们要做的事。</p><ul><li>目标：预测评分矩阵中空的数据部分</li><li>方法：以一个用户A为基准，寻找和用户A相似的其他用户BCD…，寻找规律预测BCD…对项目的评分</li></ul><p>为了方便理解，我们举一个实例。下面我来构建一个表格，表示各个用户对电影的评分，评分为10分制。</p><p>定义一个矩阵R：</p><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th><th>item6</th></tr></thead><tbody><tr><td>user1</td><td>7</td><td>6</td><td>7</td><td>4</td><td>5</td><td>4</td></tr><tr><td>user2</td><td>6</td><td>7</td><td>?</td><td>4</td><td>3</td><td>4</td></tr><tr><td>user3</td><td>?</td><td>3</td><td>3</td><td>1</td><td>1</td><td>?</td></tr><tr><td>user4</td><td>1</td><td>2</td><td>2</td><td>3</td><td>3</td><td>4</td></tr><tr><td>user5</td><td>1</td><td>?</td><td>1</td><td>2</td><td>3</td><td>3</td></tr></tbody></table><p>根据我们上述的“方法”，我们需要知道两个用户之间有<strong>多相似</strong>，“相似”这个东西总不是你说说相似就相似吧，所以我们需要一个数学方法，来讲两个用户之间的相似度定量表示出来。以下就是最经典的方法：</p><blockquote><p>step1: 对于拥有m位用户和n件物品的mXn的评分矩阵 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>r</mi><mi>u</mi></msub><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R = [r_uj]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> , <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">I_u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示已经被用户u评价的物品的<strong>序号之集合</strong>。注意，是<strong>序号</strong>。</p></blockquote><p>例如，user1和user2的I：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>I</mi><mi>u</mi></msub><mn>1</mn><mo>=</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">}</mo><mo separator="true">;</mo><msub><mi>I</mi><mi>u</mi></msub><mn>2</mn><mo>=</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I_u1 = \{1, 2, 3, 4, 5, 6\}; I_u2 = \{1, 2, 4, 5, 6\} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">}</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">}</span></span></span></span></span></p><p>所以，我们可以得到两位用户之间共同评价的物品的列表集合：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>I</mi><mi>u</mi></msub><mn>1</mn><mo>∩</mo><msub><mi>I</mi><mi>u</mi></msub><mn>2</mn><mo>=</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I_u1 \cap I_u2 = \{1, 2, 4, 5, 6\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">}</span></span></span></span></span></p><p>我们需要用一个Pearson相关系数(Pearson correlation coefficient)来衡量用户u和用户v之间评分向量的相似程度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Sim(u, v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>，那么，如何计算Pearson相关系数呢？</p><blockquote><p>step2:利用每位用户u的评分计算每位用户的平均评分<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">μ_u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>μ</mi><mi>u</mi></msub><mo>=</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></msub><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub></mrow><mrow><mi mathvariant="normal">∣</mi><msub><mi>I</mi><mi>u</mi></msub><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">μ_u= \frac{\Sigma_{k \in I_u} r_{uk}}{|I_u|} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2963em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>例如，计算user1的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">μ_u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>μ</mi><mi>u</mi></msub><mo>=</mo><mfrac><mrow><mn>7</mn><mo>+</mo><mn>6</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>4</mn><mo>+</mo><mn>5</mn><mo>+</mo><mn>4</mn></mrow><mn>6</mn></mfrac><mo>=</mo><mn>5.5</mn></mrow><annotation encoding="application/x-tex">μ_u=\frac{7+6+7+4+5+4}{6}=5.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.5</span></span></span></span></span></p><blockquote><p>step3:接下来，user u和v之间的Pearson相关系数定义如下：</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mi>e</mi><mi>a</mi><mi>r</mi><mi>s</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><mrow><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>u</mi></msub><mo stretchy="false">)</mo><mo separator="true">⋅</mo><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>v</mi><mi>μ</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><mrow><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>u</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><mrow><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>v</mi><mi>μ</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">Sim(u,v) = Pearson(u,v) =\frac{\Sigma_{k \in{I_u \cap I_v}}(r_{uk}-μ_u)·(r_{vk}-v_μ)}{\sqrt{\Sigma_{k \in{I_u \cap I_v}}(r_{uk}-μ_u)^2} · \sqrt{\Sigma_{k \in{I_u \cap I_v}}(r_{vk}-v_μ)^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">rso</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.575em;vertical-align:-1.148em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.1751em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9349em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3051em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9169em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8769em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3231em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.148em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>例如，我们来计算一下user1和user2的皮尔逊相关系数。<br>首先，</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>u</mi><msub><mn>1</mn><mi>μ</mi></msub></msub><mo>=</mo><mfrac><mrow><mn>7</mn><mo>+</mo><mn>6</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>4</mn><mo>+</mo><mn>5</mn><mo>+</mo><mn>4</mn></mrow><mn>6</mn></mfrac><mo>=</mo><mn>5.5</mn><mspace linebreak="newline"></mspace><msub><mi>u</mi><msub><mn>3</mn><mi>μ</mi></msub></msub><mo>=</mo><mfrac><mrow><mn>3</mn><mo>+</mo><mn>3</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn></mrow><mn>4</mn></mfrac><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">u_{1_μ} = \frac{7+6+7+4+5+4}{6}=5.5 \\u_{3_μ} = \frac{3+3+1+1}{4} = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7779em;vertical-align:-0.3473em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3473em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.5</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.7779em;vertical-align:-0.3473em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3473em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></span></p><p>然后，</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>I</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>I</mi><mn>3</mn></msub><mo>=</mo><mo stretchy="false">{</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I_1 \cap I_3=\{2, 3, 4, 5\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>e</mi><mi>a</mi><mi>r</mi><mi>s</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>−</mo><mn>5.5</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>3</mn><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>7</mn><mo>−</mo><mn>5.5</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>3</mn><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>4</mn><mo>−</mo><mn>5.5</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>5</mn><mo>−</mo><mn>5.5</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mrow><msqrt><mrow><mn>0.</mn><msup><mn>5</mn><mn>2</mn></msup><mo>+</mo><mn>1.</mn><msup><mn>5</mn><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1.5</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>0.5</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msup><mn>1</mn><mn>2</mn></msup><mo>+</mo><msup><mn>1</mn><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mo>=</mo><mn>0.894</mn></mrow><annotation encoding="application/x-tex">Pearson(1,3) = \frac{(6-5.5)*(3-2)+(7-5.5)*(3-2)+(4-5.5)*(1-2)+(5-5.5)*(1-2)}{\sqrt{0.5^2+1.5^2+(-1.5)^2+(-0.5)^2}·\sqrt{1^2+1^2+(-1)^2+(-1)^2}} = 0.894</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">rso</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.557em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">0.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1.5</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">0.5</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.894</span></span></span></span></span></p><ul><li>严格来说， 传统意义上的Pearson(u, v) 要求仅对用户u和用户v均做出评分的物品计算均值。也就是说上面的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><msub><mn>1</mn><mi>μ</mi></msub></msub></mrow><annotation encoding="application/x-tex">u_{1_μ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7779em;vertical-align:-0.3473em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3473em;"><span></span></span></span></span></span></span></span></span></span> 将会变成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>6</mn><mo>+</mo><mn>7</mn><mo>+</mo><mn>4</mn><mo>+</mo><mn>5</mn></mrow><mn>4</mn></mfrac><mo>=</mo><mn>5.5</mn></mrow><annotation encoding="application/x-tex">\frac{6+7+4+5}{4}=5.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mbin mtight">+</span><span class="mord mtight">7</span><span class="mbin mtight">+</span><span class="mord mtight">4</span><span class="mbin mtight">+</span><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.5</span></span></span></span> ， 很难说哪种方法是比较好的方法，但是，我们考虑，如果两个用户的共同评价集合中只有一个共同元素时，Pearson系数就有点没意义了。</li></ul><blockquote><p>step4:接下来我们还要对用户的评分矩阵<strong>按行进行均值中心化</strong>，均值中心化就是把原先的矩阵都减去均值。例如：</p></blockquote><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th><th>item6</th><th>均值</th></tr></thead><tbody><tr><td>user1</td><td>7</td><td>6</td><td>7</td><td>4</td><td>5</td><td>4</td><td>5.5</td></tr><tr><td>user2</td><td>6</td><td>7</td><td>?</td><td>4</td><td>3</td><td>4</td><td>4.8</td></tr><tr><td>user3</td><td>?</td><td>3</td><td>3</td><td>1</td><td>1</td><td>?</td><td>2</td></tr><tr><td>user4</td><td>1</td><td>2</td><td>2</td><td>3</td><td>3</td><td>4</td><td>2.5</td></tr><tr><td>user5</td><td>1</td><td>?</td><td>1</td><td>2</td><td>3</td><td>3</td><td>2</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span></span></p><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th><th>item6</th></tr></thead><tbody><tr><td>user1</td><td>1.5</td><td>0.5</td><td>1.5</td><td>-1.5</td><td>-0.5</td><td>-1.5</td></tr><tr><td>user2</td><td>1.2</td><td>2.2</td><td>?</td><td>-0.8</td><td>-1.8</td><td>-0.8</td></tr><tr><td>user3</td><td>?</td><td>1</td><td>1</td><td>-1</td><td>-1</td><td>?</td></tr><tr><td>user4</td><td>-1.5</td><td>-0.5</td><td>-0.5</td><td>0.5</td><td>0.5</td><td>1.5</td></tr><tr><td>user5</td><td>-1</td><td>?</td><td>-1</td><td>0</td><td>1</td><td>1</td></tr></tbody></table><ul><li><strong>为什么要这么做呢？其实找相似度的感觉，可以理解成两个函数长得像不像，如果两条曲线重合，那么他们就一样，就是完全相似，但是如果有一条线上下平移一下呢？他们形状还是一样，但是相当于说，一个人整体给高分（是个好人），一个人整体给低分（是个坏人），这时候如果不均值化，当我们把好人的权重给坏人的时候，显然，坏人就打高分了，所以，这就是均值化的原因</strong></li></ul><p>用户u对物品j按均值中心化后的评分．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mi>u</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{uj}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>被定义为原始评分减去其平均评分。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>s</mi><mrow><mi>u</mi><mi>j</mi></mrow></msub><mo>=</mo><msub><mi>r</mi><mrow><mi>u</mi><mi>j</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>u</mi></msub><mi mathvariant="normal">∀</mi><mi>u</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>1...</mn><mi>m</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">s_{uj} = r_{uj} - μ_u \forall u \in\{1...m\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∀</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1...</span><span class="mord mathnormal">m</span><span class="mclose">}</span></span></span></span></span></p><blockquote><p>step5:令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_u(j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>表示与目标用户u最相近的K位对物品做出评分的用户集合，<strong>一般相关为负数的都不会纳入其中</strong>。终于，整体的基于近邻的预测函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mrow><mi>u</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\hat{r}_{uj}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>诞生了！</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mrow><mi>u</mi><mi>j</mi></mrow></msub><mo>=</mo><msub><mi>μ</mi><mi>u</mi></msub><mo>+</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>v</mi><mo>∈</mo><msub><mi>P</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msub><mi>S</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo separator="true">⋅</mo><msub><mi>s</mi><mrow><mi>v</mi><mi>j</mi></mrow></msub></mrow><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>v</mi><mo>∈</mo><msub><mi>P</mi><mi>u</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msub><mi mathvariant="normal">∣</mi><mi>S</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\hat{r}_{uj}= μ_u + \frac{\Sigma_{v \in P_u(j)} Sim(u,v) · s_{vj}}{\Sigma_{v \in P_u(j)}|Sim(u,v)|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.5364em;vertical-align:-1.0412em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4952em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7452em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0412em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>例如，现在我们要求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mn>31</mn></msub></mrow><annotation encoding="application/x-tex">\hat{r}_{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，我们首先算出user3和所有用户的皮尔逊相关系数。如表：</p><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th><th>item6</th><th>均值</th><th>皮尔逊相关系数</th></tr></thead><tbody><tr><td>user1</td><td>7</td><td>6</td><td>7</td><td>4</td><td>5</td><td>4</td><td>5.5</td><td>0.894</td></tr><tr><td>user2</td><td>6</td><td>7</td><td>?</td><td>4</td><td>3</td><td>4</td><td>4.8</td><td>0.939</td></tr><tr><td>user3</td><td>?</td><td>3</td><td>3</td><td>1</td><td>1</td><td>?</td><td>2</td><td>1</td></tr><tr><td>user4</td><td>1</td><td>2</td><td>2</td><td>3</td><td>3</td><td>4</td><td>2.5</td><td>-1</td></tr><tr><td>user5</td><td>1</td><td>?</td><td>1</td><td>2</td><td>3</td><td>3</td><td>2</td><td>-0.817</td></tr></tbody></table><p>所以我们取user1和user2的数据集来计算（相关系数大于0）</p><p>然后我们要使用均值化的数据。</p><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th><th>item6</th></tr></thead><tbody><tr><td>user1</td><td><strong>1.5</strong></td><td>0.5</td><td>1.5</td><td>-1.5</td><td>-0.5</td><td>-1.5</td></tr><tr><td>user2</td><td><strong>1.2</strong></td><td>2.2</td><td>?</td><td>-0.8</td><td>-1.8</td><td>-0.8</td></tr><tr><td>user3</td><td>?</td><td>1</td><td>1</td><td>-1</td><td>-1</td><td>?</td></tr><tr><td>user4</td><td>-1.5</td><td>-0.5</td><td>-0.5</td><td>0.5</td><td>0.5</td><td>1.5</td></tr><tr><td>user5</td><td>-1</td><td>?</td><td>-1</td><td>0</td><td>1</td><td>1</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mn>31</mn></msub><mo>=</mo><mn>2</mn><mo>+</mo><mfrac><mrow><mn>1.5</mn><mo>∗</mo><mn>0.894</mn><mo>+</mo><mn>1.2</mn><mo>∗</mo><mn>0.939</mn></mrow><mrow><mn>0.894</mn><mo>+</mo><mn>0.939</mn></mrow></mfrac><mo>=</mo><mn>3.35</mn></mrow><annotation encoding="application/x-tex">\hat{r}_{31} = 2+\frac{1.5*0.894+1.2*0.939}{0.894+0.939}=3.35</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.894</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.939</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.894</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1.2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.939</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.35</span></span></span></span></span></p><ul><li>当然其实还有最后一步，因为评分标准是没有小数的，所以就用四舍五入，化为整数（严谨！）</li></ul><h3 id="相似函数的一些变形">相似函数的一些变形</h3><p>在实践中也会用到一些不同形式的相似度函数。一种变形是将余弦函数应用在原始评分上， 而不是应用在均值中心化的评分上：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mi>a</mi><mi>w</mi><mi>C</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></msub><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub><mo separator="true">⋅</mo><msub><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow></msub></mrow><mrow><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></msub><msubsup><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow><mn>2</mn></msubsup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></msub><msubsup><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">RawCosine(u,v) = \frac{\Sigma_{k \in I_u \cap I_v } r_{uk}·r_{vk}}{\sqrt{\Sigma_{k \in I_u \cap I_v} r_{uk}^2}·\sqrt{\Sigma_{k \in I_u \cap I_v} r_{vk}^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07153em;">wC</span><span class="mord mathnormal">os</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4903em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.1777em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9323em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.3987em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8923em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3077em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9323em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.3987em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8923em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3077em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>那上面的例子，这样计算的话：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mi>a</mi><mi>w</mi><mi>C</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mi>u</mi><mn>1</mn><mo separator="true">,</mo><mi>u</mi><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mn>6</mn><mo>∗</mo><mn>3</mn><mo>+</mo><mn>7</mn><mo>∗</mo><mn>3</mn><mo>+</mo><mn>4</mn><mo>∗</mo><mn>1</mn><mo>+</mo><mn>5</mn><mo>∗</mo><mn>1</mn></mrow><mrow><msqrt><mrow><msup><mn>6</mn><mn>2</mn></msup><mo>+</mo><msup><mn>7</mn><mn>2</mn></msup><mo>+</mo><msup><mn>4</mn><mn>2</mn></msup><mo>+</mo><msup><mn>5</mn><mn>2</mn></msup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msup><mn>3</mn><mn>2</mn></msup><mo>+</mo><msup><mn>3</mn><mn>2</mn></msup><mo>+</mo><msup><mn>1</mn><mn>2</mn></msup><mo>+</mo><msup><mn>1</mn><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mo>=</mo><mn>0.956</mn></mrow><annotation encoding="application/x-tex">RawCosine(u1,u3)=\frac{6*3+7*3+4*1+5*1}{\sqrt{6^2+7^2+4^2+5^2}·\sqrt{3^2+3^2+1^2+1^2}}=0.956</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07153em;">wC</span><span class="mord mathnormal">os</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.1966em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9134em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">7</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8734em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1266em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9134em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8734em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1266em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.956</span></span></span></span></span></p><p>在余弦函数的一些实现中，分母上的归一化因子被设为基于该用户所有已评分的物品而不是两个用户共同已评分的物品：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mi>a</mi><mi>w</mi><mi>C</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></msub><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub><mo separator="true">⋅</mo><msub><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow></msub></mrow><mrow><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></msub><msubsup><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow><mn>2</mn></msubsup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></msub><msubsup><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">RawCosine(u,v) = \frac{\Sigma_{k \in I_u \cap I_v } r_{uk}·r_{vk}}{\sqrt{\Sigma_{k \in I_u } r_{uk}^2}·\sqrt{\Sigma_{k \in I_v} r_{vk}^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07153em;">wC</span><span class="mord mathnormal">os</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4903em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.1777em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9323em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.3987em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8923em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3077em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9323em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.3987em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.8923em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3077em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>那上面的例子，这样计算的话：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mi>a</mi><mi>w</mi><mi>C</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mi>u</mi><mn>1</mn><mo separator="true">,</mo><mi>u</mi><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mn>6</mn><mo>∗</mo><mn>3</mn><mo>+</mo><mn>7</mn><mo>∗</mo><mn>3</mn><mo>+</mo><mn>4</mn><mo>∗</mo><mn>1</mn><mo>+</mo><mn>5</mn><mo>∗</mo><mn>1</mn></mrow><mrow><msqrt><mrow><msup><mn>7</mn><mn>2</mn></msup><mo>+</mo><msup><mn>6</mn><mn>2</mn></msup><mo>+</mo><msup><mn>7</mn><mn>2</mn></msup><mo>+</mo><msup><mn>4</mn><mn>2</mn></msup><mo>+</mo><msup><mn>5</mn><mn>2</mn></msup><mo>+</mo><msup><mn>4</mn><mn>2</mn></msup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msup><mn>3</mn><mn>2</mn></msup><mo>+</mo><msup><mn>3</mn><mn>2</mn></msup><mo>+</mo><msup><mn>1</mn><mn>2</mn></msup><mo>+</mo><msup><mn>1</mn><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mo>=</mo><mn>0.777</mn></mrow><annotation encoding="application/x-tex">RawCosine(u1,u3)=\frac{6*3+7*3+4*1+5*1}{\sqrt{7^2+6^2+7^2+4^2+5^2+4^2}·\sqrt{3^2+3^2+1^2+1^2}}=0.777</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07153em;">wC</span><span class="mord mathnormal">os</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.1966em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9134em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord">7</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">7</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8734em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1266em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9134em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8734em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1266em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.777</span></span></span></span></span></p><ul><li>不过这些变化基本都没有皮尔逊相关系数常用。</li></ul><p>相似度函数Sim (u, v)的可靠程度通常受用户u和用户v之间共有评分数量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|I_u \cap I_v|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span>的影响。当两位用户的共有评分很少时，为了削弱这对用户的重要程度，应该引入一个削减因子以降低相似度。这种方法被称为<strong>显著性加权(significance weighting)</strong></p><p>当两位用户的共有评价数小于特定的阈值β时，削减因子将被引入。削减因子的值定义为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mi mathvariant="normal">∣</mi><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">}</mo></mrow><mi>β</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{min\{|I_u \cap I_v|, \beta\}}{\beta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4911em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">min</span><span class="mopen mtight">{</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，显然，他的取值在[0,1]，因此，削减过的相似度DiscountedSim (u, v)<br>定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>D</mi><mi>i</mi><mi>s</mi><mi>c</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>S</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo separator="true">⋅</mo><mfrac><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mi mathvariant="normal">∣</mi><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">}</mo></mrow><mi>β</mi></mfrac></mrow><annotation encoding="application/x-tex">DiscountedSim (u, v)=sim(u,v) ·\frac{min\{|I_u \cap I_v|, \beta\}}{\beta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">i</span><span class="mord mathnormal">sco</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.8804em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">min</span><span class="mopen">{</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>假设我们定义β为5，那么我们发现user1和user3只有4项共同评价项目，这个时候相似度就要加一个权重咯（<strong>哼，只有四项共同评价，太少了吧！</strong>）<br>所以：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>D</mi><mi>i</mi><mi>s</mi><mi>c</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>S</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>u</mi><mn>1</mn><mo separator="true">,</mo><mi>u</mi><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0.894</mn><mo>∗</mo><mfrac><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><mn>5</mn></mfrac><mo>=</mo><mn>0.715</mn></mrow><annotation encoding="application/x-tex">DiscountedSim (u1, u3)=0.894*\frac{min\{4,5\}}{5}=0.715</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">i</span><span class="mord mathnormal">sco</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.894</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">min</span><span class="mopen">{</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.715</span></span></span></span></span></p><h3 id="长尾的影响">长尾的影响</h3><p>在许多真实的场景中． 评分的分布通常呈长尾分布。某些电影可能非常受欢迎以至千它们经常作为被不同用户共同评价的项出现。这样的评价有时会降低推荐的质址、因为它们对不同的用户缺乏区分力。这与在文档检索应用中很常见并且无具体信息的单词（例如，“a” “ an” “the” ）会使检索结果变坏的道理一样。因此，协同过滤中推荐的解决方法也与信息检索中的方法类似。正如信息检索中逆文档频率(idf) 这一概念一样，我们可以使用逆用户频率这一概念。设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>m</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">m_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>为物品）的评价数，m为用户总数，那么物品j的权重<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">w_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>w</mi><mi>j</mi></msub><mo>=</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mfrac><mi>m</mi><msub><mi>m</mi><mi>j</mi></msub></mfrac><mo stretchy="false">)</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>1...</mn><mi>n</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">w_j = log(\frac{m}{m_j}) \forall j \in \{1...n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0797em;vertical-align:-0.9721em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1...</span><span class="mord mathnormal">n</span><span class="mclose">}</span></span></span></span></span></p><p>例如，对Pearson系数做如下修改以包含这些权重：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>e</mi><mi>a</mi><mi>r</mi><mi>s</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><mrow><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></mrow></msub><msub><mi>w</mi><mi>k</mi></msub><mo separator="true">⋅</mo><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>u</mi></msub><mo stretchy="false">)</mo><mo separator="true">⋅</mo><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>v</mi><mi>μ</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><mrow><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></mrow></msub><msub><mi>w</mi><mi>k</mi></msub><mo separator="true">⋅</mo><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>u</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>u</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><mrow><msub><mi>I</mi><mi>u</mi></msub><mo>∩</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></mrow></msub><msub><mi>w</mi><mi>k</mi></msub><mo separator="true">⋅</mo><mo stretchy="false">(</mo><msub><mi>r</mi><mrow><mi>v</mi><mi>k</mi></mrow></msub><mo>−</mo><msub><mi>v</mi><mi>μ</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">Pearson(u,v) =\frac{\Sigma_{k \in{I_u \cap I_v}} w_k·(r_{uk}-μ_u)·(r_{vk}-v_μ)}{\sqrt{\Sigma_{k \in{I_u \cap I_v}} w_k·(r_{uk}-μ_u)^2} · \sqrt{\Sigma_{k \in{I_u \cap I_v}} w_k·(r_{vk}-v_μ)^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">rso</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.575em;vertical-align:-1.148em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.1751em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9349em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3051em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9169em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8769em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3231em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0785em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.148em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li>也就是说，评价数越多，物品的权重越小</li></ul><h2 id="基于物品的近邻模型">基于物品的近邻模型</h2><p>在基于物品的模型中，以物品而不是用户构建同组群体。因此，需要计算物品（即评分矩阵的列）之间的相似度。在计算列之间的相似度之前，每行的评分被以均值为零点中心化。和基于用户的模型一样．每一件物品的评分都被减去该物品的平均评分以得到一个<br>均值中心化的矩阵。</p><p><strong>在基于物品的方法中仍然可以使用Pearson相关系数，但调整余弦通常会产生更好的结果。</strong></p><p>所以，列的相似系数定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>d</mi><mi>j</mi><mi>u</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>C</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>U</mi><mi>j</mi></msub></mrow></msub><msub><mi>s</mi><mrow><mi>u</mi><mi>i</mi></mrow></msub><mo separator="true">⋅</mo><msub><mi>s</mi><mrow><mi>u</mi><mi>j</mi></mrow></msub></mrow><mrow><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>U</mi><mi>j</mi></msub></mrow></msub><msubsup><mi>s</mi><mrow><mi>u</mi><mi>i</mi></mrow><mn>2</mn></msubsup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><msub><mi mathvariant="normal">Σ</mi><mrow><mi>k</mi><mo>∈</mo><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>U</mi><mi>j</mi></msub></mrow></msub><msubsup><mi>s</mi><mrow><mi>u</mi><mi>k</mi></mrow><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">AdjustedCosine(i,j) = \frac{\Sigma_{k \in U_i \cap U_j } s_{ui}·s_{uj}}{\sqrt{\Sigma_{k \in U_i \cap U_j} s_{ui}^2}·\sqrt{\Sigma_{k \in U_i \cap U_j} s_{uk}^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">os</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1507em;vertical-align:-1.73em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4207em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.2093em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2093em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3473em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1693em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewbox="0 0 400000 1944" preserveaspectratio="xMinYMin slice"><path d="M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6307em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2093em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3473em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1693em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewbox="0 0 400000 1944" preserveaspectratio="xMinYMin slice"><path d="M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6307em;"><span></span></span></span></span></span></span></span><span style="top:-3.4393em;"><span class="pstrut" style="height:3.2093em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.9466em;"><span class="pstrut" style="height:3.2093em;"></span><span class="mord"><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">∩</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3473em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.73em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>我们来计算一下AdjustedCosine(1,3)</p><table><thead><tr><th></th><th>item1</th><th>item2</th><th>item3</th><th>item4</th><th>item5</th><th>item6</th></tr></thead><tbody><tr><td>user1</td><td><strong>1.5</strong></td><td>0.5</td><td>1.5</td><td>-1.5</td><td>-0.5</td><td>-1.5</td></tr><tr><td>user2</td><td><strong>1.2</strong></td><td>2.2</td><td>?</td><td>-0.8</td><td>-1.8</td><td>-0.8</td></tr><tr><td>user3</td><td>?</td><td>1</td><td>1</td><td>-1</td><td>-1</td><td>?</td></tr><tr><td>user4</td><td>-1.5</td><td>-0.5</td><td>-0.5</td><td>0.5</td><td>0.5</td><td>1.5</td></tr><tr><td>user5</td><td>-1</td><td>?</td><td>-1</td><td>0</td><td>1</td><td>1</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>d</mi><mi>j</mi><mi>u</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>C</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>e</mi><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mn>1.5</mn><mo>∗</mo><mn>1.5</mn><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1.5</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>0.5</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mrow><msqrt><mrow><mn>1.</mn><msup><mn>5</mn><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1.5</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt><mo separator="true">⋅</mo><msqrt><mrow><mn>1.</mn><msup><mn>5</mn><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>0.</mn><msup><mn>5</mn><mn>2</mn></msup><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mo>=</mo><mn>0.912</mn></mrow><annotation encoding="application/x-tex">AdjustedCosine(1,3) = \frac{1.5*1.5+(-1.5)*(-0.5)+(-1)*(-1)}{\sqrt{1.5^2+(-1.5)^2+(-1)^2}·\sqrt{1.5^2+(-0.5^2)+(-1)^2}} = 0.912</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">os</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.557em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1.5</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">0.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">0.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.912</span></span></span></span></span></p><p>后面的步骤类似，就是找K个最相关的，再作为权重……</p><h2 id="降维与近邻方法">降维与近邻方法</h2><p>降维方法能够同时提高近邻方法的质量和效率。尤其是在稀疏矩阵中很难健壮地计算每对之间的相似度的情况下，降维也能够根据潜在因子提供稠密的低维表示。因此，这样的模型被称为<strong>潜在因子模型</strong>。即使两位用户共同评价过的物品很少，也能够计算其低维潜在向量之间的距离。更进一步，这种方法利用低维潜在向量决定同组群体也更有效率。</p><h3 id="处理偏差">处理偏差</h3><p>假设我们现在有三部电影，观众对这三部电影评价如下：</p><table><thead><tr><th>用户↓</th><th>godfather</th><th>gladiator</th><th>nero</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>2</td><td>7</td><td>7</td><td>7</td></tr><tr><td>3</td><td>3</td><td>1</td><td>1</td></tr><tr><td>4</td><td>5</td><td>7</td><td>7</td></tr><tr><td>5</td><td>3</td><td>1</td><td>？</td></tr><tr><td>6</td><td>5</td><td>7</td><td>？</td></tr><tr><td>7</td><td>3</td><td>1</td><td>？</td></tr><tr><td>8</td><td>5</td><td>7</td><td>？</td></tr><tr><td>9</td><td>3</td><td>1</td><td>？</td></tr><tr><td>10</td><td>5</td><td>7</td><td>？</td></tr><tr><td>11</td><td>3</td><td>1</td><td>？</td></tr><tr><td>12</td><td>5</td><td>7</td><td>？</td></tr></tbody></table><p>本例中， 评分范围为1~7, 由一组4个用户对3部电影的评价组成。显然，《Gladiator》和《Nero》之间的关联度非常高， 因为在已有的用户评分中． 它们的评分结果非常相似。《Godfather》和《Gladiator》之间的关联似乎不是很明显。但是， 有很多用户没有对《Nero》做出评分。由千《Nero》的平均得分为（0+1+1+7）/4 =4. 所以这些未知的评分被4代替。这些新项的加入明显降低了《Gladiator》和《Nero》之间的协方差。然而新添加的项对《Godfather》和《Gladiator》之间的协方差没有影响.</p><p>我写了一个计算协方差的代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算协方差</span></span><br><span class="line">    <span class="function"><span class="type">float</span> <span class="title">Covariance</span><span class="params">(vector&lt;<span class="type">int</span>&gt; u, vector&lt;<span class="type">int</span>&gt; v)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = u.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">float</span> numerator=<span class="number">0</span>;</span><br><span class="line">        <span class="type">float</span> meanU=<span class="built_in">Mean</span>(u);</span><br><span class="line">        <span class="type">float</span> meanV=<span class="built_in">Mean</span>(v);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            numerator+=(u[i]-meanU)*(v[i]-meanV);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> numerator/(n<span class="number">-1</span>);</span><br><span class="line">    &#125;  </span><br></pre></td></tr></table></figure><p>得到的三部电影间协方差表格是：</p><table><thead><tr><th></th><th>Godfather</th><th>Gladiator</th><th>Nero</th></tr></thead><tbody><tr><td>Godfather</td><td>2.55</td><td>4.36</td><td>2.18</td></tr><tr><td>Gladiator</td><td>4.36</td><td>9.82</td><td>3.27</td></tr><tr><td>Nero</td><td>2.18</td><td>3.27</td><td>3.27</td></tr></tbody></table><p>根据上面的估计， 《Godfather》和《Gladiator》之间的协方差大千《Gladiator》和Nero》之间的协方差。这看上去并不正确， 因为表2-3中，《Gladiator》和《Nero》的评分在两者都已知的评价中是一样的。因此《Gladiator》和《Nero》之间的协方差应该更高。这个偏差是使用平均值填充未知项造成的。这类偏差在稀疏矩阵中很重要， 因为其大部分项都是未知的。因此， 需要设计一种方法来降低用平均值代替未知项所带来的偏差。<br>我们可以用极大似然估计的方法来解决，其实很暴力，就是只看共同评价部分就好</p><h3 id="极大似然估计法">极大似然估计法</h3><p>每对物品之间的协方差仅使用巳知项进行估计。换句话说， 只有对某对物品做出评分的用户被用来估计协方差。<br>当没有用户在一对物品上做出共同评价时， 协方差被估计为0。使用这种方法， 协方差估计如下：</p><table><thead><tr><th></th><th>Godfather</th><th>Gladiator</th><th>Nero</th></tr></thead><tbody><tr><td>Godfather</td><td>2.55</td><td>4.36</td><td>8</td></tr><tr><td>Gladiator</td><td>4.36</td><td>9.82</td><td>12</td></tr><tr><td>Nero</td><td>8</td><td>12</td><td>12</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;基于近邻的协同过滤（Neighborhood-Based Collaborative Filtering）&lt;/h1&gt;
&lt;p&gt;基于近邻的协同过滤算法， 也被称为基于内存的算法(memory-based algorithm)，是最早的为协同过滤而开发的算法之一。这类算法是基于</summary>
      
    
    
    
    <category term="研究生课程" scheme="https://yigexiaogai.github.io/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="推荐系统" scheme="https://yigexiaogai.github.io/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="研究生课程" scheme="https://yigexiaogai.github.io/tags/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>推荐系统（1）</title>
    <link href="https://yigexiaogai.github.io/2023/10/28/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%881%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2023/10/28/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%881%EF%BC%89/</id>
    <published>2023-10-28T11:01:26.000Z</published>
    <updated>2023-12-31T09:23:32.709Z</updated>
    
    <content type="html"><![CDATA[<h1>前言</h1><p>终于，我也到了当修士的时候了；终于，我也到了要上课的时候了。时间真快，来日本已经一年多了，回首仿佛还在昨天。虽然说大学院的课程很水，但是总归是让我有些充实的感觉（虽然平时研究也很充实。。。简单抒情到这里。还是说正事吧。</p><p>这学期我一共修了六节课，其中有三门，是我觉得需要做笔记做成博客的程度。其中这一门就是 <strong>《推荐系统》（recommender system）</strong> 。另外的两门分别是《人机交互》和《可视化》（都是属于比较工科的课程，即会用到数学或者物理的知识），但是这两门我在本科的时候都有修习过，所以算是有点基础。而这门《推荐系统》，是我第一次接触。在上了两节课之后，我觉得非常的有意思。首先，推荐系统本身是面向用户（客户）吸引用户的一种手段，和我这个“希望引人注目”的人的个性很契合，我也很希望视频网站能把我的视频推荐给大家（XS）；其次，我认为推荐系统中的算法和思想和数学建模有很大的关系，有些非常的巧妙，且没有过于的硬核。</p><p>我们上课的形式是网课，而且老师只会提供PDF和word文档，所有的内容也并非老师原创，都是来自于书本 <strong>《Recommender Systems: The Textbook(推荐系统：原理与实践)》</strong></p><img src="/2023/10/28/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%881%EF%BC%89/cover.jpg" class title="推荐系统：原理与实践"><p>这本书内容不深，很适合初学者学习。<br>这里附上该课本的购买连接：<a href="https://www.amazon.co.jp/dp/B01DK3GZDY/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1">亚马逊</a></p><p>但是，大家也知道，这本书的原著是英文的，而我又在日本，所以老师只提供英文版本和日本版本的教材，不过，还好有万能的淘宝！！只花了两块钱，就买到了中文版本的PDF，爽！</p><p>这里给大家分享买到的教材:<a href="https://drive.google.com/file/d/15vGVSy2qnCq8aPYDzA2XmpUY1mxkZn_B/view?usp=drive_link">点击这里</a></p><p>ok，接下来，我们就将进入推荐系统的世界。</p><h1>推荐系统概述</h1><p>推荐系统，想必大家都不陌生，日常生活中处处可见。作为一个B站抽象老用户，B站现在首页推送给我的全是抽象的内容（笑。而我选择 <strong>网飞</strong> 作为该系列封面，也包含相同的原因，一是，Netflix同样作为流媒体网站，二是，Netflix为推荐系统的发展做出了巨大的贡献——网飞曾经话重金举办了推荐系统的算法大赛，用以提高推荐算法的效率，意在提高算法效率1010%，史称“1010问题”。因为这个大赛，推荐算法得到了巨大的提升。</p><p>推荐系统与用户的喜好存在相当强的关系，所以最经典的推荐系统就是依据用户对项目的 <em><strong>“评分”</strong></em> 来构建的。<br>例如，在电影平台上，用户A会给电影评分，如果A给X电影评5星，那么系统就能给A推荐类型相同的电影Y；也有可能给和用户A很像的用户B推荐电影X……</p><p>上面提到的这两种方法，其实就是最经典的推荐算法模型<br>——<strong>近邻模型(neighborhood model)</strong>。这类算法还属于一类更大的模型——<strong>协同过滤(collaborative filtering)</strong>。<strong>“协同过滤&quot;是指协同处理大量用户的评分来预测遗失的评分。</strong></p><p>**推荐系统面向的对象称为用户(user)， 推荐的产品称为物品(item)。**由于用户曾经的兴趣喜好通常预示着未来的选择， 因此推荐分析也通常是基于先前用户与物品之间的关系。但仍有一个特例——<strong>基于知识的推荐系统是根据用户指定需求而非用户的历史记录进行推荐。</strong></p><p>所以我们暂时得到了这样的结构图：</p><img src="/2023/10/28/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%881%EF%BC%89/1.png" class><h2 id="推荐系统的目标">推荐系统的目标</h2><p>在讨论推荐系统的目标之前，我们首先需要知道，推荐系统是干什么的。简单来说，推荐系统主要干了两件事情：</p><blockquote><ol><li>预测。对应的就是<strong>预测模型</strong>。例如，我们现在知道了用户A对电影X的评分是4分，那我们就会想要知道： 1. 用户A对电影Y评分会是多少？ 2. 用户B对电影X评分会是多少？ 通常，我们对用户－物品的评分值进行组合。对于m个用户和n件物品， 这个训练集相当千一个mXn的不完全矩阵， 矩阵中的已知值（或观测值）被用来训练。矩阵中的缺失值（或未观测值）则通过这个训练模型进行预测。因为是根据不完整的数值矩阵用学习算法预测出剩余的未知值， 所以这个问题又被称作<strong>矩阵补全问题</strong>。</li><li>排名。对应的则是<strong>排名模型</strong>。想一下，淘宝要给用户A推送商品，A刚刚搜索过“书包”，可是淘宝上卖书包的商家有辣么多，我们需要挑最相关的店铺放到第一页，这就是一个rank问题。也被称为 <strong>“top-k问题”</strong>。通常来说，这里的top-k指的是<strong>为一个用户推荐K个商品</strong>，但有些情况，也可能反过来，<strong>为一个商家推荐K个用户</strong>，不过前者更加普遍。</li></ol></blockquote><p><strong>推荐系统本质上是一种商业手段</strong>，用来给公司赚钱的呀。所以，一切的目标都是——<strong>利润</strong>，为了提高利润，我们要求推荐系统有：</p><blockquote><ol><li><strong>相关性</strong>：推荐用户最相关的东西。</li><li><strong>新颖性</strong>：给用户推荐新鲜的东西。</li><li><strong>意外性</strong>：给用户推荐意外的东西， 指眼前一亮。例如， 如果隔壁新开了一家印度菜馆， 推荐给一个平常就吃印度菜的顾客． 他大概只<br>会觉得新颖而不一定惊喜。另一方面， 同样是这名顾客， 如果向他推荐埃塞俄比亚菜， 尝试之前， 这名顾客并不知道是否喜欢这种食物， 这种推荐就是意料之外的。</li><li><strong>多样性</strong>：top-k里面的K件物品，不能都很相似。</li></ol></blockquote><p>以下是一些著名的推荐系统：<br>groupLens、<a href="http://Amazon.com">Amazon.com</a>、Netflix、Google、facebook（推荐的是好友）</p><h2 id="推荐系统的基本模型">推荐系统的基本模型</h2><p>推荐系统的基本模型处理两种数据： （i）用户－物品之间的相互关系， 比如评分或是购买行为；（ii） 用户和物品的属性信息， 例如文本画像或是相关关键词。用到前一种数据的方法叫作协同过滤法， 用到后一种数据的方法叫作基于内容的推荐方法。</p><h3 id="协同过滤模型">协同过滤模型</h3><p>协同过滤方法在前文已经讲过，就是找用户或者项目的相同点。有两种方法经常会被用到：</p><ol><li>基于记忆的方法（memory）</li></ol><blockquote><ol><li>基于用户（user）的协同过滤：<strong>简单来说，就是找“谁和用户A相似”。</strong> 假设Alice和Bob过去曾以类似的方式评价过一部电影， Alice 看过并且评价了Terminator》这部电影，而Bob没看过， 就可以用Alice 的评分来预测Bob 的评分。在一般情况下， 可以用K个与Bob 最相似的用户来预测Bob的评分。</li><li>基于物品(item)的协同过滤：<strong>简单来说，就是找“什么和项目X相似。</strong> 因此， Bob 对科幻电影《Alien》和《Predator》的评价可以通过他对类似科幻电影《Terminator》的评价推断出来。通过计算评分矩阵列之间的相似度函数来发现相似的物品。</li></ol></blockquote><ol start="2"><li>基于模型的方法（model）<br>在基于模型的方法中会用到机器学习和数据挖掘技术。这是因为模型的参数需要通过一个优化框架学习得到。基于模型的方法包括决策树、基千规则的模型、贝叶斯方法和潜在因子模型。</li></ol><h3 id="评分系统">评分系统</h3><p>众所周知，推荐系统和用户的评分有很大关系。关于评分系统，也是一个复杂的课题。<br>评分常见的有5分制，10分制（<strong>序数评分</strong>），二元评分（赞或踩），一元评分。主要讲一讲后面一种，因为比较特殊。<br>一元评分，就意味着用户只能点赞，就像朋友圈，或者购买行为。一元评分能够展示的信息是非常有限的，只能表现用户对项目有态度，但是不能表示程度。这样的信息被称为“隐式反馈矩阵”。<br>值得一提的是，从客户操作中推导一元评分也被称为隐式反馈(implicit feedback)，因为反馈不是由客户直接提供，而是隐式地从客户操作中推断出来。这种类型的“评分”往往更容易获得，因为用户更愿意与网站上的物品进行交互操作而不是显式地评价它们。<strong>隐式反馈（即一元评分）可以被看成是分类和回归建模中的正例－无标记学习问题的矩阵补全。</strong></p><h2 id="基于内容的推荐系统">基于内容的推荐系统</h2><p>在基于内容的推荐系统中，物品的描述性属性用来做出推荐。术语“内容” 指的就是这些描述。在基于内容的方法中， 用户的评分和购买行为与在物品中可以获得的内容信息相结合。例如， 考虑John 给予电影《Terminator》很高的评分， 但是我们没办法知道其他用户的评分。然而， 电影《Terminator》的物品描述包含着与其他科幻电影如《Alien》和《Predator》类似的关键词。在这种情况下． 这些电影可以推荐给John。</p><h2 id="基于知识的推荐系统">基于知识的推荐系统</h2><p>基于知识的推荐系统在不常购买的物品背景下特别有用， 像购买房产、汽车、旅游需求、金融服务或者昂贵奢侈品这样的物品。在这些情况下， 推荐过程可能不能获得足够的<br>评分。当物品购买率低并且有不同类型的详细选择时， 对千这种物品， 是很难获得足够数批的对于一个特定的实例化（即各类选项的组合）的评分的。</p><p>推荐系统常常遇到的是 <strong>“冷启动问题（cold start）”</strong>，意思就是，<strong>对于一个新用户，TA没有使用记录，自然系统就很难给TA推荐东西。</strong> 在这种情况下，常常就需要用户填写一些自己的相关信息，作为系统 <strong>开始推荐的依据</strong>。比如，新注册微博的人，微博会让他填写，你喜欢啥啥啥，是体育？动漫？还是科普？这就是“基于知识的推荐系统”。这里的知识指的是一个人的信息需求。</p><p>可以根据界面的类型（和相关的知识）将基于知识的推荐系统划分成如下几类：</p><ol><li>基于约束的推荐系统：这里的约束，形象来说，比如淘宝买衣服时候的一些约束条件——“价格：100~300元 or 胸围：88~92”，这种 <strong>范围性的限制条件，就是所谓的约束</strong></li><li>基于案例的推荐系统：这里的案例，也可以形象来说，例如买衣服时候——“材质：棉花 or 牌子：耐克”，<strong>这种确定单一的约束条件，就叫案例。</strong>（虽然我觉得案例不也是一种特殊的约束嘛，但是根据教科书，这两种在数学模型上，有本质的区别，暂时我不能理解。）</li></ol><ul><li>实际上，基于知识的系统有时会被认为是基于内容的系统的“表兄妹”。它们的主要区别是，<strong>基于内容的系统是从用户过去的行为中进行推荐，而基于知识的系统是以活跃用户的具体需求和喜好来进行推荐的。</strong></li></ul><p>所以到现在，我们关于“推荐系统”的结构图，扩展成了这样。</p><img src="/2023/10/28/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%EF%BC%881%EF%BC%89/2.png" class title="结构图"><h1>习题：</h1><ol><li><p>解释在推荐系统的设计中为什么一元评分是明显不同于其他类型的评分。<br><strong>我的回答：因为一元评分只能表达出用户隐性的选择信息，没有喜爱程度。同时，也不能表达相反的评分。<br>GPT：<br>信息简单： 一元评分只包含了极少的信息，通常只有两个取值。相比之下，多元评分可以提供更丰富的信息，包括用户的喜好程度，使得推荐系统更容易理解用户的需求。<br>缺乏细节： 一元评分无法提供关于用户和物品之间关系的详细信息。例如，如果一个用户只能选择“喜欢”或“不喜欢”一个电影，那么推荐系统无法知道用户具体喜欢哪些类型的电影，或者不喜欢电影的哪些方面。<br>不适用于个性化推荐： 一元评分难以满足个性化推荐的需求。在多元评分中，可以根据用户的具体评分倾向性，进行更精细的个性化推荐，比如向用户推荐那些用户评分较高的物品。<br>难以处理冷启动问题： 一元评分难以应对推荐系统的冷启动问题，因为它无法提供足够的信息来推断新物品或新用户的特性和偏好。<br>难以评估推荐系统性能： 一元评分难以用来准确评估推荐系统的性能，因为它无法反映用户的真实喜好程度，可能导致推荐系统在用户体验和满意度上表现不佳。</strong></p></li><li><p>讨论在何种情况下基于内容的推荐不如基于评分的协同过滤方式。<br><strong>我的回答：例如线上购物，看视频记录等情况下。简单来说，就是推荐系统主要是以用户的使用记录或者过去的行为为依据的时候，就更适合评分模式而不是内容模式。<br>GPT：缺乏丰富内容描述的情况： 如果物品的内容描述信息非常有限，或者无法提供足够的特征来描述物品的特性，基于内容的推荐就会受到限制。在这种情况下，基于评分的协同过滤可以利用用户的历史评分数据来推断用户的喜好，而无需依赖物品的内容信息。</strong></p></li><li><p>假设你需要设计一个系统， 能利用可视化界面来判断用户所感兴趣的产品。这种情况下应使用哪种类别的推荐系统呢？<br>我的回答：会话式、基于搜索、基于导航</p></li><li><p>讨论在推荐过程中位置起着重要作用的一个场景。<br>我的回答：GPS结合推荐系统，例如，大众点评——我们需要找附近餐馆的时候。</p></li><li><p>本章提到协同过滤可以视为分类问题的泛化这一事实。讨论一种将分类算法变成协同过滤的简单方法。解释为什么难以在稀疏评分矩阵上使用该方法。<br><strong>GPT:将分类算法变成协同过滤的简单方法是将分类问题转化为一个二分类问题，并使用用户-物品交互数据（通常是评分数据）来训练分类模型。具体来说，可以将用户对物品的评分分为两类：高评分（比如大于等于某个阈值）和低评分（小于阈值）。然后，可以使用分类算法（比如逻辑回归、决策树等）来建立一个分类模型，该模型可以根据用户和物品的特征，预测用户是否会给物品一个高评分。在实际推荐时，可以使用模型预测用户对未评价物品的评分，从而进行推荐。<br>然而，在稀疏评分矩阵上使用这种方法存在一些困难和挑战：<br>数据稀疏性： 推荐系统中的评分矩阵通常非常稀疏，即大部分用户-物品组合都没有评分数据。在这种情况下，分类模型很难得到足够的训练样本，因为很多用户-物品组合没有评分数据，无法用于分类模型的训练。<br>标签不平衡： 在评分数据中，高评分和低评分的比例通常是不平衡的，即大部分评分都集中在某个区间。这样的话，在训练分类模型时，可能会面临标签不平衡的问题，影响模型的性能和泛化能力。<br>特征选择： 协同过滤方法通常依赖于用户和物品的隐含特征，而分类算法通常需要显式特征作为输入。在推荐系统中，确定哪些特征对于预测用户-物品评分是一个挑战，尤其是在没有领域知识的情况下。<br>稀疏特征问题： 协同过滤的特征通常是高度稀疏的，例如用户和物品的ID。这种稀疏特征在一些分类算法中可能不容易处理，需要进行特殊的处理或者特征工程来转换为适合模型的形式。</strong></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;前言&lt;/h1&gt;
&lt;p&gt;终于，我也到了当修士的时候了；终于，我也到了要上课的时候了。时间真快，来日本已经一年多了，回首仿佛还在昨天。虽然说大学院的课程很水，但是总归是让我有些充实的感觉（虽然平时研究也很充实。。。简单抒情到这里。还是说正事吧。&lt;/p&gt;
&lt;p&gt;这学期我一共修了</summary>
      
    
    
    
    <category term="研究生课程" scheme="https://yigexiaogai.github.io/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="推荐系统" scheme="https://yigexiaogai.github.io/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="研究生课程" scheme="https://yigexiaogai.github.io/tags/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>小该碎碎念230809</title>
    <link href="https://yigexiaogai.github.io/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/"/>
    <id>https://yigexiaogai.github.io/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/</id>
    <published>2023-08-09T05:30:26.000Z</published>
    <updated>2023-10-31T14:36:31.085Z</updated>
    
    <content type="html"><![CDATA[    <div id="aplayer-JXgthJzr" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="1963753823" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#3F51B5"></div><blockquote><p>很倒霉，阳了。</p></blockquote><p>好久没有写小该碎碎念了，这是在日本的第一篇日记呢。</p><p>日本的夏天很热，我的寝室没有空调，所以我尽可能地跑去实验室或者图书馆躲避太阳的拷打。但是，这种情况在我得了新冠之后变得异常严厉。</p><p>阳了，一定是因为去了一趟东京，并且没有戴口罩。从美国回来的高中同学来日本玩，我给他做导游，去了秋叶原、东京大学、有乐町、银座，还在东京白嫖了一夜酒店。但总之不知道在什么地点什么时间，我和新冠病毒来了一次密切接触。回来之后的第三天，我发病了。</p><!-- <img src="/path/to/image.jpg" alt="图片描述" width="300" height="200"> --><img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/yangle.gif" alt="阳了" width="250" height="250"><p>我很想详细地描述一下新冠有多痛苦，例如喉咙很疼——宛如吞刀片；例如身体没有力气，就连那地方都没有力气“起来”；又例如吃什么都没有味道，像啃橡皮；不过现在我的身体在慢慢恢复，随着时间的流逝，深入人心的痛苦也会慢慢被淡化，从而变得不那么让人在意了。</p><p>猫鼠队总结一下：</p><div style="display: flex; justify-content: space-between;">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day1.jpg" width="150" height="100">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day2.jpg" width="150" height="100">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day3.jpg" width="150" height="100">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day4.jpg" width="150" height="100">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day5.jpg" width="150" height="100">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day6.jpg" width="150" height="100">  <img src="/2023/08/09/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5230809/day7.jpg" width="150" height="100"></div><p>真正令我在意的是精神上或者说心态上的恶化。在生病的这段时间里，我每天把自己关在10平米狭小的房间内，没有于朋友见面，网络也断了社交。我唯一能做的只有看电影，一部接着一部，或是看小说，一章接着一章；要么就是躺在床上胡思乱想。</p><blockquote><p>我想，我是不是被抛弃的那一个。为什么没有人来主动慰问我，来关心我。我希望那个特别的人，能够来询问我，“你身体怎么样了，不要紧吧”。</p></blockquote><p>现在来看，真是可悲又自大的想法。而且，其实有人在关心我，甚至有人给我送了好多药瓶，只是我太消极了，消极得把这些温柔都掩盖了。</p><p>生病的期间，我什么事都没干，一点都没有学习。虽然我说，我头好疼，学不了一点，但事实上，在我转阴之后，我仍然对自己说：我还在恢复期呢，咳嗽也厉害，学不了一点！只是借口罢了，我只想摆烂。我利用了名为新冠的借口，名正言顺的摆烂罢了。</p><p>为什么事情的“开始”对我来说这么难。其实我觉得我也不算什么废人，但我自己常常把自己贬低成废物，我很缺少自信呢。所以我害怕“开始”，因为我害怕“失败”。这样想的话，似乎就合理了起来。</p><p>未来的日子我不知道怎么办，我真的能够有让我自满的未来吗？</p>]]></content>
    
    
    <summary type="html">来到日本的第一篇日记，最近的一些郁闷以及感悟。</summary>
    
    
    
    <category term="日记" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AE%B0/"/>
    
    
    <category term="小该碎碎念" scheme="https://yigexiaogai.github.io/tags/%E5%B0%8F%E8%AF%A5%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
  </entry>
  
  <entry>
    <title>学习尤克里里的第2天</title>
    <link href="https://yigexiaogai.github.io/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/"/>
    <id>https://yigexiaogai.github.io/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/</id>
    <published>2023-06-01T09:50:23.000Z</published>
    <updated>2023-12-31T09:17:57.568Z</updated>
    
    <content type="html"><![CDATA[<h1>学尤克里里的phase 2</h1><p>满打满算，学会10首歌曲了，虽然仅限简单的和弦，不包括前奏，也不能背谱，横按也完全不会，但是我相信，慢慢来，一定都能学会的，关键是要“去学习”，不要放弃！<br>在日本的这段时间，无论是学习还是生活，都告诉我了一个道理，就是坚持做某件事就一定会有收获。有些收获很明显，例如锻炼就能减肥；但也有努力的收获没有那么明显，甚至会和最初所想的背道而驰，但是它仍然是一种收获，换种角度享受就好了。加油。</p><h2 id="被动">被动</h2><p>第十一首来自于伍佰大哥的《被动》。说来惭愧，我知道伍佰是从《想见你》之后，之前没有听过他的歌曲。但说来好笑，我没有看《想见你》，伍佰的歌倒是一首不落地听了。《被动》算是数一数二喜欢的一首了吧。</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E8%A2%AB%E5%8A%A8.png" class><h2 id="忽然之间">忽然之间</h2><p>第十二首是莫文蔚的《忽然之间》。技术不行，只能学学慢歌，其实有时候这样也不是很好，容易让自己emo，但是快歌又弹不来（笑）。话说《忽然之间》也不是什么悲伤的情歌，反而算甜蜜的吧？</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E5%BF%BD%E7%84%B6%E4%B9%8B%E9%97%B4.png" class><h2 id="我怀念的">我怀念的</h2><p>第十三首是《我怀念的》，可以说这是现在我能弹的里面难度最高的歌了，和弦种类非常多，扫弦节奏很难把握，但是是可以练会的，因为不需要横按，总之加油吧，感觉应该会在这里卡挺久的，没事，磨刀不误砍柴工！加油！</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E6%88%91%E6%80%80%E5%BF%B5%E7%9A%84.png" class><h2 id="送你一朵小红花">送你一朵小红花</h2><p>第十四首是《送你一朵小红花》，也是歌手赵英俊的遗作。最近非常的emo，但是回顾了一下赵英俊的事情和视频，真的给了我很大的力量。生活十有八九不如意，但再不如意，还能有当年赵英俊面对的死亡可怕吗？赵英俊说他害怕死亡，但只害怕了一天，这样积极的态度，我真的学到很多，谢谢赵英俊，salute！</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E9%80%81%E4%BD%A0%E4%B8%80%E6%9C%B5%E5%B0%8F%E7%BA%A2%E8%8A%B1.png" class><h2 id="空心">空心</h2><p>第十五首是光泽的《空心》，说来好笑，练习这首歌的时候，被邻居投诉了。我觉得是很好听的歌，但是他的编曲真的好简单。其实怎么说呢，我一直觉得编曲简单的歌也能好听，但确实技术力不高，最近很想学习编曲和声乐啊。</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E7%A9%BA%E5%BF%83.jpg" class><h2 id="第三人称">第三人称</h2><p>在直播间听到的歌，很好听，有点难弹，到底什么时候能克服大横按呢？</p><img src="/2023/06/01/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC2%E5%A4%A9/%E7%AC%AC%E4%B8%89%E4%BA%BA%E7%A7%B0.png" class>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;学尤克里里的phase 2&lt;/h1&gt;
&lt;p&gt;满打满算，学会10首歌曲了，虽然仅限简单的和弦，不包括前奏，也不能背谱，横按也完全不会，但是我相信，慢慢来，一定都能学会的，关键是要“去学习”，不要放弃！&lt;br&gt;
在日本的这段时间，无论是学习还是生活，都告诉我了一个道理，就是坚</summary>
      
    
    
    
    <category term="小该的音乐之旅" scheme="https://yigexiaogai.github.io/categories/%E5%B0%8F%E8%AF%A5%E7%9A%84%E9%9F%B3%E4%B9%90%E4%B9%8B%E6%97%85/"/>
    
    
    <category term="尤克里里" scheme="https://yigexiaogai.github.io/tags/%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C/"/>
    
    <category term="乐谱" scheme="https://yigexiaogai.github.io/tags/%E4%B9%90%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列6</title>
    <link href="https://yigexiaogai.github.io/2023/05/26/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%976/"/>
    <id>https://yigexiaogai.github.io/2023/05/26/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%976/</id>
    <published>2023-05-26T04:41:37.000Z</published>
    <updated>2023-10-28T10:55:34.136Z</updated>
    
    <content type="html"><![CDATA[<h1>N3知识点扫盲（接5）</h1><h2 id="21-だらけ">21. だらけ</h2><p>だらけ的意思是“全是~”，“满是~”，是一个接尾词，用法是“Aだらけ”，意为“全是A”。多用在<strong>消极的表达</strong>，有一种<strong>全是A附着的感觉</strong>。在日常中经常使用。例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">このシャツはアイロンをかけていないので、しわだらけだ。（这件衬衫因为没有用熨斗烫过，满是褶皱。）</span><br><span class="line">私の日本語の手紙は間違いだらけだったが、一生懸命書いた気持ちが伝わっていった。（我的日文信虽然错误百出，但是有传达出我在用心写。）</span><br></pre></td></tr></table></figure><h2 id="22-ついでに">22. ついでに</h2><p>ついでに的意思是“顺便做某事”。在日常中也非常常用，注意ついでに前后两句必须有<strong>利用关系</strong>。例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">子供を車で駅まで送ったついでに、図書館で本を借りてきた。（开车送小孩去车站，顺便去图书馆借书。）</span><br></pre></td></tr></table></figure><h2 id="23-～てからでないと・～てからでなければ">23. ～てからでないと・～てからでなければ</h2><p>～てからでないと・～てからでなければ的意思是“若不先【做】~，就~”，句子中的表现是<strong>A～てからでないと・～てからでなければ，B</strong>，其中，B多数情况下是<strong>否定的或者消极的内容</strong>。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">準備運動をしてからでなければ、けがをするリスクが高い。（如果不先做准备运动的话，受伤的风险是很高的。）</span><br><span class="line">食べるときはよく火を通してからでないと食中毒の危険がある。（吃的时候没有烧熟的话，会有食物中毒的危险。）</span><br></pre></td></tr></table></figure><h2 id="23-たま（堪）らない">23. たま（堪）らない</h2><p>たまらない的意思是“~得不得了”，是一个形容程度的动词。たまらない的原型是“堪る”，意思是“忍耐”，约等于“がまんする”、“耐える”。意在表明情不自禁引起了某种强烈的感情。<br>接续是：1. 动词て形 2.一类形容词くて　3. 二类形容词で</p><p>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">合格通知を受け取って、嬉しくてたまらない。（收到了合格通知，高兴得不得了。）</span><br><span class="line">留学生活を始めたばかりのころは、家族に会いたくてたまらなかった。（留学生活刚刚开始的时候，想见家人想得不得了。）</span><br></pre></td></tr></table></figure><p>但是在表现他人的感觉时，不能直接用たまらない，因为在形容别人的时候是一种推测，不能使用确定的语句，这时候要在句尾加上“ようだ”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">合格通知を受け取った彼女は嬉しくてたまらないようだ。（收到了合格通知的她好像高兴得不得了。）</span><br></pre></td></tr></table></figure><ul><li>要注意的时，这种情感是<strong>情不自禁</strong>，也就是被动的，如果是主动的、自发的动词，例如思う、考える等，是不能使用たまらない的。</li></ul><h2 id="24-というより">24. というより</h2><p>というより的意思是“与其（说）……，还不如（说）……”，前面接续接普通型。是一个非常好用的关联词。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">北海道の冬の寒さは寒いというより痛い。（北海道冬天的寒冷与其说是冷，不如说是疼。）</span><br><span class="line">本来の仏教は宗教というより哲学だ。（本来的佛教与其说是宗教，不如说是哲学。）</span><br><span class="line">私は健康のためというよりストレスを発散のためジョギングをしている。（我慢跑与其说是为了健康，不如说是为了释放压力。）</span><br><span class="line">何だが褒められているというよりバカにさせているような気分です。（与其说是被夸奖，倒不如说感觉被当成傻子了。）</span><br></pre></td></tr></table></figure><h2 id="25-において・における">25.において・における</h2><p>において的用法是前面加名词，如果后面也要加名词就要使用における。语法为：<strong>名词+における+名词</strong>。其意思表达为：“在~（地点·时候·方面·状况）”。<br>における也有汉字，おける写作“於ける”，所以也表示有“关于”的意思。<br>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">来週、つくば神社において、夏祭りが行われます。（下一周在筑波神社会举行夏日祭。）</span><br><span class="line">ＩＴ分野における人材の教育に力を入れるべきだ。（应该在IT行业人才方面多投入教育资源。）</span><br></pre></td></tr></table></figure><ul><li>大部分情况下，において的作用其实和で是相同的，但是在前面接续名词比较模糊，含糊的时候用において会比较奇怪，例如：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">近所のスーパーにおいて、牛乳をかってくれ。（这样使用会有点奇怪）</span><br><span class="line">近所のスーパーで、牛乳をかってくれ。（正常的使用）</span><br></pre></td></tr></table></figure><h2 id="26-につれて（に連れて）">26.　につれて（に連れて）</h2><p>につれて的意思是“随着……”，一般在表述渐进的变化时会使用，瞬间的变化则不能使用。<br>Aが変化していくと、それが理由でＢもだんだん変化する。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">年を取るにつれて、性格も温和になってきた。（随着年纪变大，性格逐渐温和起来了。）</span><br><span class="line">産業が発展するにつれて、公害の問題も深刻になってきた。（随着产业的发展，公害问题也变得深刻起来了。）</span><br></pre></td></tr></table></figure><h2 id="27-～み・～め">27. ～み・～め</h2><p>这两者都是形容词或者动词变形的方法。对比之前我们了解到的“～さ”。～さ表示的是一种<strong>程度</strong>。例如“強さ”，意思是“强度”；如果把“さ”改成“み”，也就是“強み”，意思就是“优点；强的地方”，还有比如说“痛み”，表示痛苦；<br>而“～め”表示的是，比标准的某个程度多一点点的状态，有点抽象，举几个例子，例如：“強め”，表示“强一些”；“濃いめ”，表示“口味重一点”；还有在日本拉面店常常需要用到的，“少なめ”，表示“少一点”，例如你想让老板“油放少一点”，就可以说“油は少なめ。”<br>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今回は強めにパーマをかけました。（这次烫发用得强了一点。）</span><br></pre></td></tr></table></figure><h2 id="28-にわたって">28. にわたって</h2><p>にわたって表示在~范围内；经由~；涉及~，他的汉字写作“に渡って”或者“に渉って”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3時間にわたって専門家による意見交換が行われた。（经过了3个小时和专家进行了意见交换。）</span><br><span class="line">今回の台風で町の全域にわたって被害が出た。（这一次的台风的灾害影响到了整个城市。）</span><br></pre></td></tr></table></figure><h2 id="29-～ば～ほど・～なら～ほど">29.～ば～ほど・～なら～ほど</h2><p>～ば～ほど・～なら～ほど表示“越~越~”。不同的词性接续姐不同，主要有以下几种用法：</p><ol><li>【動詞条件形】＋動詞辞書形＋ほど</li><li>【い形容詞条件形】＋い形容詞条件形～い＋ほど</li><li>【な形容詞条件形】＋な形容詞条件形～な＋ほど</li><li>名詞＋ほど（比较少见）</li></ol><p>括号部分表示可以省略。意思表达不变。<br>依次来看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">働ければ働くほど収入も増えます。（越是工作收入就越多。*正相关影响）</span><br><span class="line">勉強すれば勉強するほどわからなくなります。（越学习变得越不懂。 *负相关影响）</span><br><span class="line">この果物は気温が高ければ高いほど生長が早くなります。（气温越高这个水果生长得就越快。）</span><br><span class="line">住む場所は静かなら静かなほどいいです。（住的地方越安静越好。）</span><br><span class="line">優秀な社員ほどすぐに会社を辞めてしまいます。（越是优秀的员工越容易辞去工作。）</span><br></pre></td></tr></table></figure><h2 id="30-～はともかく【として】">30. ～はともかく【として】</h2><p>～はともかく的意思是“姑且不论~；先别说~”，非常常用。牢记。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">彼女が作ってくれた料理は見た目はともかく、とても美味しかった。（姑且不说她做的料理的样子，总之很好吃。）</span><br><span class="line">何を学ぶかはともかくとして、大学を卒業したほうが就職に有利です。（先别说学的是什么，大学毕业后总之能对找工作有帮助。）</span><br></pre></td></tr></table></figure><h2 id="31-～だけでなく・ばかりでなく">31. ～だけでなく・ばかりでなく</h2><p>～だけでなく・ばかりでなく表示“不但~而且”。是常用的关联词，表示递进语气。“～だけでなく”比“ばかりでなく”更加常用一点，也就是说后者是更加书面的表达。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">この美術館は作品を見るだけでなく 触ることもできます。（这个美术馆的作品不仅可以看还可以摸。）</span><br><span class="line">タバコは本人ばかりでなく周りの人の健康にも悪影響がある。（烟不仅对本人，也对周围的人的健康有不好的影响。）</span><br></pre></td></tr></table></figure><h2 id="32-～向き・～向け">32. ～向き・～向け</h2><p>前者表达的意思是“适合XX”，后者表达的意思是“针对XX”。这是他们的词性导致的，向き是自动词，所以动作出发点在于主语本身，向け是他动词，动作出发点在于外在环境。所以前者表示A适合B，是人在主管判断下事物A的本身属性；后者表示A针对B，是人特地为B创造的。</p><h2 id="33-ものか">33.　ものか</h2><p>ものか的意思是“哪能~；怎么会~；怎么可能~”。在现实中非常常见，但其一般都以<strong>缩约形式</strong>表现。也就是“もんか”。是不是熟悉很多？看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">彼がまじめ？まじめなものか。彼は遊び人だよ。（他很认真？一点都不认真！他是游手好闲之人！）</span><br><span class="line">彼の話は嘘に決まっている。誰が信じるもんか。（他说的话一定是谎话，谁会相信？）</span><br></pre></td></tr></table></figure><h2 id="34-～わけがない・～わけない">34. ～わけがない・～わけない</h2><p>～わけがない表示“不可能~；不会~”，使用的时候常常把が省略，也就变成了わけない。“わけ”来源于日语中的“訳（わけ）”，意思是“借口”（总是由“借口”引申到“不能，不可能”的意思相当之怪），但是作为文法，其以假名形式表现。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">全く勉強しないで、司法試験に合格できるわけがない。（一点都不学习的话，是不可能通过法律考试的。）</span><br><span class="line">インスタント食品ばかり食べていたら、体にいいわけがない。（只吃速食食品的话，身体是不可能好的。）</span><br></pre></td></tr></table></figure><ul><li>要注意的是以下两种类似的语法：</li><li><ol><li>わけではない</li></ol></li><li><ol start="2"><li>わけにはいかない</li></ol></li></ul><p>わけではない表示“不一定”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">お金があれば、幸せになれるわけではない。（有钱也不一定会让你快乐。）</span><br></pre></td></tr></table></figure><p>わけにはいかない表示在“道理上尝试上做不到”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">大事な会議があるから、会社を休むわけにはいかない。（因为有一个重要的会议，我不能耽误公司的工作。）</span><br></pre></td></tr></table></figure><h2 id="35-～も～ば・なら、～も～">35. ～も～ば・なら、～も～</h2><p>～も～ば・なら、～も～表示的是“即，又”关系的关联词。不是很常见，不是很直观。但要注意的是，前后两小句的语气性质需要相同（都是消极或都是积极）。直接看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">あの食堂は味も良ければ、値段も安い。（那个食堂不仅味道很好，价格也很便宜。）</span><br><span class="line">あの学校は勉強が好きな子もいれば、嫌いな子もいる。（那个学校里既有喜欢学习的孩子，也有讨厌学习的孩子。）</span><br></pre></td></tr></table></figure><h2 id="36-わけだ">36. わけだ</h2><p>わけだ用在句尾表示“难怪是…… 所以……”，对于前半小句的必然结论。有以下几种语境的情况：</p><ol><li>换言</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一か月前は８２㎏だ、今は７５㎏だ。つまり一か月で７㎏痩せたわけだ。（一个月前我82公斤，现在75公斤。也就是说一个月我瘦了7公斤。）</span><br></pre></td></tr></table></figure><ol start="2"><li>推论</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">子供のころ中国に住んでいたんですか。じゃあ、中国語が話せるわけですか。（小时候在中国住过吗？所以，难怪会说中国话吗？）</span><br></pre></td></tr></table></figure><ol start="3"><li>理解</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">あの二人、結婚らしいですよ。（那两个人，好像结婚了。）</span><br><span class="line">そうなんですか。道理で最近いつも一緒いるわけだ。（这样子吗，怪不得最近一直呆在一起啊。）</span><br></pre></td></tr></table></figure><ol start="4"><li>起因</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">小さい頃、医者に命を助けてもらいました。それで私も医学の道に進んだわけだ。（小时候医生曾救过我的命。所以之后我也走上了医学的道路。）</span><br></pre></td></tr></table></figure><h2 id="37-わりに（割に）">37.わりに（割に）</h2><p>わりに表达的是“虽然但是”的意思，但他不是非常直接的翻译成“虽然但是”，只是隐含了这一层关联性。实际上它表现的是“偏离了某种事物一般属性，但仍然……”的感觉，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ここは都心に近いわりに緑豊か（みどりゆたか）で閑静（かんせい）な住宅街（じゅうたくがい）だ。（这里虽然离市中心很近但是却是绿树成荫的安静惬意的住宅街。）</span><br><span class="line">今の会社は仕事が大変なわりに給料が少ないので、できれば転職したい。（现在的公司虽然工作很麻烦但是工资还低，可以的话我希望跳槽。）</span><br></pre></td></tr></table></figure><h2 id="38-～を込めて・～がこもった（籠った）">38.～を込めて・～がこもった（籠った）</h2><p>～を込めて・～がこもった 前者的意思表示“注入~”,后者的意思表示“充满~”。显然，前者是他动词，后者是自动词。通常一般形容饱含了某种情绪，然后做某件事。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">お世話になった高校の先生に感謝に込めて手紙を書いた。（给一直以来关照我的高中老师写了饱含感谢的信。）</span><br><span class="line">毎日会社で妻の愛情がこもったお弁当を食べています。（每天在公司吃着住满了妻子爱心的便当。）</span><br></pre></td></tr></table></figure><h2 id="39-～のもとで・～のもとに">39. ～のもとで・～のもとに</h2><p>意思是“在~之下”。用法是“AのもとでB”,表示“在A的影响下，B”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">私は伊原先生のご指導のもとで比較言語学を研究しています。（我在伊原老师的指导下研究比较语言学。）</span><br><span class="line">政府による支援のもと、様々な職業訓練のクラスが開かれている。（在政府的帮助下，各种各样的职业训练课程开展了。）</span><br></pre></td></tr></table></figure><h2 id="40-～かのように">40. ～かのように</h2><p>～かのように表示“像~一样”，后面接续名词时可以用“～かのような”，用在句尾时则可以用“～かのようだ。” <strong>这里的像~一样，是“B不是真的A”的情况</strong>，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">彼はいつもロボットであるかのように無表情だ。（他总是像一个机器人一样没有表情。（不是真的机器人））</span><br><span class="line">宝くじが当たった。まるで夢を見ているかのようだ。（中彩票了。简直和做梦一样。（不是真的做梦））</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N3知识点扫盲（接5）&lt;/h1&gt;
&lt;h2 id=&quot;21-だらけ&quot;&gt;21. だらけ&lt;/h2&gt;
&lt;p&gt;だらけ的意思是“全是~”，“满是~”，是一个接尾词，用法是“Aだらけ”，意为“全是A”。多用在&lt;strong&gt;消极的表达&lt;/strong&gt;，有一种&lt;strong&gt;全是A附着的</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列5</title>
    <link href="https://yigexiaogai.github.io/2023/05/15/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%975/"/>
    <id>https://yigexiaogai.github.io/2023/05/15/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%975/</id>
    <published>2023-05-15T07:24:43.000Z</published>
    <updated>2023-06-01T09:47:00.041Z</updated>
    
    <content type="html"><![CDATA[<h1>N3知识点扫盲</h1><p>到N3之后，陌生的文法就大量出现了，只能说当时学的是个勾八。加油吧（笑）。</p><h2 id="1-动词-一方だ">1. 动词+一方だ</h2><p>“一方だ”表示“一直怎么样”。<br>这里的动词一般和趋势有关，比如以下几个：<br>増える、減る、上がる、下がる、強まる、弱まる、大きくなる、小さくなる</p><ul><li>増える一方だ。（一直在增长。）<br>如果用数学说明的话，就是单调增长，如果整体增长，但中间有下降的话，这么使用会很奇怪。</li></ul><h2 id="2-（な・の）＋うえ（に）">2. （な・の）＋うえ（に）</h2><p>Aうえに、B意思是“不但A，而且B”，这里的A和B需要是同一种情态的，例如都是积极的，或者都是消极的。这个用法在生活中很常见，而且很容易理解，但是常常被忽略，因为我们常常习惯用副词——“さらに”来表达递进的情绪，而不是使用文法。</p><p>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">この店の刺身は安いうえに、美味しい。（这家店的刺身不仅便宜，而且好吃。）</span><br><span class="line">この店の刺身は高いうえに、美味しくない。（这家店的刺身不仅贵，而且不好吃。）</span><br></pre></td></tr></table></figure><h2 id="3-（普通形な・の）＋うちに（内に）">3. （普通形な・の）＋うちに（内に）</h2><p>うちに的意思是“乘着某一段时间去做某事”的文法。其实如果看汉字就好理解了，<strong>うち</strong> 的汉字是<strong>内</strong>，所以就是在“某个时段内”如何如何。</p><p>还有一种引申的意思是，“乘着A的时候，做B事”，这里的B事件包含有一定的意外性。</p><p>看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">学生のうちに、旅行をもっともっとします。（乘着还是学生的时候，要多多旅行。）</span><br><span class="line">先生の動画を見ているうちに、寝てしまいました。（在看老师的视频的时候，不小心睡着了。）</span><br></pre></td></tr></table></figure><h2 id="4-おかげ（御陰）">4. おかげ（御陰）</h2><p>おかげ在口语中常常会听到，是“多亏了”的意思，使用场景主要有两种，一种是对某人表达感谢，一种是对某人<strong>阴阳怪气</strong> （笑）。口语中常常听到“XXXのおかげで”。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生のおかげで、合格しました！（多亏了老师，我合格了！）</span><br></pre></td></tr></table></figure><p>但是，这种最基础的用法谁都知道，来点不一样的。在文法中，其实有“おかげで”和“おかげか”的区别，前者接续的是 <strong>确定</strong> 的事情，后者接续的 <strong>不确定</strong> 的事情，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">池の水を抜いて清掃したおかげか、水鳥がたくさん来るようになった。（可能多亏了清理排空池塘的水，水鸟来的变多了。）</span><br></pre></td></tr></table></figure><p>おかげ在句尾会以 <strong>おかげだ</strong>　的形式结尾；而在句首则会常常以 <strong>おかげさまで</strong>的形式开头，省略主语“您”。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">おかげさま（御陰様）で、傷が治った。（多亏了您，我的伤好了。）</span><br></pre></td></tr></table></figure><h2 id="5-（辞書形・ない・名詞の）恐れがある">5. （辞書形・ない・名詞の）恐れがある</h2><p>意思是“恐怕有……”的意思。很好理解。其实际意思和“かもしれない”相似，但是语气更加的书面和正式，通常会用在 <strong>新闻播报</strong> 之类的地方。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">この地震による津波のおそれがある。（由于这个地震恐怕会有海啸。）</span><br></pre></td></tr></table></figure><h2 id="6-かける、かけ">6. かける、かけ</h2><p>かける是一个复合类的动词，它表示“某动作刚开始做”，“某动作还没完成”，“某动作进行到一半”等等。举几个简单的小例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">食べかける。（刚刚开吃/吃到一半）</span><br><span class="line">遊びかける。（刚刚开玩/玩到一半）</span><br><span class="line">たべかけのリンゴ。（吃到一半的苹果）</span><br></pre></td></tr></table></figure><p>在文法中，常有以下这种用法：<br>Aかける、B   刚刚开始做A，就B。<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">彼女は何か言いかけて、下が向いてしまった。（她刚要说什么，就低下了头。）</span><br></pre></td></tr></table></figure><h2 id="7-（動詞ます形去ます・名詞）＋がち">7. （動詞ます形去ます・名詞）＋がち</h2><p>がち是一个复合接续词，表示“经常”的意思，表示某种倾向。“Aがち”的意思就是“经常A”，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">忘れがち（经常忘记）==よく忘れる</span><br><span class="line">休みがち（经常休息）==よく休む</span><br><span class="line">病気がち（经常生病）==よく病気になる</span><br></pre></td></tr></table></figure><p><strong>接续了がち的词，如果是名词+がち，则继续看作一个名词ます，所以后面可以加の接续名词；如果是动词去ます+がち，则看作一个二类形容词，可以加な接续名词。</strong><br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">最近病気がちの祖母（そぼ）のことがとても心配です。（我总是很担心最近经常生病的祖母的事情。）</span><br><span class="line">この映画はありがちなストーリーでおもしろくなかった。（这部电影是常有的套路一点都不有趣。）</span><br></pre></td></tr></table></figure><h2 id="8-AからBにかけて">8. ＡからＢにかけて</h2><p>ＡからＢにかけて表示的是“从A到B”，主要是表示<strong>时间范围</strong>，和以前学过的～から～まで用法类似，但是不同的地方在于：</p><ul><li>～から～まで表示的是具体的时间点，是非常确定的，例如：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">九時半から十一時まで授業がある。（从9点半到11点有课。）</span><br></pre></td></tr></table></figure><ul><li>～から～にかけて表示的是模糊的时间点，这个和に的用法很有关系，例如：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">朝十時ごろから正午にかけて雨が降った。（从早上10点到中午会下雨。）</span><br></pre></td></tr></table></figure><ul><li>下雨是没有具体几点几分开始和几点几分结束，所以必须使用～から～にかけて</li></ul><h2 id="9-から【に】は">9. から【に】は</h2><p>からには的意思是“既然……”，中间的に可以省略。<br>一般的用法是：“Aからには、B”，这里的B，是说话人充满了决心、决意要做的事情。<br>还有两个意思类似的词语，<strong>“うえは”、“以上は”</strong>，接续也完全一致，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">仕事を引き受けたからには・うえは・以上は、最後まで責任を持って、やらなければならない。（既然决定接受了这份工作，知道最后也要负起责任，不完成是不行的！）</span><br></pre></td></tr></table></figure><h2 id="10-かわりに">10. かわりに</h2><p>かわりに的汉字是“代わりに”，所以其意思是代替，代价，主要的用法也围绕“代替和代价”。</p><ol><li>代替</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今日は田中先生のかわりに私が授業します。（今天由我来代替田中老师上课。）</span><br></pre></td></tr></table></figure><ol start="2"><li>反面</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ここは家賃が安いかわりに交通が不便です。（这里虽然房租很便宜但是另一方面交通很不便利。）</span><br></pre></td></tr></table></figure><ol start="3"><li>代价</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">引っ越しを手伝ってもらったかわりに食事をごちそうした。（作为他们帮助我搬家的代价，我请他们吃饭。）</span><br></pre></td></tr></table></figure><h2 id="11-のことだから・のことだ">11. のことだから・のことだ</h2><p>のことだから的意思是“因为是……”，主要的使用方法是： Aのことだから，B。   其中B是对A的推测。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">やさしい前田さんのことだから、お願いすれば手伝ってくれるはずです。（因为是温柔的前田，拜托他的话应该会提供帮助的吧。）</span><br></pre></td></tr></table></figure><h2 id="12-最中に">12. 最中に</h2><p>最中に的意思是“正好在……”，“正在……的时候”。而且是做这个事情最为高潮的时候。例如 <strong>映画の最中に</strong>　就是说看电影到高潮处，正兴奋劲儿呢，如果是电影刚刚开始，那可能算不上“最中に”。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">パーティーの最中に悲しいニュースが入ってきました。（正好在派对中传来了悲伤的消息。）</span><br></pre></td></tr></table></figure><h2 id="13-ことになっている">13. ことになっている</h2><p>ことになっている的意思是“按照规定”，“有决定”。なる和する天生一对，なる是外部决定，也就是<strong>环境或者多人决定</strong>，する是内部决定，也就是<strong>自己决定</strong>。所以显然也有<strong>ことにしている</strong>的文法。</p><p>ことになっている的“决定”的事情是在过去决定的，“ている”则表示现在处于被决定的状况，常常用来表达“规定”、“规则”、“预定”的事情，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">明日、秋葉原駅で友達とあうことになっています。（明天（预定）和朋友在秋叶原车站见面。）</span><br><span class="line">ここではタバコを吸ってはいけないことになっています。（这里（规定）不能吸烟。）</span><br></pre></td></tr></table></figure><h2 id="14-ことにしている">14. ことにしている</h2><p>正如上面所说，ことにしている是自己决定的某事，这件事情是在以前就决定的，并且现在还在坚持做，例如以前决定了每天运动，现在仍然在恪守：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">朝で毎日運動することにしています。（每天早上都坚持跑步。）</span><br></pre></td></tr></table></figure><h2 id="15-ことになる用法2">15. ことになる用法2</h2><p>以前讲过ことになる是外部决定的事情，这一次，我们要讲一下引申的意思，ことになる还可以表达“也就是说”的意思——一件事情发展理所应当会变成某种样子。实际上这也是一种外部决定，即由A推导到B，B就是被A所决定了。<br>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一日１００グラム痩（や）せれば、一か月で３キロ瘦せることになります。（每天瘦100克的话，一个月就能瘦3公斤。）</span><br></pre></td></tr></table></figure><h2 id="16-～さえ＋条件形＋ば">16. ～さえ＋条件形＋ば</h2><p>～さえ～ば的意思是“只要就”，用法有非常的多啊，有以下这么几种：</p><ol><li>名词+さえ+条件形</li><li>动词ます形去ます+さえ+条件形</li><li>动词て形+さえ+动词条件形</li><li>一类形容词い变く+さえ+あれば</li><li>二类形容词+で＋さえ+あれば</li></ol><p>有这么多使用方法，我们结合一下具体例子来说明吧，我们可以设定两个句子，A&amp;B:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A: あなたがいてくれる。（你来了）</span><br><span class="line">B: 他に何も要らない。（其他都不用了）</span><br></pre></td></tr></table></figure><p>我们要让句子变成，“<strong>只要</strong>你来了，其他<strong>就</strong>都不用了。”那我们根据文法，怎么变呢？</p><ol><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あなたさえいてくれれば、他に何も要らない。</span><br></pre></td></tr></table></figure><ol start="2"><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あなたがいてくれさえすれば、他に何も要らない。</span><br></pre></td></tr></table></figure><ol start="3"><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あなたがいてさえくれれば、他に何も要らない。</span><br></pre></td></tr></table></figure><p>当然，最常用的还是第一种，直接加在名词后面是最为简单的做法。<br>4和5我们单独用例句来说明：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">値段がやすくさえあれば、私は買います。（只要价格便宜的话，我就买。）</span><br><span class="line">交通が便利でさえあれば、引っ越します。（只要交通便利的话，我就搬家。）</span><br></pre></td></tr></table></figure><p>用法总体来说还是比较复杂的，需要牢记！</p><h2 id="17-だけ">17. だけ</h2><p>だけ的本意是“只有”，表达一种范围上的限定，其引申出来的意思就有“尽可能”、“要/想/能~多少就~多少”。だけ前面接续动词或者一二类形容词，后接名词时加の，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">持てるだけ持って行ってください。（想拿多少就拿多少走吧。）</span><br><span class="line">給料は欲しいだけあげます。（你想要多少工资就给你多少工资。）</span><br><span class="line">今日はできるだけ早く帰りたいです。（今天想尽可能早的回家。）</span><br></pre></td></tr></table></figure><h2 id="18-～たところ">18.～たところ</h2><p>～たところ的意思是“做~的结果”，在文法中通常表示为“Aたところ，B”，通常B的部分表示的<strong>意外的、超出意料外的的结果，如果是自己意志的动作，是不可以用这个文法的。</strong> 看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生に大学卒業後の進路を相談したところ、先生が就職口を紹介してくれた。（和老师商量了大学毕业后的去向之后，老师给我介绍了工作的地方。）</span><br></pre></td></tr></table></figure><p>那看一下这句怎么样呢？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生に大学卒業後の進路を相談したところ、私は大学院に進学することにした。（和老师商量了大学毕业后的去向之后，我决定进修大学院）×</span><br></pre></td></tr></table></figure><ul><li>这句话是不可以使用～たところ这个文法的，因为B的部分是我决定要进修大学院，是我本人的意志。在这里更适合用的是“～した後”。</li></ul><h2 id="19-～とたん（途端）「に」">19. ～とたん（途端）「に」</h2><p>～とたん的意思是“刚~就~”，在文法中 通常表示为“A～とたん，B”，に可以添加也可以省略。意思是“刚做完了A，B就发生了”。要注意的是，A和B中间，常常包含一种因果关系；B和上一条文法中的一样，要是<strong>预想外的，意外的结果</strong>， 看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">部屋の窓を開けたとたん、飼っていた小鳥が飛んで行ってしまった。（刚一打开房间的窗，养着的小鸟就飞走了。）</span><br></pre></td></tr></table></figure><h2 id="20-～たび（度）「に」">20. ～たび（度）「に」</h2><p>～たびに的意思是“每次，每回”，文法中以“Aたびに，B”的形式表现，意思是“每次做A的时候，都会发生B”。たびに其实可以等同于“～時に、いつも～”，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">おばあちゃんと会うたびに、お菓子をくれます。（每次和祖母见面的时候，她都会给我糖果。）</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N3知识点扫盲&lt;/h1&gt;
&lt;p&gt;到N3之后，陌生的文法就大量出现了，只能说当时学的是个勾八。加油吧（笑）。&lt;/p&gt;
&lt;h2 id=&quot;1-动词-一方だ&quot;&gt;1. 动词+一方だ&lt;/h2&gt;
&lt;p&gt;“一方だ”表示“一直怎么样”。&lt;br&gt;
这里的动词一般和趋势有关，比如以下几个：&lt;b</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列4</title>
    <link href="https://yigexiaogai.github.io/2023/04/30/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%974/"/>
    <id>https://yigexiaogai.github.io/2023/04/30/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%974/</id>
    <published>2023-04-30T07:50:25.000Z</published>
    <updated>2023-05-08T06:43:33.435Z</updated>
    
    <content type="html"><![CDATA[<h1>N4知识点扫盲（接3）</h1><p>我服了，N4这么多知识点缺口是吧，基础不牢地动山摇，怪不得我日语这么差，原来是我眼高手低。</p><h2 id="21-～と（条件）">21. ～と（条件）</h2><p>と表示“一……就……”、“结果”、“的话”。在题目里面常常和たら、なら、動詞ば形等表示“的话”的词比较选择。<br>と作为条件使用时，给人感觉一种和理性、规则相关。接续时要注意普通型正常接，名词和动词要使用终止形（だ）。<br>主要有四种情况会用：</p><ol><li>恒常条件（最常用）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">春になると桜が咲きます。（春天到了樱花就开了。）</span><br><span class="line">彼はボーナスをもらうと全部洋服を使っています。（他一拿到奖金就全部用来买衣服了。）</span><br></pre></td></tr></table></figure><ol start="2"><li>假定条件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">追加で5000円払うと特等席で見られます。（追加支付5000元就可以在特等席上观看。）</span><br><span class="line">美人やイケメンだと得することが多いです。（美女帅哥总是能够受欢迎。（悲））</span><br></pre></td></tr></table></figure><ol start="3"><li>发现</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">桃を切ると中から可愛い赤ちゃんが出てきました。（一切开桃子中间就出来一个可爱的婴儿。（桃太郎））</span><br></pre></td></tr></table></figure><ol start="4"><li>继续动作（较少见）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先生が教室に入ると一枚の写真を学生たちを見せた。（老师一进教室就给学生们看了一张照片。）</span><br></pre></td></tr></table></figure><p>上面也提到，使用と一般都是比较理性、客观的场合，所以表达意向、意志、希望、要求的时候是不能用的哦。</p><h2 id="22-らしい（传闻·推量）">22.らしい（传闻·推量）</h2><p>らしい是“听说”、“好像”的意思，可以放在句尾，也可以放在名词后面。<br>らしい一般是用在说话人对某一个事实不确定，不肯定的时候。如果是医生或者律师这类人，在对事情下判断时，不能使用らしい。<br>传闻的用法，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">あの芸能人は浮気しているらしい。（那个艺人好像听说出轨了。）</span><br></pre></td></tr></table></figure><p>推测的用法，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">お客さんは並んでいる。この店は人気があるらしい。（客人都在排队。这个店好像很有人气。）</span><br></pre></td></tr></table></figure><p>如果发言带有一定的责任，则不能使用らしい，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">緊張型頭痛（×　らしい／〇　のよう）ですから、筋弛緩薬を処方します。（好像是紧张性头疼，给你开了肌肉松弛剂。）</span><br></pre></td></tr></table></figure><h2 id="23-らしい（典型）">23.らしい（典型）</h2><p>名词接らしい表达的是有什么什么的风格，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">日本人らしい（这很日本人）</span><br><span class="line">日本らしい（这很日本）</span><br></pre></td></tr></table></figure><p>らしい在这里更像是一个一类形容词，所以它也有否定形，名词形。<br><strong>否定形：らしくない</strong> <strong>名词形：らしさ</strong></p><p>有一个类似的表现： <strong>っぽい</strong><br>但是需要注意区分这两者，我们来看：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">①　ＡはＢっぽいです。</span><br><span class="line">②　ＡはＢらしいです。</span><br></pre></td></tr></table></figure><p>两者都是A有B的风格，但是对于第一句来说，A≠B，即A和B本质是不同的东西，但A表现出了B的属性，中文举个例：<br><strong>现在的成年人都挺小孩子气的</strong><br>对于第二句来说，A=B，A拥有的就是B的属性，还是中文举个例：<br><strong>幼儿园的小朋友都挺孩子气的</strong></p><p>理解了吧~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N4知识点扫盲（接3）&lt;/h1&gt;
&lt;p&gt;我服了，N4这么多知识点缺口是吧，基础不牢地动山摇，怪不得我日语这么差，原来是我眼高手低。&lt;/p&gt;
&lt;h2 id=&quot;21-～と（条件）&quot;&gt;21. ～と（条件）&lt;/h2&gt;
&lt;p&gt;と表示“一……就……”、“结果”、“的话”。在题目里面常</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列-围棋篇</title>
    <link href="https://yigexiaogai.github.io/2023/04/28/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%97-%E5%9B%B4%E6%A3%8B%E7%AF%87/"/>
    <id>https://yigexiaogai.github.io/2023/04/28/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%97-%E5%9B%B4%E6%A3%8B%E7%AF%87/</id>
    <published>2023-04-28T09:52:31.000Z</published>
    <updated>2023-04-30T07:48:42.665Z</updated>
    
    <content type="html"><![CDATA[<h1>围棋中的日语术语</h1><p>最近加了筑波大学的围棋社，部长是个漂亮的小姐姐（虽然按照年龄来说是妹妹），然后她说特别想学中文，还给我发了一个日语的围棋术语。可能是她每次见我指指点点的时候都真的只能“指指点点”，一句屁话说不出来，所以给我分享了一些实用的术语。真是泰裤辣！<br>这是字典的网页链接：<a href="https://kotobank.jp/jazhword/%E5%9B%B2%E7%A2%81">围棋中日辞书</a></p><ul><li>注：该版本围棋词典中对中国规则有描写勘误，已做更正。<br>以下为知识点：</li></ul><h2 id="1-围棋的起源">1. 围棋的起源</h2><p>日语：<br>囲碁“围棋wéiqí”は，“弈yì”“坐隐zuòyǐn”“手谈shǒután”“烂柯lànkē”“乌鹭wūlù”とも称される．尭舜(ぎようしゆん)の時代が起源という言い伝えがあり，春秋以降の文字記録に登場する．古代には，易経や天文学に用いられていたことが明らかになりつつある．古来，“琴棋书画qín qí shū huà”という呼称で音楽や書画とともに文人の嗜(たしな)みの一つとされ，日本へは唐代に伝わった．</p><p>中文：<br>围棋wéiqí &quot;也被称为 “弈yì”、“坐隐zuòyǐn”、“手谈shǒután” 也叫 “烂柯lànkē”、“乌鹭wūlù”。 据说它起源于尧舜时期，从春秋时期起就出现在书面记录中。 越来越清楚的是，在古代，它被用于《易经》和天文学。 自古以来，它被称为 “琴棋书画qín qí shū huà”，与音乐和书法一样，是文人的消遣方式之一，并在唐朝时传入日本。</p><h2 id="石の数え方の日中両国の違い">石の数え方の日中両国の違い</h2><p>日本では白・黒互いの石で囲んだ地を比較し，多いほうが勝ち．中国では白黒それぞれの盤面に生きて残っている石の数と囲んだ地の数の合計で比較するので，ダメづめは最後まで互いに置く．基本的に日中双方の結果はほぼ同じになるが，中国ではあげ石（取った相手の石）は，相手の囲った地をうめるのには使わず，相手の碁笥(ごけ)に返す．終局後の計算は白黒数えやすいほうのどちらかを計算して勝負を判断する．したがって盤面の目の総数は361であるから，180.5が半分の数，181あれば勝ち．コミ7目半（中国では2と4分の3と表現）がある場合は，黒184なら半目負けで黒185あれば半目勝ち．186あれば3目勝ち．白は176なら半目負け，177なら半目勝ち．</p><p>中文：<br>在日本，比较被黑棋和白棋包围的土地数量，拥有最多土地的一方获胜。 在中国，比较的依据是黑棋和白棋在棋盘上剩余的棋子数与被包围的土地数之和，因此，在游戏结束前，双方都会收完最后的子。 日本和中国的结果基本相同，但在中国，对方的棋子会被送回对方的地盘，而不是用来填补被对方棋子包围的地盘。 对局结束后，通过计算黑棋和白棋哪个更容易计算来决定胜负。 因此，棋盘上的棋子总数是361个，所以180.5是一半的数目，181是赢家。 如果有七个半来回（中文表述为三又四分之三），黑184输半分，黑185赢半分，186赢三分，白176输半分。 如果是176，白方就输半分，如果是177，就赢半分。</p><h2 id="一般用语">一般用语</h2><p>碁石（ごいし）｜围棋<br>白｜白棋<br>黒｜黑棋<br>白石（しろいし）｜白子<br>黒石（くろいし）｜黑子<br>碁盤（ごばん）｜棋盘<br>碁笥（ごけ）｜棋盒<br>プロ棋士（きし）｜职业棋手<br>アマチュア棋士（きし）｜业余棋手<br>置き碁（おきご）｜让子棋<br>互い先（たがいせん）｜对子棋<br>隅（すみ）｜角<br>左隅（ひだりすみ）｜左角<br>天元（てんげん）｜天元<br>星（ほし）｜星位<br>中央（ちゅうおう）｜中腹<br>左辺（さへん）｜左边<br>地（じ）｜实空<br>定石（じょうせき）｜定式<br>先番（せんばん）｜先下<br>布石（ふせき）｜布局<br>早碁（はやご）｜快棋<br>目（め）｜真眼<br>欠け目（かけめ）｜假眼<br>死に石（しにいし）｜死棋<br>生き石（いきいし）｜活棋<br>良い形（よいかたち）｜好形<br>悪い形（わるいかたち）｜坏形<br>捨て石（すていし）｜弃子<br>封じ手（ふうじて）｜封局<br>あげ石｜提子<br>大模様（おおもよう）｜大阵势</p><p>##　石の動きの用語（下棋用语）<br>碁を打つ（ごをうつ）｜下棋<br><strong>アタリ｜叫吃</strong><br>両アタリ（りょうアタリ）｜双打<br>一間トビ（いっけんトビ）｜一间跳<br>二間トビ（にけんトビ）｜二间跳<br>ケイマ｜小飞<br>大ゲイマ｜大飞<br>ツナギ｜接粘<br>コスミ｜尖<br>キリチガイ｜断<br>ノビ｜长<br>ハネ｜扳<br>カカリ｜挂<br>ヒラキ｜拆<br>ウチコミ｜打入<br>ノゾキ｜刺走<br>シチョウ｜征<br>シチョウアタリ｜引征<br><strong>コウ｜劫</strong><br>コウアラソイ｜劫争<br>本コウ｜紧劫<br>ポンヌキ｜提清开花<br><strong>ダメ｜气</strong><br>ダメヅメ｜紧气<br>手入れ｜收气<br><strong>セキ｜双活</strong><br>投了（とうりょう）｜认输<br>中押し（ちゅうおし）｜中盘胜<br>黒3目勝ち｜黑赢了三目<br>白半目負け｜白输了半目</p><p>感觉和念经一样，好难记。。。（😓</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;围棋中的日语术语&lt;/h1&gt;
&lt;p&gt;最近加了筑波大学的围棋社，部长是个漂亮的小姐姐（虽然按照年龄来说是妹妹），然后她说特别想学中文，还给我发了一个日语的围棋术语。可能是她每次见我指指点点的时候都真的只能“指指点点”，一句屁话说不出来，所以给我分享了一些实用的术语。真是泰裤辣</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
    <category term="围棋" scheme="https://yigexiaogai.github.io/tags/%E5%9B%B4%E6%A3%8B/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列3</title>
    <link href="https://yigexiaogai.github.io/2023/04/24/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%973/"/>
    <id>https://yigexiaogai.github.io/2023/04/24/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%973/</id>
    <published>2023-04-24T08:58:45.000Z</published>
    <updated>2023-04-28T09:50:07.237Z</updated>
    
    <content type="html"><![CDATA[<h1>N4知识点扫盲（接2）</h1><h2 id="11-～て＋授受动词">11.～て＋授受动词</h2><h3 id="～てあげます">～てあげます</h3><p>施惠者Aは受惠者Bに　动词て形 あげます。意为“A帮B做什么什么事。”<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私は田中さんに荷物を持ってあげました。（我帮田中拿行李。）</span><br></pre></td></tr></table></figure><p>要注意的事，あげます的施惠者一般是己方成员，同时，不能在面对对方的时候说，因为这样会感觉强行对面感谢自己的感觉。</p><p>###　～てもらいます<br>受惠者Aは施惠者Bに　动词て形 もらいます。意为“A请B帮忙做什么什么事。”</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私は田中さんに日本語を勉強してもらいます。（我请田中教我日语）</span><br></pre></td></tr></table></figure><p>常常会用到“拜托”式的语句，此时要把もらいます说成もらえませんか，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">荷物を持ってもらえませんか。（可以帮我拿行李嘛？）</span><br></pre></td></tr></table></figure><p>###　～てくれます<br>施惠者Aは受惠者B（己方成员）に　动词て形 あげます。意为“A帮B做什么什么事。”<br>用法上很类似あげます，但是要注意此时A不能是“己方成员”，B需要是己方成员。</p><h3 id="～やります">～やります</h3><p>施惠者A（地位高）は受惠者B（地位低）に　动词て形 あげます。意为“A帮B做什么什么事。”</p><h2 id="12-～いただきます">12. ～いただきます</h2><p>～いただきます是～もらいます的自谦语，所以用法上和后者一样。主要注意的是它的可能型：～いただけます，经常用。<br>下面给一个表现客气程度的序列，从上自下越来越客气：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">傘を貸してもらえる？</span><br><span class="line">傘を貸してもらえない？</span><br><span class="line">傘を貸してもらえますか？</span><br><span class="line">傘を貸してもらえませんか？</span><br><span class="line">傘を貸していただけますか？</span><br><span class="line">傘を貸していただけませんか？</span><br><span class="line">傘を貸していただけないでしょうか？</span><br></pre></td></tr></table></figure><h2 id="13-～ところです">13. ～ところです</h2><p>～ところです根据前面接续的动词时态可以表达三个意思：</p><ol><li>正要做什么</li><li>正在做什么</li><li>刚刚做完什么</li></ol><p>给出例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ご飯を食べるところです。（正要去吃饭。）</span><br><span class="line">ご飯を食べているところです。（正在吃饭。）</span><br><span class="line">ご飯を食べたところです。（刚吃过饭）== ご飯を食べたばかりです。</span><br></pre></td></tr></table></figure><p>其实有一个好记忆的方法，ところ的本意是“点”，“地方”。所以加上动词的意思就是“到了做某事的某个点（阶段）”。</p><ul><li>那么，普通型自然是还没做的事情，所以是“正要去做”</li><li>现在时自然是“正在做”</li><li>过去时自然是“刚刚在做”</li></ul><h2 id="14-～ようにします">14. ～ようにします</h2><p>～ようにします的意思是尽量做某事。看下面两个例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">毎日ジョギングにします。（每天慢跑。）</span><br><span class="line">毎日ジョギングにするようにします。（每天尽量慢跑。）</span><br></pre></td></tr></table></figure><ul><li>上面那句话就是很断言，很确定</li><li>下面这句话就是给自己留有余地，如果有一天特别累，就不会跑步，也是有可能的。</li></ul><p>如果变成习惯之后，常用的表达方法是 <strong>～ようにしています</strong>，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">毎日ジョギングにするようにしています。（每天（尽量）坚持慢跑。）</span><br></pre></td></tr></table></figure><p>如果是尽量请您做就会变成 <strong>～ようにしてください。</strong></p><h2 id="15-～（は）-ほど">15. ～（は）　ほど</h2><p>～は　ほど的文型是“不像什么什么”，“不如什么什么”的意思，直观的意思是“没有什么什么的程度”。看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">絵画が好きですが、兄ほど上手じゃありません。（虽然喜欢画画，但是不如哥哥那么会画画。）</span><br></pre></td></tr></table></figure><h2 id="16-～ように言います">16. ～ように言います</h2><p>～ように言います是在传达别人说的“要求做的话”时使用的句型。一般来说，转述的话都可以用 <strong>～と言います</strong> 来表达，所以当然 <strong>～と言います可以替换 ～ように言います</strong>，只不过，如果转述的话涉及到要求，这个文型在生活中还是很常见的。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">母は弟にリンゴを買ってくるように言いました。（妈妈对弟弟说去买苹果。）</span><br></pre></td></tr></table></figure><h2 id="17-～がります（～がる）">17. ～がります（～がる）</h2><p>～がります是一个很有趣的语法，它的意思是“有~的样子”，“想要~的样子”。<br>“～たい”大家肯定都了解，它表达“我”想要做什么事情，但是，如果你要说 <strong>“别人想要做什么”</strong>，就不能使用“～たい”。因为这是别人内心的想法，所谓“子非鱼”，你这么能 <strong>确定</strong>别人内心真正的所想呢？这个时候，动词“～たい”型就要变成“～たがる”型。先看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">僕は彼女を欲しいです。（我想要女朋友）</span><br><span class="line">僕の兄は彼女を欲しがっています。（我的哥哥想要女朋友）</span><br><span class="line"></span><br><span class="line">僕はご飯を食べたいです。（我想吃饭）</span><br><span class="line">僕の兄はご飯をたべたがっています。（我的哥哥想要吃饭）</span><br></pre></td></tr></table></figure><p>现在我们来讲一下这个句子是怎么变的。首先，第一人称下表达“想要做”有两种句型，1.～ほしい　2.～たい<br>对于非第一人称来说，这两种方法要使用～たがる，也就会变成，<strong>1.～ほしがる　2.～たがる</strong><br>而 <strong>别人的心理</strong>显然是一种状态，因此，常常要使用到表示状态的“～います”，也就变成了<strong>1.～ほしがっている　2.～たがっている</strong></p><p>最后我们就得到了如上的句型。总结一下就是：<br><strong>～たい去い＋がっています</strong>、 <strong>～ほしい去い＋がっています</strong></p><h2 id="18-动词变形大全">18.动词变形大全</h2><p>找到了一个非常好用的网页小程序，地址在这，<a href="https://jp-verb.xefan.com/#/">点这点这！</a><br>不过这里面少了两个变形规则，一个是<strong>禁止形</strong>，一个是<strong>使役被动形</strong>。望周知。</p><h2 id="19-尊敬语">19.尊敬语</h2><p><strong>尊敬语一定是使用在发生在对方身上的动作</strong><br>日语中表达尊敬主要有四种方式：</p><ol><li>被动表尊敬</li><li>お＋ます形去ます＋になります／ご＋动作性名词＋になります</li><li>お＋ます形去ます＋です／ご＋动作性名词＋です</li><li>尊敬語</li></ol><p>除了第四个变化是要死记硬背的，下面给出三类动词的前三种变化表格：</p><table><thead><tr><th></th><th>飲む</th><th>食べる</th><th>来る</th><th>勉強する</th></tr></thead><tbody><tr><td>1</td><td>飲まれる</td><td>食べられる</td><td>来られる</td><td>勉強される</td></tr><tr><td>2</td><td>お飲みになる</td><td>お食べになる</td><td>ー</td><td>ごべんきょうになる</td></tr><tr><td>3</td><td>お飲みです</td><td>お食べです</td><td>ー</td><td>ご勉強です</td></tr></tbody></table><p>对于第四类，我们要特别记住下面这个表格：</p><table><thead><tr><th>普通型</th><th>尊敬型</th></tr></thead><tbody><tr><td>する</td><td>なさる</td></tr><tr><td>言う</td><td>おっしゃる</td></tr><tr><td>行く</td><td>いらっしゃる</td></tr><tr><td>来る</td><td>いらっしゃる</td></tr><tr><td>いる</td><td>いらっしゃる</td></tr><tr><td>くれる</td><td>くださる</td></tr><tr><td>食べる</td><td>召し上がる</td></tr><tr><td>飲む</td><td>召し上がる</td></tr><tr><td>見る</td><td>ご覧になる</td></tr><tr><td>読む</td><td>ご覧になる</td></tr><tr><td>知る</td><td>ご存じです</td></tr><tr><td>座る</td><td>お掛けになる</td></tr><tr><td>与える</td><td>くださる</td></tr><tr><td>思う</td><td>思し召す</td></tr></tbody></table><ul><li>注意，在变成ます形的时候，なさる、おっしゃる、いらっしゃる、くださる要音便，不是“ります”，而是“います”。</li></ul><h2 id="20-谦让语">20.谦让语</h2><p><strong>谦让语一定是使用在己方发生的动作</strong><br>日语中表达谦虚主要有三大类：</p><ol><li>お＋ます形去ます＋します／ご＋动作性名词＋します</li><li>使役て形いただく・いただきませんか</li><li>自谦语</li></ol><ul><li>这里主要讲一下如何理解第二点</li></ul><p>先看一下例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">お先に帰らせていただきませんか。（请允许我先回去了。）</span><br></pre></td></tr></table></figure><p>这个文型的构成是 使役形+いただく，いただく是もらう的自谦，是（我）“得到了什么”的意思，那我得到了什么呢？ <strong>“我得到了你让我干某事的机会”</strong>，听起来是不是和拗口，在上面这个例句中就是，“我得到了你让我回去的机会”。</p><p>对于第三类，可以看这个表格：</p><table><thead><tr><th>普通形</th><th>自谦形</th></tr></thead><tbody><tr><td>する</td><td>いたす</td></tr><tr><td>言う</td><td>申す・申し上げる</td></tr><tr><td>行く</td><td>伺う、参る</td></tr><tr><td>来る</td><td>伺う、参る</td></tr><tr><td>いる</td><td>おる</td></tr><tr><td>食べる</td><td>いただく、頂戴する</td></tr><tr><td>飲む</td><td>いただく、頂戴する</td></tr><tr><td>見る</td><td>拝見する</td></tr><tr><td>読む</td><td>拝読する</td></tr><tr><td>聞く</td><td>拝聴する、伺う</td></tr><tr><td>知る</td><td>存じる、承知する</td></tr><tr><td>与える</td><td>差し上げる</td></tr><tr><td>思う</td><td>存じる、拝察する</td></tr><tr><td>分かる</td><td>かしこまる、承知する</td></tr><tr><td>受け取る</td><td>頂戴する、拝受する</td></tr><tr><td>会う</td><td>お目にかかる</td></tr><tr><td>帰る</td><td>おいとまする</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N4知识点扫盲（接2）&lt;/h1&gt;
&lt;h2 id=&quot;11-～て＋授受动词&quot;&gt;11.～て＋授受动词&lt;/h2&gt;
&lt;h3 id=&quot;～てあげます&quot;&gt;～てあげます&lt;/h3&gt;
&lt;p&gt;施惠者Aは受惠者Bに　动词て形 あげます。意为“A帮B做什么什么事。”&lt;br&gt;
例如：&lt;/p&gt;
&lt;fig</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列2</title>
    <link href="https://yigexiaogai.github.io/2023/04/13/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%972/"/>
    <id>https://yigexiaogai.github.io/2023/04/13/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%972/</id>
    <published>2023-04-13T09:24:52.000Z</published>
    <updated>2023-04-24T08:57:52.646Z</updated>
    
    <content type="html"><![CDATA[<h1>N4知识点扫盲</h1><h2 id="1-つもり">1.つもり</h2><p>つもり的意思是打算，一般有以下三种用法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 動詞辞書形＋つもり</span><br><span class="line">2. 動詞ない形＋つもり</span><br><span class="line">3. つもりはありません（没有XX的打算）</span><br></pre></td></tr></table></figure><p>类似用法的文法有：動詞意向形＋と思う・とおもっている</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">留学しようと思う。＝＝留学するつもりです。</span><br></pre></td></tr></table></figure><h2 id="2-過ぎます・過ぎです">2.過ぎます・過ぎです</h2><p>過ぎます的意思是过于什么什么，主要看他的接续：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 动词ます去ます＋過ぎる　例え：食べ過ぎる</span><br><span class="line">2. 一类形容词去い＋過ぎる　例え：高過ぎる</span><br><span class="line">3. 二类形容词去な＋過ぎる　例え：にぎやかすぎる</span><br></pre></td></tr></table></figure><p>有一个特别的一类形容词：ない<br>它接续会不太一样：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ない＋過ぎる＝＝なさすぎる</span><br></pre></td></tr></table></figure><h2 id="3-～もいいです・～もかまいません">3. ～もいいです・～もかまいません</h2><p>这两个表示 It is OK to do something<br>后者很容易被遗忘捏！但是日常生活中很好用！！上例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">その傘を借りてもいいですか。</span><br><span class="line">その傘を借りてもかまいませんか。</span><br></pre></td></tr></table></figure><p>这两者多用在疑问句中。<br>相反的，not OK to do something是什么呢？<br><strong>是这个：～てはいけません</strong></p><h2 id="4-ことになります・ことにします">4. ことになります・ことにします</h2><p>这两者的对比是日语前期一个很重要的考点。<br>众所周知啊，ことになります是被决定，决定的一方可以是环境、群众，反正就不是自己；ことにします则相反，就是自己决定，看例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">私たちは六月に結婚することになりました。（我们决定在六月结婚（不是一个人能决定的））</span><br><span class="line"></span><br><span class="line">明日からたばこをすわないことにします。（明天开始决定戒烟（自己决定的））</span><br></pre></td></tr></table></figure><p>这一次我写上的原因是我想到了好记忆的方法。<br>なります可以理解成“变成这样了”，所以不是自己决定的；します可以理解成“做什么事”，所以是自己决定的。</p><h2 id="5-～てきます・～ていきます">5. ～てきます・～ていきます</h2><p>这两者在日常生活中经常用到，用来表示动作的方向或者事物变化的趋势，不过我在生活中常常会忽略，或者仅仅用“なる”表示变化（😓</p><h3 id="～てきます">～てきます</h3><p>～てきます的意思是“什么什么起来了”，“什么什么过来了”的意思。<br>主要的用法有以下四个:</p><blockquote><p>动作的移动</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">私は昼ご飯を食べてきました。（我是吃过午饭来的）（千万别以为是，“我过来吃午饭”的意思）</span><br><span class="line">ちょっと飲み物を買ってきました。（我去买个饮料就回来）（这里有去去就回的意思，一定注意！）</span><br></pre></td></tr></table></figure><blockquote><p>动作的接近</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ボールは飛んできました。（球飞过来了）</span><br><span class="line">電話がかかってきました。（电话打过来了）</span><br></pre></td></tr></table></figure><blockquote><p>时间的变化</p></blockquote><p>～てきます可以表现的是“过去到现在”，或者“未来到 未来的未来”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">最近ずいぶん寒くなってきました。（最近真是变得冷起来了。）</span><br><span class="line">売り上げはだんだん増えてくる。（销售量逐渐增加起来了。）</span><br></pre></td></tr></table></figure><blockquote><p>（过去）动作的持续</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私は日本で半年ぐらい留学してきました。（我来日本大概留学半年了。（包含一种持续的感觉））</span><br></pre></td></tr></table></figure><h3 id="～ていきます">～ていきます</h3><p>～ていきます的意思是“什么什么下去了”，“什么什么过去了”的意思。<br>主要的用法同样有以下四个:</p><blockquote><p>动作的移动</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ちょっとコンビニに寄っていきます。（先去一下便利店再过去。）</span><br><span class="line">もう一杯飲んでいってください。（请再多喝一杯再走吧。）</span><br></pre></td></tr></table></figure><blockquote><p>动作的脱离</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ボールは飛んでいきました。（球飞过去了。）</span><br><span class="line">先生は教室に出ていきます。（老师从教室出去了。）</span><br></pre></td></tr></table></figure><blockquote><p>时间的变化</p></blockquote><p>～ていきます可以表现的是“现在到未来”，或者“过去的过去 到过去”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">これから天気は熱くなっていきます。（从现在开始天气要变热了。）</span><br><span class="line">氷河期になって恐竜の数は減っていった。（冰河时期的恐龙的数量减少了。）</span><br></pre></td></tr></table></figure><blockquote><p>（未来）动作的延续</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">私はこれから日本で留学していきます。（我从现在开始再日本留学。）</span><br></pre></td></tr></table></figure><h2 id="6-～てしまいます">6. ～てしまいます</h2><p>～てしまいます本身的意思是“完了”、“结束咧”，作为接续在句子尾部的部分，主要可以表达以下三种意思：</p><blockquote><ol><li>无法挽回的遗憾</li></ol></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">服が汚れてしまいました。（衣服被弄脏了。）</span><br></pre></td></tr></table></figure><blockquote><ol start="2"><li>动作快速完成，干脆进行（这个用法常常容易被忘记）</li></ol></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今日中にレポートをかいてしまいます。（今天就要把报告写完。）</span><br></pre></td></tr></table></figure><blockquote><ol start="3"><li>无法抵抗，无法控制（自己的情感）</li></ol></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">この小説を読んで、泣いてしまいました。（读了这个小说，情不自禁的哭了。）</span><br></pre></td></tr></table></figure><h3 id="缩约表现">缩约表现</h3><p>在口语中，～てしま常常被说成～ちゃ，所以才会有　<strong>忘れちゃった</strong> 的说法，其本来是 <strong>忘れてしまった</strong>。<br>如果动词て型是以で为结尾的，那么～ちゃ还要变成～じゃ，例如说：<strong>飲んでじゃった</strong></p><h2 id="7-～おきます">7. ～おきます</h2><p>～おきます的意思主要有两个：1. 事先准备；2.善后措施</p><ol><li>事先准备</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">旅行の前にお金に換えておきました。（旅行之前先把现金换好。）</span><br></pre></td></tr></table></figure><ol start="2"><li>善后措施</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">読み終わった本は本棚（ほんだな）に戻っておいてください。（请把读完的书还到书架上（放好））</span><br></pre></td></tr></table></figure><h3 id="缩约表现-2">缩约表现</h3><p><strong>てお</strong> 有时候在口语里会说成<strong>と</strong><br>同理，<strong>でお</strong> 会被说成<strong>ど</strong></p><h2 id="8-缩约表现整理">8. 缩约表现整理</h2><p>日语中我们已经接触并常常会接触一些缩约表现，具体可看下表：</p><table><thead><tr><th>缩约前</th><th>缩约后</th></tr></thead><tbody><tr><td>～<strong>てしま</strong>います</td><td>～<strong>ちゃ</strong>います</td></tr><tr><td>～<strong>でしま</strong>います</td><td>～<strong>じゃ</strong>います</td></tr><tr><td>～<strong>ては</strong></td><td>～<strong>ちゃ</strong></td></tr><tr><td>～<strong>では</strong></td><td>～<strong>じゃ</strong></td></tr><tr><td>～<strong>てお</strong>きます</td><td>～<strong>と</strong>きます</td></tr><tr><td>～<strong>でお</strong>きます</td><td>～<strong>ど</strong>きます</td></tr><tr><td>～な<strong>ければ</strong></td><td>～な<strong>きゃ</strong></td></tr><tr><td>～<strong>てい</strong>ます</td><td>～<strong>て</strong>ます</td></tr><tr><td>一类动词～らない（わか<strong>らない</strong>）</td><td>わか<strong>んない</strong></td></tr></tbody></table><h2 id="9-指示词P2">9.指示词P2</h2><p>补充一些指示词：</p><table><thead><tr><th></th><th>这样/那样</th><th>这样的/那样的</th><th>这么/那么（程度）</th><th>这样地/那样地（样态）</th></tr></thead><tbody><tr><td>近自己</td><td>こう</td><td>こんな</td><td>こんなに</td><td>このように</td></tr><tr><td>近对方</td><td>そう</td><td>そんな</td><td>そんなに</td><td>そのように</td></tr><tr><td>远方</td><td>ああ</td><td>あんな</td><td>あんなに</td><td>あのように</td></tr><tr><td>疑问词</td><td>どう</td><td>どんな</td><td>どんなに</td><td>どのように</td></tr></tbody></table><h2 id="10-～出します">10. ～出します</h2><p>～出します是一个接续用的复合动词，意思是（突然）开始做某事，和～始めます有类似的地方。当然还有其本意，“拿出什么什么”。<br>下面是例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">止めてあった車が急に動き出しました。（停在那里的车突然开始启动了。）</span><br></pre></td></tr></table></figure><p>但是<strong>要注意</strong>，表达说话人意志情感的动作是不能接续～出します的，而只能用～始めます<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">私は先月から日本語を勉強し出しました。×</span><br><span class="line">私は先月から日本語を勉強し始めました。○</span><br><span class="line">（我从上个月开始学习日语。）</span><br></pre></td></tr></table></figure><p>类似的接续词还有：<br>～続きます、～おわります、</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N4知识点扫盲&lt;/h1&gt;
&lt;h2 id=&quot;1-つもり&quot;&gt;1.つもり&lt;/h2&gt;
&lt;p&gt;つもり的意思是打算，一般有以下三种用法：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列1</title>
    <link href="https://yigexiaogai.github.io/2023/04/07/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%971/"/>
    <id>https://yigexiaogai.github.io/2023/04/07/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%971/</id>
    <published>2023-04-07T13:50:04.000Z</published>
    <updated>2023-04-24T08:09:33.030Z</updated>
    
    <content type="html"><![CDATA[<h1>N5知识点扫盲</h1><p>即使是N5的知识点，也会有盲点捏！</p><h2 id="1-～くします・～にします">1. ～くします・～にします</h2><p>～くします・～にします表示“决定做什么”，“弄成什么”<br>所以口语中的～にしてください其实就是～くします+ください，也就是“做什么”+“请你”。悟了！</p><p>例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">髪を短くします。</span><br><span class="line">ゼミは来週の火曜日にします。</span><br></pre></td></tr></table></figure><h2 id="2-指示词P1">2. 指示词P1</h2><p>参考视频：<a href="https://www.youtube.com/watch?v=oLFV9NVepJs&amp;list=PLynCeSdpMqxD4OJHjNB3QkmfzfD7B_s67&amp;index=26">指示词基础</a></p><p>指示词是非常基础的东西，但是一旦使用起来，可能也会让人摸不着头脑哦。所以要常常复习！先看下面的表格：</p><table><thead><tr><th></th><th></th><th></th><th>指东西·地方·人</th><th>指东西·地方·人</th></tr></thead><tbody><tr><td>指示词</td><td>指东西</td><td>指地方</td><td>尊敬用语</td><td>口语用语</td></tr><tr><td>近自己</td><td>これ・この</td><td>ここ</td><td>こちら</td><td>こっち</td></tr><tr><td>近对方</td><td>それ・その</td><td>そこ</td><td>そちら</td><td>そっち</td></tr><tr><td>远方</td><td>あれ・あの</td><td>あそこ</td><td>あちら</td><td>あっち</td></tr><tr><td>疑问词</td><td>どれ・どの</td><td>どこ</td><td>どちら</td><td>どっち</td></tr></tbody></table><ul><li>尊敬用语非常好用，你甚至可以不记前面的全部使用尊敬用于，因为反正都可以指代（笑）</li></ul><h2 id="3-授受关系动词">3. 授受关系动词</h2><h3 id="あげる">あげる</h3><p>あげる是给予的意思，用法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AはBに何々をあげます。（A给B什么什么东西）</span><br></pre></td></tr></table></figure><p>要注意以下这点：</p><ul><li>A的身份一定要是自己或者自身的人（例如父母兄弟，日语叫身内・みうち），这是因为あげる的词源是上げる，其实本意是献上的意思。所以这里面包含了上下关系，如果要消除这种上下关系，请使用くれる。</li></ul><h3 id="もらう">もらう</h3><p>もらう可以看作是あげる的逆操作，用法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AはBに何々をもらいます。（A从B这得到了什么什么东西）</span><br></pre></td></tr></table></figure><p>同时要注意一点：</p><ul><li>B的身份不能是自己或者自身的人，因为“从我这里得到东西”暗中有抬高自己的感觉，ダメ！</li></ul><h3 id="くれる">くれる</h3><p>不多说了，万能的给与，没有上下关系！</p><h3 id="やる">やる</h3><p>这是一个很容易被忽略的授受动词，在N5的时候，老师可能也不会讲它。这里的やる可不是“做”的意思，而是给与的意思，给与的对象则是明确的地位更低的人或东西，例如 <strong>自己的孩子，植物，动物</strong>，用法则是这样的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AはB（子供、植物、動物）に何々をやります。（A给B（孩子，植物，动物）什么什么东西）</span><br></pre></td></tr></table></figure><h2 id="4-に-接触">4. に 接触</h2><p>助词に可以表示接触的含义，碰到等。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">車が壁にぶつかりました。车碰到墙壁了。</span><br></pre></td></tr></table></figure><p>看以下两个句子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">私は駅で友達と会いました。</span><br><span class="line">私は駅で友達に会いました。</span><br></pre></td></tr></table></figure><ul><li>第一句话的感觉是，朋友已经在车站等我了，然后去见他；第二句话是我和朋友要同时出发去车站见面。有一些微弱的差别捏！</li></ul><h2 id="5-位置表现">5. 位置表现</h2><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>上</td><td>うえ</td></tr><tr><td>下</td><td>した</td></tr><tr><td>前</td><td>まえ</td></tr><tr><td>后</td><td>うしろ</td></tr><tr><td>左</td><td>ひだり</td></tr><tr><td>右</td><td>みぎ</td></tr><tr><td>中</td><td>なか</td></tr><tr><td>外</td><td>そと</td></tr><tr><td>旁边</td><td>となり</td></tr><tr><td>之间</td><td>あいだ</td></tr><tr><td>对面</td><td><strong>むかい</strong></td></tr><tr><td>附近</td><td>ちかく</td></tr></tbody></table><h2 id="6-を-脱离点和经过点">6. を 脱离点和经过点</h2><p>众所周知，を的主要功能是表示动作作用对象。<br>所以大部分情况下，を后面接续他动词。但实际上，を可以接自动词，这种情况を基本表示脱离或者经过。看下面例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">電車を降ります。（下车）</span><br><span class="line">横断歩道を渡ります。（经过平交道）</span><br><span class="line">公園を散歩します。（在公园散步）</span><br></pre></td></tr></table></figure><p>我们再来看一组接自动词的例句：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">教室を出ます。（从教室出去。）</span><br><span class="line">空を飛びます。（在天空飞过。）</span><br></pre></td></tr></table></figure><p>第一句中的出ます是自动词，原型为出る，“出去”的他动词本来是出す。<br>第二句中的飛びます是自动词，原型为飛ぶ，“飞”的他动词本来是飛ばす。<br>这两句中，动作的发出者并没有对教室或者天空进行作用，这里的を就是表示经过或者脱离的意思。</p><h2 id="7-てから">7.てから</h2><p>动词て型+から可以表示动作顺序，啊但是て型不是本来就能表示动作顺序吗？emmmm，我懂了，强调动作顺序！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">手を洗ってから、ご飯を食べます。</span><br></pre></td></tr></table></figure><h2 id="8-に表示分母">8.に表示分母</h2><p>名词に名词<br>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一週間に二回（一周两次）</span><br><span class="line">１００人に１２人（100人里的12人）</span><br><span class="line">一か月に３万円（一个月三万日元）</span><br></pre></td></tr></table></figure><h2 id="9-ころ和ごろ">9.ころ和ごろ</h2><p>ころ前面接续的是普通型/二类形容词+な/名词+の<br>ごろ前面接续的是时间点</p><p>注意区分 このころ和このごろ，意思会不一样。</p><ul><li>このころ表示“当时”</li><li>このごろ表示“最近这段时间”</li></ul><h2 id="10-自动词-ています・他动词-てあります">10. 自动词+ています・他动词+てあります</h2><p>自动词+ています表示事物的状态，不特别强调目的或者理由。<br>他动词+てあります同样表示事物的状态，但是强调了目的或者理由。<br>看下面四句话：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">１．ドアが開きます。（门开）</span><br><span class="line">２．ドアが開いています。（门开着）</span><br><span class="line">３．ドアを開けます。（开门）</span><br><span class="line">４．ドアが開けてあります。（门有开着）</span><br></pre></td></tr></table></figure><ul><li>关键在于最后一句话，门有开着，听起来像是开着门是为了做什么事或者说解答别人门是开着的。</li></ul><h1>结尾</h1><p>N5还是很简单的，盲点不多，进入N4咯！下节见。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;N5知识点扫盲&lt;/h1&gt;
&lt;p&gt;即使是N5的知识点，也会有盲点捏！&lt;/p&gt;
&lt;h2 id=&quot;1-～くします・～にします&quot;&gt;1. ～くします・～にします&lt;/h2&gt;
&lt;p&gt;～くします・～にします表示“决定做什么”，“弄成什么”&lt;br&gt;
所以口语中的～にしてください其实就是～く</summary>
      
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>日语复健系列0</title>
    <link href="https://yigexiaogai.github.io/2023/04/06/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%970/"/>
    <id>https://yigexiaogai.github.io/2023/04/06/%E6%97%A5%E8%AF%AD%E5%A4%8D%E5%81%A5%E7%B3%BB%E5%88%970/</id>
    <published>2023-04-06T10:01:18.000Z</published>
    <updated>2023-04-07T13:48:20.057Z</updated>
    
    <content type="html"><![CDATA[<h1>前言</h1><p>奶奶滴，来日本半年了，也没认识几个日本人！英语倒是进步了不少(来错国家了是吧？)。平时能用到日语的地方就只有点菜吃饭，你说气不气？所以我决定，还是回归课本吧。。。</p><h1>P1 时间</h1><p>日语生活中常常会用到时间，例如月份，日期等等，虽然是N5就学过的玩意儿，可有些真的很难记住，也容易说错啊，这一趴就来复习一下。<br>参考链接：<a href="https://www.youtube.com/watch?v=QRyu_Yud0gs&amp;t=307s">日语中的时间表现</a></p><h2 id="月份">月份</h2><p>首先来看月份：</p><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>一月</td><td>いちがつ</td></tr><tr><td>二月</td><td>にがつ</td></tr><tr><td>三月</td><td>さんがつ</td></tr><tr><td>四月</td><td><strong>し</strong>がつ</td></tr><tr><td>五月</td><td>ごがつ</td></tr><tr><td>六月</td><td>ろくがつ</td></tr><tr><td>七月</td><td><strong>しち</strong>がつ</td></tr><tr><td>八月</td><td><strong>はち</strong>がつ</td></tr><tr><td>九月</td><td><strong>く</strong>がつ</td></tr><tr><td>十月</td><td>じゅうがつ</td></tr><tr><td>十一月</td><td>じゅういちがつ</td></tr><tr><td>十二月</td><td>じゅうにがつ</td></tr></tbody></table><ul><li>这里要特别注意的是“四月”，“七月”，“八月”，“九月”，别的都比较普通。</li><li>可以发现，在月份中，“月”的发音是 <strong>“がつ”</strong> 。</li></ul><p>但是如果是，“几个月”——即表达一段时间区间该怎么说呢？例如，三个月？同样列出表格</p><table><thead><tr><th>中</th><th>日</th><th>假名</th></tr></thead><tbody><tr><td>一月</td><td>一ヶ月</td><td><strong>いっか</strong>げつ</td></tr><tr><td>二月</td><td>二ヶ月</td><td>にかげつ</td></tr><tr><td>三月</td><td>三ヶ月</td><td>さんかげつ</td></tr><tr><td>四月</td><td>四ヶ月</td><td>しかげつ</td></tr><tr><td>五月</td><td>五ヶ月</td><td>ごかげつ</td></tr><tr><td>六月</td><td>六ヶ月</td><td><strong>ろっか</strong>げつ</td></tr><tr><td>七月</td><td>七ヶ月</td><td><strong>ななか</strong>げつ</td></tr><tr><td>八月</td><td>八ヶ月</td><td>はちかげつ</td></tr><tr><td>九月</td><td>九ヶ月</td><td><strong>きゅうか</strong>げつ</td></tr><tr><td>十月</td><td>十ヶ月</td><td>じゅうかげつ</td></tr><tr><td>十一月</td><td>十一ヶ月</td><td><strong>じゅういっか</strong>げつ</td></tr><tr><td>十二月</td><td>十二ヶ月</td><td>じゅうにかげつ</td></tr></tbody></table><ul><li>会发现这里就复杂起来了，先总结几个简单的规律</li></ul><ol><li>日文的汉字要表达几个月的时间区间，只需要在本来的“数字”和“月”中加上一个 <strong>小写的“ヶ”</strong>　,但是，这里的这个“ヶ”读作 <strong>“Ka”</strong>，并不读作“Ke”，它其实就表示“个”的意思</li><li>再加完这个“ヶ”之后，“月”的发音被改变，<strong>从“がつ”变成“げつ”</strong></li></ol><ul><li>然后特别要注意的，带数字一的，后面都要变成促音接“ヶ”，例如一月、十一月。六月变成了 <strong>“ろっか”げつ</strong> ，七月和九月变回了正常发音（很容易搞错）——<strong>ななか</strong>げつ、 <strong>きゅうか</strong>げつ</li></ul><h2 id="日期">日期</h2><p>日语中的日期真的是很搞心态的一块，用了这么久也没有完全的记住，主要原因就是，太没有规律了。先上表格：</p><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>一号</td><td>ついたち</td></tr><tr><td>二号</td><td>ふつか</td></tr><tr><td>三号</td><td>みっか</td></tr><tr><td>四号</td><td>よっか</td></tr><tr><td>五号</td><td>いつか</td></tr><tr><td>六号</td><td>むいか</td></tr><tr><td>七号</td><td>なのか</td></tr><tr><td>八号</td><td>ようか</td></tr><tr><td>九号</td><td>ここのか</td></tr><tr><td>十号</td><td>とおか</td></tr><tr><td>十四号</td><td>じゅう <strong>よっか</strong></td></tr><tr><td>十七号</td><td>じゅう<strong>しち</strong>にち</td></tr><tr><td>十九号</td><td>じゅう<strong>く</strong>にち</td></tr><tr><td>二十号</td><td>はつか</td></tr><tr><td>二十四号</td><td>にじゅう<strong>よっか</strong></td></tr><tr><td>二十七号</td><td>にじゅう<strong>しち</strong>にち</td></tr><tr><td>二十九号</td><td>にじゅう<strong>く</strong>にち</td></tr><tr><td>其他日子</td><td>XXXX にち</td></tr></tbody></table><ul><li>你会发现，一号到十号加一个二十号，是那么的不同，这怎么记吗？在记忆之前，我们要知道为什么会发生这样的情况。</li><li>原来，像数字中1~10的读法是从中国传来的，例如いち、に、さん，但是，居住在岛国上的原住民本身就有对数字的叫法，也就是古语。我们来看一下这个表格：</li></ul><table><thead><tr><th></th><th>中国传来</th><th>日本本土</th><th>日本日期</th></tr></thead><tbody><tr><td>1</td><td>いち</td><td>ひ</td><td>ついたち</td></tr><tr><td>2</td><td>に</td><td>ふ</td><td>ふつか</td></tr><tr><td>3</td><td>さん</td><td>み</td><td>みっか</td></tr><tr><td>4</td><td>し</td><td>よ</td><td>よっか</td></tr><tr><td>5</td><td>ご</td><td>いつ</td><td>いつか</td></tr><tr><td>6</td><td>ろく</td><td>む</td><td>むいか</td></tr><tr><td>7</td><td>しち</td><td>なな</td><td>なのか</td></tr><tr><td>8</td><td>はち</td><td>や</td><td>ようか</td></tr><tr><td>9</td><td>きゅう・く</td><td>ここの</td><td>ここのか</td></tr><tr><td>10</td><td>じゅう</td><td>とお</td><td>とおか</td></tr><tr><td>20</td><td>にじゅう</td><td>はた</td><td>はつか</td></tr><tr><td>30</td><td>さんじゅう</td><td>みそ</td><td>みそか（已经不用）</td></tr></tbody></table><ul><li>现在才知道，原来日期都是这么来的！</li><li>欸那为什么一号还是很不一样呢，因为一号的来源其实不是数字，而是来自于 <strong>月立ち（つきたち）</strong>，这个单词表示，一个月的开始，也就是一号！终于，一切都通顺了。</li><li>最后，日语中逢4，7，9，都得小小注意一下哦！</li></ul><h2 id="小时和分">小时和分</h2><p>小时其实没有什么特别的，特别之处就在逢4，7，9，变化规则和上面相同，但分钟还是有特别的地方的。看下表：</p><table><thead><tr><th>中</th><th>日</th></tr></thead><tbody><tr><td>1分</td><td>いっぷん</td></tr><tr><td>2分</td><td>にふん</td></tr><tr><td>3分</td><td>さんぷん</td></tr><tr><td>4分</td><td>よんぷん</td></tr><tr><td>5分</td><td>ごふん</td></tr><tr><td>6分</td><td>ろっぷん</td></tr><tr><td>7分</td><td>ななふん</td></tr><tr><td>8分</td><td>はっぷん</td></tr><tr><td>9分</td><td>きゅうふん</td></tr><tr><td>10分</td><td>じゅっぷん</td></tr></tbody></table><ul><li>规律：1，6，8，10音变，变促音+破音</li><li>以ん结尾的音变，变破音</li></ul>]]></content>
    
    
    <summary type="html">复健和扫盲一些日语知识点，希望它会有用！</summary>
    
    
    
    <category term="日语" scheme="https://yigexiaogai.github.io/categories/%E6%97%A5%E8%AF%AD/"/>
    
    
    <category term="语言" scheme="https://yigexiaogai.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="日语" scheme="https://yigexiaogai.github.io/tags/%E6%97%A5%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>学习尤克里里的第1天</title>
    <link href="https://yigexiaogai.github.io/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/"/>
    <id>https://yigexiaogai.github.io/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/</id>
    <published>2023-03-23T04:36:17.000Z</published>
    <updated>2023-06-01T09:50:35.073Z</updated>
    
    <content type="html"><![CDATA[<h1>踏入音乐的大门</h1><p>终于，在我的来回拉扯下，我终于踏入了名为音乐的大门。<br>以前我也有一把吉他，黑色的表面银色的琴弦，相当的漂亮，怎么说也要600块RMB。然而好景不长，练了一段时间之后，琴头逐渐变弯，弦距高得离谱，无论怎么练习，手上怎么长茧，都疼得离谱，那一刻，我的内心是绝望的，最后放下了吉他。而现在，我终于找到了一款适合我小手的乐器！那就是 <strong>尤克里里</strong> ！</p><h1>课程</h1><p>好的学习少不了优秀的课程，我主要看的是B站几位比较知名的UP主，链接如下：</p><ol><li><a href="https://www.bilibili.com/video/BV1Kx41147iq/?spm_id_from=333.337.search-card.all.click">趣弹音乐 尤克里里 弹唱</a></li><li><a href="https://space.bilibili.com/96974964/channel/seriesdetail?sid=1595560">喵了个艺 尤克里里 弹唱</a> 这个小姐姐超可以!甜！</li><li><a href="https://space.bilibili.com/71565747">白熊音乐ukulele</a></li></ol><p>也可以看油管，我一般是作为查漏补缺，或者随便看看。</p><h1>乐谱</h1><p>有时候想要弹的曲子找不到谱子怎么办呢？这里有几个找谱子的网站：</p><ol><li><a href="https://www.ukuleleba.com/">尤克里里吧</a></li><li><a href="https://www.17ukulele.com/list-1.html">17尤克里里</a></li><li><a href="https://www.ukulele-tabs.com/">Ukulele Tabs and chords</a>（国外）</li></ol><h2 id="始め">始め</h2><p>第一首练习的谱子是《七里香》，主要由四个和弦组成。前面的前奏有点难。<strong>我发现没有教学的时候，很难读懂节奏！</strong></p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E4%B8%83%E9%87%8C%E9%A6%99.png" class><h2 id="安静">安静</h2><p>第二首练习的谱子是《安静》，这个谱子不需要用到扫弦，比较难的和弦是Dm和Em和弦，尤其是Em，捏吗吗的！太难了。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%AE%89%E9%9D%99.jpg" class><h2 id="枫">枫</h2><p>第三首是《枫》，周杰伦牛逼！！ 这个谱子可以扫弦也可以不扫。难的是Fm和弦。以及和他相关的转换。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E6%9E%AB.jpg" class><h2 id="喜欢你">喜欢你</h2><p>第四首是《喜欢你》，来自beyond。超好听。这个不难，但我自己进行了一定的编排。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%96%9C%E6%AC%A2%E4%BD%A0.jpg" class><h2 id="I’m-yours">I’m yours</h2><p>第五首是《I’m yours》，也是我正在学的曲子，比较难的是前奏，D和弦的转换和节奏。</p><h2 id="小情歌">小情歌</h2><p>第六首是苏打绿的《小情歌》，太好听啦！不是特别难，和弦转换，加！油！</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%B0%8F%E6%83%85%E6%AD%8C.png" class><h2 id="花海">花海</h2><p>第七首还是周董的《花海》，这一天值得被纪念，去海滨公园了，小蓝花真的好漂亮，又认识了几位新的同学，大家都很友好，当然，她还是好漂亮，无法忍住心动，但这次心率应该没那么不正常了（笑）。</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E8%8A%B1%E6%B5%B7.jpg" class><h2 id="K歌之王">K歌之王</h2><p>第八首，K歌之王。最近情绪起起伏伏，伏伏伏伏，给我自己整不会了。我还是没一点进步，6.</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/K%E6%AD%8C%E4%B9%8B%E7%8E%8B.png" class><h2 id="偏爱">偏爱</h2><p>第九首，《偏爱》，仙剑奇侠传YYDS，我愿称之为Em和弦练习曲，不是啊这Em和弦怎么能这么难啊！？</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E5%81%8F%E7%88%B1.png" class><h2 id="记得">记得</h2><p>第十首，《记得》，emo了。什么时候才能练好指弹和前奏？很期待，很难，有点emo.</p><img src="/2023/03/23/%E5%AD%A6%E4%B9%A0%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C%E7%9A%84%E7%AC%AC1%E5%A4%A9/%E8%AE%B0%E5%BE%97.jpg" class>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;踏入音乐的大门&lt;/h1&gt;
&lt;p&gt;终于，在我的来回拉扯下，我终于踏入了名为音乐的大门。&lt;br&gt;
以前我也有一把吉他，黑色的表面银色的琴弦，相当的漂亮，怎么说也要600块RMB。然而好景不长，练了一段时间之后，琴头逐渐变弯，弦距高得离谱，无论怎么练习，手上怎么长茧，都疼得离谱</summary>
      
    
    
    
    <category term="小该的音乐之旅" scheme="https://yigexiaogai.github.io/categories/%E5%B0%8F%E8%AF%A5%E7%9A%84%E9%9F%B3%E4%B9%90%E4%B9%8B%E6%97%85/"/>
    
    
    <category term="尤克里里" scheme="https://yigexiaogai.github.io/tags/%E5%B0%A4%E5%85%8B%E9%87%8C%E9%87%8C/"/>
    
    <category term="乐谱" scheme="https://yigexiaogai.github.io/tags/%E4%B9%90%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>WebRTC从零开始（零）</title>
    <link href="https://yigexiaogai.github.io/2023/02/17/WebRTC%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%88%E9%9B%B6%EF%BC%89/"/>
    <id>https://yigexiaogai.github.io/2023/02/17/WebRTC%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%88%E9%9B%B6%EF%BC%89/</id>
    <published>2023-02-17T11:40:12.000Z</published>
    <updated>2023-06-01T09:47:00.041Z</updated>
    
    <content type="html"><![CDATA[<h1>前言</h1><p>为什么我要学习webRTC呢？因为在日本的研究中需要用到，虽然说也不仅仅是一个webRTC，还有前端、后端等等方面。</p><p>最近好像 <strong>chatGPT</strong> 很火，我们来看看它是怎么评价webRTC的吧！</p><p>我的评价是chatGPT说的对！<br>说得对，但是我还是不知道什么是webRTC捏。所以，还是来系统学习下吧。</p><p>我学习的链接依旧是B站上的课程。<a href="https://www.bilibili.com/video/BV1D14y1W7qp/?p=2&amp;spm_id_from=pageDriver&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">-&gt;点击这里&lt;-</a></p><h1>webRTC简介</h1><h2 id="什么是webRTC">什么是webRTC</h2><p>webRTC是谷歌公司下的提供互联网间网络通信服务的平台，简单来说，学会了webRTC，就可以开发一个网络聊天平台了，文字、音频、视频通信统统可以搞定。</p><h2 id="webRTC框架">webRTC框架</h2><p>这张图很抽象，我们将课程中的内容复述一下：</p><ol><li>紫色部分是Web应用开发者API层</li><li>蓝色实线部分是面向浏览器厂商的API层</li><li>蓝色虚线部分浏览器厂商可以自定义实现</li></ol><p><strong>特别是图中的PeerConnection为Web开发人员提供了一个抽象，从复杂的内部结构中抽象出来。</strong></p><h2 id="webRTC通话原理">webRTC通话原理</h2><p>在了解通话原理之前，我们要先思考一个问题，两个不同网络环境的浏览器，要实现点对点的实时音视频对话，难点在哪里？<br>你可能会说，哪哪都是难点啊，怎么获取摄像头或者麦克风的权限？怎么联络？<br>但实际上，难点在于网络的部分。</p><h3 id="媒体协商">媒体协商</h3><p>音视频通话要涉及到各种音视频编码，如果通话两方不支持一致的编码，显然，可能一边就黑屏了，或者就没声儿了。所以要让两方能够正常通话，我们要找到通话中一致的编码。举例如下：</p><p>在这张图里，我们会发现，两方都支持h264编码。那我们怎么知道两方都支持h264编码呢？<br><strong>有一个专门的协议 ，称为Session Description Protocol (SDP)，可用于描述上述这类信息，在WebRTC中，参与视频通讯的双方必须先交换SDP信息，这样双方才能知根知底，而交换SDP的过程，也称为&quot;媒体协商&quot;。</strong></p><h3 id="网络协商">网络协商</h3>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;前言&lt;/h1&gt;
&lt;p&gt;为什么我要学习webRTC呢？因为在日本的研究中需要用到，虽然说也不仅仅是一个webRTC，还有前端、后端等等方面。&lt;/p&gt;
&lt;p&gt;最近好像 &lt;strong&gt;chatGPT&lt;/strong&gt; 很火，我们来看看它是怎么评价webRTC的吧！&lt;/p&gt;

</summary>
      
    
    
    
    <category term="WebRTC" scheme="https://yigexiaogai.github.io/categories/WebRTC/"/>
    
    
    <category term="WebRTC" scheme="https://yigexiaogai.github.io/tags/WebRTC/"/>
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="研究相关" scheme="https://yigexiaogai.github.io/tags/%E7%A0%94%E7%A9%B6%E7%9B%B8%E5%85%B3/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始3</title>
    <link href="https://yigexiaogai.github.io/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/"/>
    <id>https://yigexiaogai.github.io/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/</id>
    <published>2023-02-16T10:47:38.000Z</published>
    <updated>2023-02-16T13:52:32.709Z</updated>
    
    <content type="html"><![CDATA[<h1>团队协作和结合IDEA</h1><p>上一节我们接触了 <strong>版本穿梭、分支和远端推送</strong> ，这说明我们已经能够在本地和远端管理项目了，接下来我们就需要在团队中合作了。</p><h2 id="团队协作">团队协作</h2><p>团队协作其实是比较简单的一块内容，其实就是在github上邀请团队中的成员，当成员同意之后，就可以修改代码，并且推送到远端，覆盖原有项目了。<br>具体可以看这个视频， 这也是我在学习的教程：<br><a href="https://www.bilibili.com/video/BV1vy4y1s7k6?p=24&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">尚硅谷git教程</a></p><h2 id="结合IDEA">结合IDEA</h2><p>主流的idea都支持git，因为作者本人用VS code比较多，所以在这里以Code为实例。</p><p>code在侧边栏中有一个路线的符号:</p><img src="/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/1.png" class><p>点击进入后，就会发现code提示了用户当前有的分支，当前文件的状态，当前可以执行的操作。<br>当有新文件时，code会在新文件后面加上“U”的字样，表明它未被追踪。当已经被追踪的文件内容有所改变时，code会在文件的后面加上“M”的字样，表明它已经被修改。点击该文文件，他就会告诉了你新加了哪些内容（或者删去了哪些内容）：</p><img src="/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/2.png" class><p>code提供了一个“+”按钮，让用户可以暂存更改，对应的有一个“-”号，用来撤回更改。</p><p>接下来就是提交： code需要你在提交之前在文本框输入提交信息，然后进行提交。但是注意，这里的提交只是本地提交，实际上就是“git commit”，如果要更新到远端，则还要点击“同步按钮”，这个操作就等于“git pull”.</p><img src="/2023/02/16/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B3/3.png" class><h2 id="小结">小结</h2><p>其实到这里，内容就基本上讲完了，还有一些特别细节的地方，或者不太常用的指令，我想这些就只有到真正工作中开发才能用到了。其实git内容不多，要使用并不难，但理解其底层逻辑才是最重要的。在这里贴上一下我学习，引用，参考的素材：</p><ol><li><a href="https://learngitbranching.js.org/?locale=zh_CN">一个很有用的学习git的游戏</a></li><li><a href="https://www.bilibili.com/video/BV1vy4y1s7k6/?spm_id_from=333.337.top_right_bar_window_custom_collection.content.click">尚硅谷课程</a></li><li><a href="https://www.bilibili.com/video/BV1r3411F7kn/?spm_id_from=333.337.search-card.all.click&amp;vd_source=3d73f51879206e4a4df14c2d1fb027e7">VS Code里使用Git和关联GitHub</a></li></ol><p>最后，其实我想说，我觉得还是命令行好，用idea总没那么舒爽~</p><p><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;团队协作和结合IDEA&lt;/h1&gt;
&lt;p&gt;上一节我们接触了 &lt;strong&gt;版本穿梭、分支和远端推送&lt;/strong&gt; ，这说明我们已经能够在本地和远端管理项目了，接下来我们就需要在团队中合作了。&lt;/p&gt;
&lt;h2 id=&quot;团队协作&quot;&gt;团队协作&lt;/h2&gt;
&lt;p&gt;团队协作其实是</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始2</title>
    <link href="https://yigexiaogai.github.io/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/"/>
    <id>https://yigexiaogai.github.io/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/</id>
    <published>2023-02-04T16:08:39.000Z</published>
    <updated>2023-02-05T06:51:42.983Z</updated>
    
    <content type="html"><![CDATA[<h1>版本穿梭、分支和远端推送</h1><p>在上一节中<a href="https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/">上一篇博客</a>，我们讲解了本地项目文件在git中的提交过程和状态查询的方法，这一小节，我们将讲解版本穿梭、分支和远端推送。</p><h2 id="版本穿梭">版本穿梭</h2><p>我们知道，git是一个版本管理的工具，那如何进行版本的管理呢？<br>在上一节中，我们提到，可以使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br><span class="line">git log</span><br></pre></td></tr></table></figure><p>两个指令来查看版本的信息。我们可以从中获得版本的版本号。例如下图，版本号就是“b9f048a”（和第一节不一样了，因为我为了写博客重新建了一个项目），我们先修改一下文件，搞一个第二个版本，以便进行实验。<br>我们在hello.txt里面第一行末尾加上五个1.</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/1.png" class><p>然后我们重新提交，此时再用git reflog发现，存在了两个版本，版本号分别为“b9f048a”和“f892d81”</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/2.png" class><p>如果这时候老板觉得，不要这五个1，还是第一个版本好，我们就需要使用以下这个指令，回到第一个版本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard b9f048a</span><br></pre></td></tr></table></figure><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/3.png" class><p>我们发现，版本已经回到第一个版本了，此时如果你回去看hello文件里的内容，五个1已经没有了！ <strong>需要注意，不是说回到第一个版本，第二个版本就没了！他还在呢！</strong><br><strong>实质上我们可以看到，是名为HEAD的指针指向了第一个版本号，因此版本才会回去了</strong></p><p>现在我们可以来看看.git文件夹中的文件了，里面就有一个叫“HEAD”的文件，我们使用记事本打开，发现内容是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/4.png" class><p><strong>意思是说，这个HEAD指针所在的位置就是master分支</strong></p><p>那我们能知道这个master分支是什么吗？ <strong>可以！</strong> 在.git文件夹中的这个路径下就有master文件，同样记事本打开查看，wow，恍然大悟了对吧！ <strong>master指向的就是这个版本号！</strong></p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/5.png" class><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/6.png" class><p>所以总结一下， <strong>git中版本管理的底层其实是由两个指针决定的</strong> ：<br>head指针-&gt;master（分支）指针-&gt;版本</p><p>是不是一下就清楚了！<br>另外，如果要再回到第二个版本，也是执行同一个指令，只要把版本号改成第二个版本的就行了。</p><h2 id="分支-branch">分支(branch)</h2><p>分支是一个相当重要的功能（机制），例如在企业里，我们可以使用分支来管理一个软件的各个版本，例如测试版、正式版、公司内部版、上市版……对于个人开发，我们可以使用分支对一个项目中的文件内容进行分类，或者并行开发，我的博客为了在两台电脑上同步更新，就使用了分支的功能。简单来说，分支可以是copy的关系，也可以是父子关系，更可以是分而治之的思维……</p><h3 id="分支的好处">分支的好处</h3><p>分支机制由两个好处：</p><ol><li>分支可以提高开发效率，促进并行开发</li><li>一个分支上项目出现问题，不会影响其他分支的内容，独立性。</li></ol><h3 id="查看-创建-切换-分支">查看/创建/切换 分支</h3><p>查看分支的指令比较简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -v</span><br></pre></td></tr></table></figure><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/7.png" class><p>创建分支的指令很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch 分支名</span><br></pre></td></tr></table></figure><p>例如这里，我创建了一个名为test的分支。使用查看的指令，就可以看到所有的分支：</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/8.png" class><p>切换的指令也很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout 分支名</span><br></pre></td></tr></table></figure><p>例如这里，我们切换到test分支，此时后面括号后的分支名提示我们，已经切换到test分支了。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/9.png" class><p>但是以下要注意的是，我们可以看一下test分支里面有什么。其实，创建分支默认就是 <strong>拷贝master分支</strong> ，所以创建初始，test里面也有一个hello文件，且内容完全一样。但是，我们可以开始尝试修改test分支了。例如，我们这里在hello文件中的第一行末尾写上5个a.然后提交。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/10.png" class><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/11.png" class><p>此时，test分支就已经和master分支不一样了, <strong>即使在windows的文件夹中，文件内容也有5个a了</strong>，他们俩就像双胞胎。但如果我们再切换回到master分支，文件内容会是什么呢，其实也很好猜，5个a会消失！所以，我们只要切换版本，直观上，明明你没有对文件夹做什么操作，里面的文件却能够改变，很神奇吧！</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/12.png" class><p><strong>要说的是，底层上，其实只是指针发生了改变</strong><br>当我们创建并切换到test分支时，head指针就从master改变指向指到了test。<br><strong>head-&gt;test-&gt;版本</strong></p><h3 id="合并分支">合并分支</h3><p>企业中，我们可能创建一个分支的目的，是为了给一个软件开发新的模块或者插件等等，当我们开发完之后，可能就要把分支和主分支合并了，从而给软件添加新的内容，这就是合并分支的作用。</p><p>命令非常的简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge 分支名 //把指定的分支合并到当前的分支上</span><br></pre></td></tr></table></figure><p><strong>这里有一点要注意，注释的意思有两点信息：</strong></p><ol><li>“分支名”是指定的分支</li><li><strong>当前分支会添加新的内容，但“指定的分支”自身的内容并不会改变</strong></li></ol><p>但是，合并分支存在两种情况，正常合并和冲突合并。</p><h4 id="正常合并">正常合并</h4><p>正常合并其实没有什么好说的，命令就是上面提到的“merge”。我们来尝试一下：</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/13.png" class><p>再次查看一下hello中的文件内容，会发现master中的hello也有了5个a</p><h4 id="冲突合并">冲突合并</h4><p>冲突合并实际才是最为常见的情况，怎么样会发生冲突呢？就是我对两个分支中的“ <strong>同一个地方</strong> ”做出不同的修改，此时要合并，git就会搞不懂了，因为它不知道要保留哪一个作为最终版本。在企业中，A和B对代码有不同的修改，此时就会产生这样的冲突，接下来我们试验一下。</p><p><strong>要注意的是，不同版本的git对“同一个地方”的概念不同，低版本的git认为同一个文件时同一个地方，但是高版本的git会认为文件中同一个代码行才是同一个地方。</strong></p><p>我们先在master分支中，文件第一行最后末尾加上“master”，再在test分支文件第一行末尾加上“test”，（注意改完都要重新提交），然后合并。<br>此时发现，git提示冲突！而且子啊括号中，变成了 <strong>（master|merging）</strong>，这种情况要怎么解决呢？</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/15.png" class><p>我们可以此时打开hello文件看看。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/16.png" class><p>其实git就提示你，冲突的地方在哪里了，我们只需要手动删除和保留内容就可以了。<br>例如我只想保留“master”，我就只要删掉提示符号和“test”即可。然后重新提交。大功告成。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/17.png" class><p>接下来我们测试一下，如果不是修改同一行会怎么样。</p><p>我们先在master分支中，文件第一行最后末尾加上“master”，再在test分支文件最后行末尾加上“test”，（注意改完都要重新提交），然后合并。<br>我发现，在我这里，仍然会出现冲突，且提示的文件变成了这样：</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/18.png" class><p>但我的git应该是最新的版本，所以上面的说法可能存在不对的地方，git对于同一个位置的定义，就是一个文件。</p><h2 id="链接远端">链接远端</h2><h3 id="创建远端库">创建远端库</h3><p>鉴于本博客的主要内容是git，在这里不讲述如何使用github。<br>但在本地库链接远端库之前，是需要在github（或者别的远端代码托管平台）创建一个远程库，而且建议，库的名字最好和本地库一样，便于记忆。</p><p>在创建了远程库之后，github会提供给我们两个库的链接，一个是http，一个是ssh，我们先用http。<br>接下来，我们来把本地库和远程库链接起来，指令很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;别名&gt; &lt;链接&gt; //</span><br></pre></td></tr></table></figure><ul><li>这个别名是因为链接比较复杂，所以给链接起个别名，这里建议也是取库的名字，便于记忆</li></ul><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/19.png" class><p>使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>可以查看现在有的链接。<br>欸，你会发现，明明我只链接一个链接，为什么会有两个（一个fetch，一个push）。害，一个拉取一个推送嘛，双向通道咯，不过fetch是包含了clone和pull两个方式的。</p><h3 id="推送">推送</h3><p>推送的指令很简单：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;别名&gt; &lt;分支&gt;</span><br></pre></td></tr></table></figure><ul><li>这里要注意，别名就是那个链接，然后git推送的最小单位是分支，所以要加上分支名</li></ul><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/20.png" class><ul><li>这里可能有人会弹出登录界面，这才是正常的。因为我在github上设置了ssh免密，相当于github已经认识我这台电脑了，所以可以直接传上去。</li></ul><p>现在，远程库就有我们的文件啦。</p><img src="/2023/02/05/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B2/21.png" class><h3 id="拉取">拉取</h3><p>如果远程库中的内容有改动，我们就要拉取新的内容到本地库，操作时类似的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;别名&gt; &lt;分支&gt;</span><br></pre></td></tr></table></figure><h3 id="克隆">克隆</h3><p>我相信克隆应该时大家最常见的操作了吧，毕竟，白嫖最香了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;远程库地址&gt;</span><br></pre></td></tr></table></figure><p>git clone 并不需要登录github，且会做三件事：</p><ol><li>拉取代码</li><li>初始化本地仓库</li><li>创建别名</li></ol><h2 id="总结-3">总结</h2><p>这一节我们讲了版本穿梭，分支，和远程仓库的连接，其实这已经包含了大部分的内容了，接下来，我们会接触到团队协作，还有就是使用IDEA集成git，挥这个之后，我们甚至不用打命令了。大家下次见！<br><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;版本穿梭、分支和远端推送&lt;/h1&gt;
&lt;p&gt;在上一节中&lt;a href=&quot;https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/&quot;&gt;上一篇博客&lt;/a&gt;，我们讲解了本地</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始1</title>
    <link href="https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/"/>
    <id>https://yigexiaogai.github.io/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/</id>
    <published>2023-01-28T06:17:39.000Z</published>
    <updated>2023-02-04T16:07:53.316Z</updated>
    
    <content type="html"><![CDATA[<h1>git指令与操作</h1><p>顺着上一篇博客<a href="https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/">上一篇博客链接</a> ，这一节我们来讲具体的git指令和操作了。</p><h2 id="初始化本地库">初始化本地库</h2><p>初始化本地库的指令是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/1.png" class><p>使用这个命令的意思就是，用户将要使用git来管理项目，而不是其他方法（例如手动管理）。<br>此时文件夹中会出现一个名字为 <strong>“.git”</strong> 的文件夹，但改文件夹默认为隐藏文件夹。（就是为了不要让普通人随意更改其中的文件，至于这之中的内容，我们要放到之后再说）</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/2.png" class><ul><li>可以看到，需要使用 <strong>“ll -a”</strong> 指令才能展示隐藏文件夹。</li></ul><h2 id="查看本地库状态">查看本地库状态</h2><p>查看本地库状态的指令是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>如图所示：</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/3.png" class><p>在git的返回信息中， <strong>“on branch master”</strong> 表示此时项目在默认的分支“master”上， <strong>“no commits yet”</strong> 表示还没有提交任何东西，毕竟是空文件夹嘛，而且它也告诉你 <strong>“nothing to commit”</strong> 。</p><p>所以让我们来新建一个test用的文本文件来试一下：</p><ol><li>输入vim hello.txt，该命令新建一个hello的文本文件并进入输入界面</li><li>按“i”进入输入模式</li><li>输入“Hello world!”或者别的内容</li><li>按“esc”退出</li><li>将光标回退到第一行第一格，使用“yy”复制第一行，使用“p”黏贴内容，我粘贴了三行。</li><li>输入“:wq”保存退出</li></ol><ul><li>这些用到的指令都是linux（包含vim）中的，因为git原先是基于linux内核开发的工具，所以。。。</li></ul><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/4.png" class><p>此时再输入“git status”，会发现反馈信息变了，git提示你有一个红色名字的文件“untracked（未追踪）”，这是因为你还没有告诉git这个你要对这个文件做什么，但是它推荐你使用 <strong>“git add”</strong> 命令将该文件加入到暂存区中，也就是说， <strong>追踪它！</strong> 。</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/5.png" class><h2 id="添加暂存区">添加暂存区</h2><p>添加暂存区的指令自然就是上面提到的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add</span><br></pre></td></tr></table></figure><p>具体来说，有几种常见方法。<br>第一，添加所有未追踪文件进入暂存区</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .   //或者</span><br><span class="line">git add -A</span><br></pre></td></tr></table></figure><p>“.”表示当前文件夹，“-A”表示“ALL”所有文件，因为我们命令台打开的位置就是当前文件夹，所以这两个指令是一样的。<br>第二，添加指定文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add hello.txt</span><br></pre></td></tr></table></figure><p>执行之后，再看一下状态，你会发现git用绿色的字告诉你，有新文件被追踪了！</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/6.png" class><ul><li>注意这里有一个warning，意思是说，你的 <strong>文章末尾的换行符会从LF格式替换成CRLF格式</strong>, 因为你是万恶的windows系统啦~~ 在linux中人家和你不一样啦~ 但是你如果是高贵的mac，就会发现，没有这个警告，总之，不用管他~</li></ul><p>同时git提示你，使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;file&gt;</span><br></pre></td></tr></table></figure><p>可以删除刚刚加入暂存区的文件，如图所示：</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/7.png" class><h2 id="提交本地库">提交本地库</h2><p>将文件提交到暂存区之后，就要将文件提交到本地库了，这就形成一次完整的版本！其命令是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;XXX&quot; &lt;file&gt;</span><br></pre></td></tr></table></figure><ul><li>-m “XXX” 是提交日志的信息，如果你只输入git commit，界面会自动跳转到让你输入日志信息。输入“#”则是保留为空信息。</li></ul><p>提交完成后，再次查看状态，git会告诉你“working tree clean”，工作树已经清空了，没有新的要递交的文件了。</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/8.png" class><p>使用指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure><p>可以查看提交库的日志信息，例如这里的反馈信息中的“c95011e”就是版本号。一般来说，这是自己做开发时使用的命令，如果是团队开发，则可以使用显示递交人的指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure><p>在这里，反馈信息就会提供完整的版本号和提交人信息了。团队开发很有用哦！</p><img src="/2023/01/28/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B1/9.png" class><h2 id="修改文件">修改文件</h2><p>如果对项目中的文件进行了修改，被修改的文件实际可以上可以被理解为新的文件，实际上也就是版本更新了，要提交修改过的文件实际上也是相同的操作，即上面的命令流程，这里就不做重复解释了。</p><h2 id="总结-2">总结</h2><p>这一节我们学习了对于本地库中文件的提交流程以及状态查看，至此，其实我们已经算得上是在用git管理项目了。下一节将会开始讲解项目版本的管理以及如何把项目推送到远端，例如github。敬请期待。<br><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;git指令与操作&lt;/h1&gt;
&lt;p&gt;顺着上一篇博客&lt;a href=&quot;https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/&quot;&gt;上一篇博客链接&lt;/a&gt; ，这一节我们来</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git从零开始0</title>
    <link href="https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/"/>
    <id>https://yigexiaogai.github.io/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/</id>
    <published>2023-01-13T15:00:21.000Z</published>
    <updated>2023-01-28T13:53:05.001Z</updated>
    
    <content type="html"><![CDATA[<h1>git从零开始</h1><p>好久没有更新博客了，sorry,每天都生活在教授的PUA下，水深火热。想着还是学点自己喜欢的东西吧。所以这篇博客他诞生了。<br>git是一个项目版本管理器，想必程序员或者项目管理人员，直白点说，只要接触github就得接触git吧？你难道不git clone？(滑稽.jpg)<br>git相关的知识内容不多也不难，然而每次要用到git的时候，却又很容易忘记。（顺便一提，我学git是为了能够在两台电脑上同步更新博客）所以接下来就让我们好好介绍一下这个程序员必须接触的版本管理神器吧！这一节中，我将对git进行一个简要的介绍。</p><h2 id="git简介">git简介</h2><p>git是一个项目版本管理器。什么是项目管理呢。来，上图!</p><img src="/2023/01/14/git%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B0/1.png" class><p>如图所示，这就是最简单的一种版本管理方式。例如，在老板要求你写一份项目报告时，你会有一个初稿，然后你对初稿不满意，进行了修改，得到了&quot;V2&quot;。提交之后，老板不满意，打回修改……最后你得到了最终稿，你保留所有的文件，放在一个文件夹里，你就得到了一份稿件的文件历史，这就是项目版本管理。而这种管理方式是在本地进行的，手法也非常的单纯。<br>久而久之，人们发现这样的版本管理存在着巨大的缺点：</p><ol><li>非常的单纯（愚蠢）！你想，一旦你电脑有一天烧了，这些项目直接消失了。</li><li>如果项目每一次的文件都很大呢，对于一个完整的程序项目来说，一份上G轻轻松松，如果像这样管理项目，你的硬盘可能就要爆了哟。</li></ol><p>因此，CVS（协作版本系统）诞生了。简单来说,CVS改进的点就是应用了客户端-服务器的模式。我们可以将项目修改的版本上传到服务器，服务器在一个局限的网络中，为所有客户端提供接口，每次需要以前项目的时候，就从服务器上扒拉下来。但是，CVS同样存在着缺点，如果服务器有一天也炸了呢？同样没有办法再找回那些数据了。因此，我们需要一种不仅在服务器中保留版本，在客户端同样能够保留版本历史的版本管理工具。<br><strong>git则提供了一个更加优秀的版本管理方法，让项目无论是在本地还是在云端，都可以得到很好的管控。</strong> 与云端或者远端相结合，最常见的手段就是利用github、gitee等平台。</p><h2 id="git原理">git原理</h2><p>git的工作原理非常简单，git将（<strong>本地</strong>）架构划分为三个层次：</p><ol><li>工作区</li><li>暂存区</li><li>本地库</li></ol><p>三个层级间的流可以表现为以下方式：</p><table><thead><tr><th></th><th>工作区</th><th>–&gt;git add–&gt;</th><th>暂存区</th><th>–&gt;git commit–&gt;</th><th>本地库</th></tr></thead><tbody><tr><td>备注</td><td>写代码的地方</td><td>将代码提交到暂存区</td><td>暂存代码的区域</td><td>将代码保存为一个版本提交到本地库</td><td>递交版本的区域</td></tr></tbody></table><p><strong>需要注意：</strong></p><ol><li><strong>工作区指的不是打开一个idea里面编辑代码的空间，而是代码文件存放的目录空间，比如XX文件夹内</strong></li><li><strong>工作区和暂存区内的内容（版本）都是可以删除的，但本地库中提交的版本，是不能删除的，因为每一个新版本都是基于上一个版本得到的，如果该功能被设计成能随意删除中间的一个版本，那就崩辣！</strong></li><li><strong>当然，最暴力的方法也有，就是把整个本地库都删除了（谁还不会删库跑路呢？）</strong></li></ol><p>你会发现，这里还少了一个内容，就是<strong>远程库</strong>。没错，以上是git在本地的工作流。如果想要将版本推送到远程库，例如github，就要使用另一个指令了。这里补充下本地库到远程库的表现。</p><table><thead><tr><th></th><th>本地库</th><th>–&gt;git push–&gt;</th><th>远程库</th></tr></thead><tbody><tr><td>备注</td><td>本地保存历史版本的区域</td><td>将代码推送到远端</td><td>远程仓库（比如github）</td></tr></tbody></table><h2 id="总结">总结</h2><p>在这一节，我简单讲了一下什么是git、git的工作流程，接下来，我就会讲具体的操作了，也是工作中基本的需要熟悉的操作。当然这中间还有关于 <strong>git的下载、安装、用户签名（账号密码)</strong> 的一些内容，但我觉得这些不是灵活的知识，所以就不做特别的讲解。<br>大家下一节再见！<br><img src="https://s2.loli.net/2023/01/28/rgB7yFv8cdwG9OT.jpg" alt></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;git从零开始&lt;/h1&gt;
&lt;p&gt;好久没有更新博客了，sorry,每天都生活在教授的PUA下，水深火热。想着还是学点自己喜欢的东西吧。所以这篇博客他诞生了。&lt;br&gt;
git是一个项目版本管理器，想必程序员或者项目管理人员，直白点说，只要接触github就得接触git吧？你难</summary>
      
    
    
    
    <category term="git" scheme="https://yigexiaogai.github.io/categories/git/"/>
    
    
    <category term="学习笔记" scheme="https://yigexiaogai.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="git" scheme="https://yigexiaogai.github.io/tags/git/"/>
    
  </entry>
  
</feed>
